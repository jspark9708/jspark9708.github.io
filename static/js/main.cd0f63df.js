/*! For license information please see main.cd0f63df.js.LICENSE.txt */
!function(){var e={823:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},93:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r)}(n(791));var i=r(n(649)),a=n(184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var s=(0,i.default)((0,a.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");t.Z=s},584:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=o},880:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r)}(n(791));var i=r(n(649)),a=n(184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var s=(0,i.default)((0,a.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram");t.Z=s},513:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3zM7.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S9.83 13 9 13s-1.5-.67-1.5-1.5zM16 17H8v-2h8v2zm-1-4c-.83 0-1.5-.67-1.5-1.5S14.17 10 15 10s1.5.67 1.5 1.5S15.83 13 15 13z"}),"SmartToy");t.Z=o},854:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r)}(n(791));var i=r(n(649)),a=n(184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var s=(0,i.default)((0,a.jsx)("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube");t.Z=s},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(350)},350:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return s},createChainedFunction:function(){return u},createSvgIcon:function(){return or},debounce:function(){return sr},deprecatedPropType:function(){return ur},isMuiElement:function(){return cr},ownerDocument:function(){return fr},ownerWindow:function(){return hr},requirePropFactory:function(){return dr},setRef:function(){return vr},unstable_ClassNameGenerator:function(){return Lr},unstable_useEnhancedEffect:function(){return yr},unstable_useId:function(){return kr},unsupportedProp:function(){return wr},useControlled:function(){return br},useEventCallback:function(){return Sr},useForkRef:function(){return Tr},useIsFocusVisible:function(){return Dr}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var s=o;var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=n(791),f=n.t(l,2),h=n(366);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function v(e,t){var n=c({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=c({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=c({},a),Object.keys(i).forEach((function(e){n[r][e]=v(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function m(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function g(e){if(!y(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=g(e[n])})),t}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=_(e[i],t[i],n):n.clone?r[i]=y(t[i])?g(t[i]):t[i]:r[i]=t[i])})),r}var k=n(942),w=["values","unit","step"],b=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return c({},e,(0,k.Z)({},t.key,t.val))}),{})};var x={borderRadius:4},S=n(439),E={xs:0,sm:600,md:900,lg:1200,xl:1536},T={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(E[e],"px)")}};function C(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||T;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||T;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||E).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function I(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function N(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function A(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function P(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:A(e,n)||i,t&&(r=t(r,i,e)),r}var R=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,s=function(e){if(null==e[t])return null;var n=e[t],s=A(e.theme,i)||{};return C(e,n,(function(e){var n=P(s,a,e);return e===n&&"string"===typeof e&&(n=P(s,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,k.Z)({},r,n)}))};return s.propTypes={},s.filterProps=[t],s};var O=function(e,t){return t?_(e,t,{clone:!1}):e};var D={m:"margin",p:"padding"},L={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},j=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!M[e])return[e];e=M[e]}var t=e.split(""),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=D[r],o=L[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),F=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],U=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],V=[].concat(F,U);function B(e,t,n,r){var i,a=null!=(i=A(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function q(e){return B(e,"spacing",8)}function z(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function W(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=z(t,n),e}),{})}}(j(n),r);return C(e,e[n],i)}function K(e,t){var n=q(e.theme);return Object.keys(e).map((function(r){return W(e,t,r,n)})).reduce(O,{})}function H(e){return K(e,F)}function G(e){return K(e,U)}function Z(e){return K(e,V)}H.propTypes={},H.filterProps=F,G.propTypes={},G.filterProps=U,Z.propTypes={},Z.filterProps=V;var Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?O(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function $(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Y=R({prop:"border",themeKey:"borders",transform:$}),J=R({prop:"borderTop",themeKey:"borders",transform:$}),X=R({prop:"borderRight",themeKey:"borders",transform:$}),ee=R({prop:"borderBottom",themeKey:"borders",transform:$}),te=R({prop:"borderLeft",themeKey:"borders",transform:$}),ne=R({prop:"borderColor",themeKey:"palette"}),re=R({prop:"borderTopColor",themeKey:"palette"}),ie=R({prop:"borderRightColor",themeKey:"palette"}),ae=R({prop:"borderBottomColor",themeKey:"palette"}),oe=R({prop:"borderLeftColor",themeKey:"palette"}),se=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=B(e.theme,"shape.borderRadius",4);return C(e,e.borderRadius,(function(e){return{borderRadius:z(t,e)}}))}return null};se.propTypes={},se.filterProps=["borderRadius"];Q(Y,J,X,ee,te,ne,re,ie,ae,oe,se);var ue=function(e){if(void 0!==e.gap&&null!==e.gap){var t=B(e.theme,"spacing",8);return C(e,e.gap,(function(e){return{gap:z(t,e)}}))}return null};ue.propTypes={},ue.filterProps=["gap"];var ce=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=B(e.theme,"spacing",8);return C(e,e.columnGap,(function(e){return{columnGap:z(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["columnGap"];var le=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=B(e.theme,"spacing",8);return C(e,e.rowGap,(function(e){return{rowGap:z(t,e)}}))}return null};le.propTypes={},le.filterProps=["rowGap"];Q(ue,ce,le,R({prop:"gridColumn"}),R({prop:"gridRow"}),R({prop:"gridAutoFlow"}),R({prop:"gridAutoColumns"}),R({prop:"gridAutoRows"}),R({prop:"gridTemplateColumns"}),R({prop:"gridTemplateRows"}),R({prop:"gridTemplateAreas"}),R({prop:"gridArea"}));function fe(e,t){return"grey"===t?t:e}Q(R({prop:"color",themeKey:"palette",transform:fe}),R({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fe}),R({prop:"backgroundColor",themeKey:"palette",transform:fe}));function he(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var de=R({prop:"width",transform:he}),pe=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return C(e,e.maxWidth,(function(t){var n,r,i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||E[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:he(t)}}))}return null};pe.filterProps=["maxWidth"];var ve=R({prop:"minWidth",transform:he}),me=R({prop:"height",transform:he}),ye=R({prop:"maxHeight",transform:he}),ge=R({prop:"minHeight",transform:he}),_e=(R({prop:"size",cssProperty:"width",transform:he}),R({prop:"size",cssProperty:"height",transform:he}),Q(de,pe,ve,me,ye,ge,R({prop:"boxSizing"})),{border:{themeKey:"borders",transform:$},borderTop:{themeKey:"borders",transform:$},borderRight:{themeKey:"borders",transform:$},borderBottom:{themeKey:"borders",transform:$},borderLeft:{themeKey:"borders",transform:$},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:se},color:{themeKey:"palette",transform:fe},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fe},backgroundColor:{themeKey:"palette",transform:fe},p:{style:G},pt:{style:G},pr:{style:G},pb:{style:G},pl:{style:G},px:{style:G},py:{style:G},padding:{style:G},paddingTop:{style:G},paddingRight:{style:G},paddingBottom:{style:G},paddingLeft:{style:G},paddingX:{style:G},paddingY:{style:G},paddingInline:{style:G},paddingInlineStart:{style:G},paddingInlineEnd:{style:G},paddingBlock:{style:G},paddingBlockStart:{style:G},paddingBlockEnd:{style:G},m:{style:H},mt:{style:H},mr:{style:H},mb:{style:H},ml:{style:H},mx:{style:H},my:{style:H},margin:{style:H},marginTop:{style:H},marginRight:{style:H},marginBottom:{style:H},marginLeft:{style:H},marginX:{style:H},marginY:{style:H},marginInline:{style:H},marginInlineStart:{style:H},marginInlineEnd:{style:H},marginBlock:{style:H},marginBlockStart:{style:H},marginBlockEnd:{style:H},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ue},rowGap:{style:le},columnGap:{style:ce},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:he},maxWidth:{style:pe},minWidth:{transform:he},height:{transform:he},maxHeight:{transform:he},minHeight:{transform:he},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var ke=function(){function e(e,t,n,r){var i,a=(i={},(0,k.Z)(i,e,t),(0,k.Z)(i,"theme",n),i),s=r[e];if(!s)return(0,k.Z)({},e,t);var u=s.cssProperty,c=void 0===u?e:u,l=s.themeKey,f=s.transform,h=s.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return(0,k.Z)({},e,t);var d=A(n,l)||{};if(h)return h(a);return C(a,t,(function(t){var n=P(d,f,t);return t===n&&"string"===typeof t&&(n=P(d,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:(0,k.Z)({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;var u=null!=(r=s.unstable_sxConfig)?r:_e;function c(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=I(s.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=s,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])o=O(o,e(n,c,s,u));else{var l=C({theme:s},c,(function(e){return(0,k.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=O(o,l):o[n]=t({sx:c,theme:s})}else o=O(o,e(n,c,s,u))})),N(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();ke.filterProps=["sx"];var we=ke,be=["breakpoints","palette","spacing","shape"];var xe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=(0,h.Z)(e,be),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=(0,h.Z)(e,w),u=b(n),l=Object.keys(u);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:u,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=q({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),d=_({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:f,shape:c({},x,s)},u),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(d=v.reduce((function(e,t){return _(e,t)}),d)).unstable_sxConfig=c({},_e,null==u?void 0:u.unstable_sxConfig),d.unstable_sx=function(e){return we({sx:e,theme:this})},d};var Se=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ee=Math.abs,Te=String.fromCharCode,Ce=Object.assign;function Ie(e){return e.trim()}function Ne(e,t,n){return e.replace(t,n)}function Ae(e,t){return e.indexOf(t)}function Pe(e,t){return 0|e.charCodeAt(t)}function Re(e,t,n){return e.slice(t,n)}function Oe(e){return e.length}function De(e){return e.length}function Le(e,t){return t.push(e),e}var Me=1,je=1,Fe=0,Ue=0,Ve=0,Be="";function qe(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Me,column:je,length:o,return:""}}function ze(e,t){return Ce(qe("",null,null,"",null,null,0),e,{length:-e.length},t)}function We(){return Ve=Ue>0?Pe(Be,--Ue):0,je--,10===Ve&&(je=1,Me--),Ve}function Ke(){return Ve=Ue<Fe?Pe(Be,Ue++):0,je++,10===Ve&&(je=1,Me++),Ve}function He(){return Pe(Be,Ue)}function Ge(){return Ue}function Ze(e,t){return Re(Be,e,t)}function Qe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $e(e){return Me=je=1,Fe=Oe(Be=e),Ue=0,[]}function Ye(e){return Be="",e}function Je(e){return Ie(Ze(Ue-1,tt(91===e?e+2:40===e?e+1:e)))}function Xe(e){for(;(Ve=He())&&Ve<33;)Ke();return Qe(e)>2||Qe(Ve)>3?"":" "}function et(e,t){for(;--t&&Ke()&&!(Ve<48||Ve>102||Ve>57&&Ve<65||Ve>70&&Ve<97););return Ze(e,Ge()+(t<6&&32==He()&&32==Ke()))}function tt(e){for(;Ke();)switch(Ve){case e:return Ue;case 34:case 39:34!==e&&39!==e&&tt(Ve);break;case 40:41===e&&tt(e);break;case 92:Ke()}return Ue}function nt(e,t){for(;Ke()&&e+Ve!==57&&(e+Ve!==84||47!==He()););return"/*"+Ze(t,Ue-1)+"*"+Te(47===e?e:Ke())}function rt(e){for(;!Qe(He());)Ke();return Ze(e,Ue)}var it="-ms-",at="-moz-",ot="-webkit-",st="comm",ut="rule",ct="decl",lt="@keyframes";function ft(e,t){for(var n="",r=De(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ht(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ct:return e.return=e.return||e.value;case st:return"";case lt:return e.return=e.value+"{"+ft(e.children,r)+"}";case ut:e.value=e.props.join(",")}return Oe(n=ft(e.children,r))?e.return=e.value+"{"+n+"}":""}function dt(e){return Ye(pt("",null,null,null,[""],e=$e(e),0,[0],e))}function pt(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,_="",k=i,w=a,b=r,x=_;m;)switch(p=g,g=Ke()){case 40:if(108!=p&&58==Pe(x,f-1)){-1!=Ae(x+=Ne(Je(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Je(g);break;case 9:case 10:case 13:case 32:x+=Xe(p);break;case 92:x+=et(Ge()-1,7);continue;case 47:switch(He()){case 42:case 47:Le(mt(nt(Ke(),Ge()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=Oe(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(x=Ne(x,/\f/g,"")),d>0&&Oe(x)-f&&Le(d>32?yt(x+";",r,n,f-1):yt(Ne(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(Le(b=vt(x,t,n,c,l,i,s,_,k=[],w=[],f),a),123===g)if(0===l)pt(x,t,b,b,k,a,f,s,w);else switch(99===h&&110===Pe(x,3)?100:h){case 100:case 108:case 109:case 115:pt(e,b,b,r&&Le(vt(e,b,b,0,0,i,s,_,i,k=[],f),w),i,w,f,s,r?k:w);break;default:pt(x,b,b,b,[""],w,0,s,w)}}c=l=d=0,v=y=1,_=x="",f=o;break;case 58:f=1+Oe(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==We())continue;switch(x+=Te(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(Oe(x)-1)*y,y=1;break;case 64:45===He()&&(x+=Je(Ke())),h=He(),l=f=Oe(_=x+=rt(Ge())),g++;break;case 45:45===p&&2==Oe(x)&&(v=0)}}return a}function vt(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=De(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Re(e,f+1,f=Ee(v=o[p])),_=e;y<d;++y)(_=Ie(v>0?h[y]+" "+g:Ne(g,/&\f/g,h[y])))&&(u[m++]=_);return qe(e,t,n,0===i?ut:s,u,c,l)}function mt(e,t,n){return qe(e,t,n,st,Te(Ve),Re(e,2,-2),0)}function yt(e,t,n,r){return qe(e,t,n,ct,Re(e,0,r),Re(e,r+1,-1),r)}var gt=function(e,t,n){for(var r=0,i=0;r=i,i=He(),38===r&&12===i&&(t[n]=1),!Qe(i);)Ke();return Ze(e,Ue)},_t=function(e,t){return Ye(function(e,t){var n=-1,r=44;do{switch(Qe(r)){case 0:38===r&&12===He()&&(t[n]=1),e[n]+=gt(Ue-1,t,n);break;case 2:e[n]+=Je(r);break;case 4:if(44===r){e[++n]=58===He()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Te(r)}}while(r=Ke());return e}($e(e),t))},kt=new WeakMap,wt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||kt.get(n))&&!r){kt.set(e,!0);for(var i=[],a=_t(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},bt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function xt(e,t){switch(function(e,t){return 45^Pe(e,0)?(((t<<2^Pe(e,0))<<2^Pe(e,1))<<2^Pe(e,2))<<2^Pe(e,3):0}(e,t)){case 5103:return ot+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+e+at+e+it+e+e;case 6828:case 4268:return ot+e+it+e+e;case 6165:return ot+e+it+"flex-"+e+e;case 5187:return ot+e+Ne(e,/(\w+).+(:[^]+)/,ot+"box-$1$2"+it+"flex-$1$2")+e;case 5443:return ot+e+it+"flex-item-"+Ne(e,/flex-|-self/,"")+e;case 4675:return ot+e+it+"flex-line-pack"+Ne(e,/align-content|flex-|-self/,"")+e;case 5548:return ot+e+it+Ne(e,"shrink","negative")+e;case 5292:return ot+e+it+Ne(e,"basis","preferred-size")+e;case 6060:return ot+"box-"+Ne(e,"-grow","")+ot+e+it+Ne(e,"grow","positive")+e;case 4554:return ot+Ne(e,/([^-])(transform)/g,"$1"+ot+"$2")+e;case 6187:return Ne(Ne(Ne(e,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),e,"")+e;case 5495:case 3959:return Ne(e,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return Ne(Ne(e,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+it+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+e+e;case 4095:case 3583:case 4068:case 2532:return Ne(e,/(.+)-inline(.+)/,ot+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oe(e)-1-t>6)switch(Pe(e,t+1)){case 109:if(45!==Pe(e,t+4))break;case 102:return Ne(e,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+at+(108==Pe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ae(e,"stretch")?xt(Ne(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Pe(e,t+1))break;case 6444:switch(Pe(e,Oe(e)-3-(~Ae(e,"!important")&&10))){case 107:return Ne(e,":",":"+ot)+e;case 101:return Ne(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(45===Pe(e,14)?"inline-":"")+"box$3$1"+ot+"$2$3$1"+it+"$2box$3")+e}break;case 5936:switch(Pe(e,t+11)){case 114:return ot+e+it+Ne(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ot+e+it+Ne(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ot+e+it+Ne(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ot+e+it+e+e}return e}var St=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ct:e.return=xt(e.value,e.length);break;case lt:return ft([ze(e,{value:Ne(e.value,"@","@"+ot)})],r);case ut:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ft([ze(e,{props:[Ne(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ft([ze(e,{props:[Ne(t,/:(plac\w+)/,":"+ot+"input-$1")]}),ze(e,{props:[Ne(t,/:(plac\w+)/,":-moz-$1")]}),ze(e,{props:[Ne(t,/:(plac\w+)/,it+"input-$1")]})],r)}return""}))}}],Et=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||St;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l=[ht,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=De(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([wt,bt].concat(r,l));a=function(e,t,n,r){u=n,ft(dt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Se({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var Tt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ct(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var It=/[A-Z]|^ms/g,Nt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,At=function(e){return 45===e.charCodeAt(1)},Pt=function(e){return null!=e&&"boolean"!==typeof e},Rt=Ct((function(e){return At(e)?e:e.replace(It,"-$&").toLowerCase()})),Ot=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Nt,(function(e,t,n){return Lt={name:t,styles:n,next:Lt},t}))}return 1===Tt[e]||At(e)||"number"!==typeof t||0===t?t:t+"px"};function Dt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Lt={name:n.name,styles:n.styles,next:Lt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Lt={name:r.name,styles:r.styles,next:Lt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Dt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Pt(o)&&(r+=Rt(a)+":"+Ot(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Dt(e,t,o);switch(a){case"animation":case"animationName":r+=Rt(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Pt(o[u])&&(r+=Rt(a)+":"+Ot(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Lt,a=n(e);return Lt=i,Dt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Lt,Mt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var jt=!!f.useInsertionEffect&&f.useInsertionEffect,Ft=jt||function(e){return e()},Ut=(jt||l.useLayoutEffect,l.createContext("undefined"!==typeof HTMLElement?Et({key:"css"}):null));Ut.Provider;var Vt=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(Ut);return e(t,r,n)}))};var Bt=l.createContext({});var qt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l.useContext(Bt);return n&&(e=n,0!==Object.keys(e).length)?n:t},zt=xe();var Wt=function(){return qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt)};function Kt(e,t){var n;return c({toolbar:(n={minHeight:56},(0,k.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,k.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Gt(e){if(e.type)return e;if("#"===e.charAt(0))return Gt(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Zt(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Qt(e){var t="hsl"===(e=Gt(e)).type||"hsla"===e.type?Gt(function(e){var t=(e=Gt(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Zt({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function $t(e,t){if(e=Gt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Zt(e)}function Yt(e,t){if(e=Gt(e),t=Ht(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Zt(e)}var Jt={black:"#000",white:"#fff"},Xt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},en={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},tn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},nn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},rn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},an={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},on={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sn=["mode","contrastThreshold","tonalOffset"],un={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jt.white,default:Jt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cn={text:{primary:Jt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ln(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Yt(e.main,i):"dark"===t&&(e.dark=$t(e.main,a)))}function fn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,s=void 0===o?.2:o,u=(0,h.Z)(e,sn),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[200],light:rn[50],dark:rn[400]}:{main:rn[700],light:rn[400],dark:rn[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:en[200],light:en[50],dark:en[400]}:{main:en[500],light:en[300],dark:en[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[500],light:tn[300],dark:tn[700]}:{main:tn[700],light:tn[400],dark:tn[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:an[400],light:an[300],dark:an[700]}:{main:an[700],light:an[500],dark:an[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:on[800],light:on[500],dark:on[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nn[400],light:nn[300],dark:nn[700]}:{main:"#ed6c02",light:nn[500],dark:nn[900]}}(n);function y(e){var t=function(e,t){var n=Qt(e),r=Qt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,cn.text.primary)>=i?cn.text.primary:un.text.primary;return t}var g=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,u=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ln(t,"light",u,s),ln(t,"dark",f,s),t.contrastText||(t.contrastText=y(t.main)),t},k={dark:cn,light:un};return _(c({common:c({},Jt),mode:n,primary:g({color:l,name:"primary"}),secondary:g({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:d,name:"error"}),warning:g({color:m,name:"warning"}),info:g({color:p,name:"info"}),success:g({color:v,name:"success"}),grey:Xt,contrastThreshold:i,getContrastText:y,augmentColor:g,tonalOffset:s},k[n]),u)}var hn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var dn={textTransform:"uppercase"},pn='"Roboto", "Helvetica", "Arial", sans-serif';function vn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?pn:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,w=n.pxToRem,b=(0,h.Z)(n,hn);var x=o/14,S=w||function(e){return"".concat(e/g*x,"rem")},E=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===pn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},T={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,dn),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,dn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _(c({htmlFontSize:g,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},T),b,{clone:!1})}function mn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var yn=["none",mn(0,2,1,-1,0,1,1,0,0,1,3,0),mn(0,3,1,-2,0,2,2,0,0,1,5,0),mn(0,3,3,-2,0,3,4,0,0,1,8,0),mn(0,2,4,-1,0,4,5,0,0,1,10,0),mn(0,3,5,-1,0,5,8,0,0,1,14,0),mn(0,3,5,-1,0,6,10,0,0,1,18,0),mn(0,4,5,-2,0,7,10,1,0,2,16,1),mn(0,5,5,-3,0,8,10,1,0,3,14,2),mn(0,5,6,-3,0,9,12,1,0,3,16,2),mn(0,6,6,-3,0,10,14,1,0,4,18,3),mn(0,6,7,-4,0,11,15,1,0,4,20,3),mn(0,7,8,-4,0,12,17,2,0,5,22,4),mn(0,7,8,-4,0,13,19,2,0,5,24,4),mn(0,7,9,-4,0,14,21,2,0,5,26,4),mn(0,8,9,-5,0,15,22,2,0,6,28,5),mn(0,8,10,-5,0,16,24,2,0,6,30,5),mn(0,8,11,-5,0,17,26,2,0,6,32,5),mn(0,9,11,-5,0,18,28,2,0,7,34,6),mn(0,9,12,-6,0,19,29,2,0,7,36,6),mn(0,10,13,-6,0,20,31,3,0,8,38,7),mn(0,10,13,-6,0,21,33,3,0,8,40,7),mn(0,10,14,-6,0,22,35,3,0,8,42,7),mn(0,11,14,-7,0,23,36,3,0,9,44,8),mn(0,11,15,-7,0,24,38,3,0,9,46,8)],gn=["duration","easing","delay"],_n={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wn(e){return"".concat(Math.round(e),"ms")}function bn(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function xn(e){var t=c({},_n,e.easing),n=c({},kn,e.duration);return c({getAutoHeightDuration:bn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;(0,h.Z)(r,gn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:wn(a)," ").concat(s," ").concat("string"===typeof c?c:wn(c))})).join(",")}},e,{easing:t,duration:n})}var Sn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},En=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,s=void 0===o?{}:o,u=e.typography,l=void 0===u?{}:u,f=(0,h.Z)(e,En);if(e.vars)throw new Error(a(18));var d=fn(i),p=xe(e),v=_(p,{mixins:Kt(p.breakpoints,n),palette:d,shadows:yn.slice(),typography:vn(d,l),transitions:xn(s),zIndex:c({},Sn)});v=_(v,f);for(var m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return(v=y.reduce((function(e,t){return _(e,t)}),v)).unstable_sxConfig=c({},_e,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return we({sx:e,theme:this})},v}var Cn=Tn(),In="$$material";function Nn(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=Wt(r);return i&&(a=a[i]||a),m({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Cn,themeId:In})}var An=n(433),Pn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var Rn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},On=Ct((function(e){return Pn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Dn=function(e){return"theme"!==e},Ln=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?On:Dn},Mn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},jn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Rn(t,n,r),Ft((function(){return function(e,t,n){Rn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Fn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var s=Mn(t,n,a),u=s||Ln(o),f=!u("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Vt((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=l.useContext(Bt)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Lt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Dt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Dt(n,t,e[o]),r&&(i+=a[o]);Mt.lastIndex=0;for(var s,u="";null!==(s=Mt.exec(i));)u+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:c,styles:i,next:Lt}}(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===s?Ln(r):u,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,l.createElement(l.Fragment,null,l.createElement(jn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),l.createElement(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:Mn(m,r,!0)})).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Fn[e]=Fn(e)}));var Un=["variant"];function Vn(e){return 0===e.length}function Bn(e){var t=e.variant,n=(0,h.Z)(e,Un),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Vn(r)?e[t]:o(e[t]):"".concat(Vn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var qn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];var zn=function(e){var t={};return e&&e.forEach((function(e){var n=Bn(e.props);t[n]=e.style})),t},Wn=function(e,t,n){var r=e.ownerState,i=void 0===r?{}:r,a=[];return n&&n.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){i[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&a.push(t[Bn(n.props)])})),a};function Kn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Hn=xe();function Gn(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var Zn=function(e){var t,n=e.styledArg,r=e.props,i=n(c({},r,{theme:Gn(c({},r,{defaultTheme:e.defaultTheme,themeId:e.themeId}))}));if(i&&i.variants&&(t=i.variants,delete i.variants),t){var a=Wn(r,zn(t),t);return[i].concat((0,An.Z)(a))}return i};var Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?Hn:n,i=e.rootShouldForwardProp,a=void 0===i?Kn:i,o=e.slotShouldForwardProp,s=void 0===o?Kn:o,u=function(e){return we(c({},e,{theme:Gn(c({},e,{defaultTheme:r,themeId:t}))}))};return u.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,o,l=n.name,f=n.slot,d=n.skipVariantsResolver,p=n.skipSx,v=n.overridesResolver,m=void 0===v?(i=(o=f)?o.charAt(0).toLowerCase()+o.slice(1):o)?function(e,t){return t[i]}:null:v,g=(0,h.Z)(n,qn),k=void 0!==d?d:f&&"Root"!==f&&"root"!==f||!1,w=p||!1;var b=Kn;"Root"===f||"root"===f?b=a:f?b=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(b=void 0);var x=function(e,t){return Fn(e,t)}(e,c({shouldForwardProp:b,label:undefined},g)),E=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var s,f=a?a.map((function(e){if("function"===typeof e&&e.__emotion_real!==e)return function(n){return Zn({styledArg:e,props:n,defaultTheme:r,themeId:t})};if(y(e)){var n,i=e;return e&&e.variants&&(n=e.variants,delete i.variants,i=function(t){var r=e;return Wn(t,zn(n),n).forEach((function(e){r=_(r,e)})),r}),i}return e})):[],h=n;y(n)?n&&n.variants&&(s=n.variants,delete h.variants,h=function(e){var t=n;return Wn(e,zn(s),s).forEach((function(e){t=_(t,e)})),t}):"function"===typeof n&&n.__emotion_real!==n&&(h=function(e){return Zn({styledArg:n,props:e,defaultTheme:r,themeId:t})});l&&m&&f.push((function(e){var n=Gn(c({},e,{defaultTheme:r,themeId:t})),i=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(l,n);if(i){var a={};return Object.entries(i).forEach((function(t){var r=(0,S.Z)(t,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(c({},e,{theme:n})):o})),m(e,a)}return null})),l&&!k&&f.push((function(e){var n=Gn(c({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return Wn(e,t,a)}(e,function(e,t){var n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),zn(n)}(l,n),n,l)})),w||f.push(u);var d=f.length-a.length;if(Array.isArray(n)&&d>0){var p=new Array(d).fill("");(h=[].concat((0,An.Z)(n),(0,An.Z)(p))).raw=[].concat((0,An.Z)(n.raw),(0,An.Z)(p))}var v=x.apply(void 0,[h].concat((0,An.Z)(f)));return e.muiName&&(v.muiName=e.muiName),v};return x.withConfig&&(E.withConfig=x.withConfig),E}}({themeId:In,defaultTheme:Cn,rootShouldForwardProp:function(e){return Kn(e)&&"classes"!==e}}),$n=Qn,Yn={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Yn[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function Xn(e){return Jn("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=Jn(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var er=n(184),tr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(s(t)),"fontSize".concat(s(n))]},Xn,r)},rr=$n("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(s(n.color))],t["fontSize".concat(s(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d,p=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:v.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=p.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(i=p.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(o=p.typography)||null==(s=o.pxToRem)?void 0:s.call(o,24))||"1.5rem",large:(null==(u=p.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875rem"}[v.fontSize],color:null!=(l=null==(f=(p.vars||p).palette)||null==(f=f[v.color])?void 0:f.main)?l:{action:null==(h=(p.vars||p).palette)||null==(h=h.action)?void 0:h.active,disabled:null==(d=(p.vars||p).palette)||null==(d=d.action)?void 0:d.disabled,inherit:void 0}[v.color]}})),ir=l.forwardRef((function(e,t){var n=Nn({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,s=n.component,u=void 0===s?"svg":s,f=n.fontSize,d=void 0===f?"medium":f,v=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,_=n.viewBox,k=void 0===_?"0 0 24 24":_,w=(0,h.Z)(n,tr),b=l.isValidElement(r)&&"svg"===r.type,x=c({},n,{color:o,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:k,hasSvgAsChild:b}),S={};y||(S.viewBox=k);var E=nr(x);return(0,er.jsxs)(rr,c({as:u,className:p(E.root,i),focusable:"false",color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},S,w,b&&r.props,{ownerState:x,children:[b?r.props.children:r,g?(0,er.jsx)("title",{children:g}):null]}))}));ir.muiName="SvgIcon";var ar=ir;function or(e,t){function n(n,r){return(0,er.jsx)(ar,c({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=ar.muiName,l.memo(l.forwardRef(n))}var sr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var ur=function(e,t){return function(){return null}};var cr=function(e,t){var n,r;return l.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};function lr(e){return e&&e.ownerDocument||document}var fr=lr;var hr=function(e){return lr(e).defaultView||window};var dr=function(e,t){return function(){return null}};function pr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var vr=pr,mr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,yr=mr,gr=0;var _r=f["useId".toString()];var kr=function(e){if(void 0!==_r){var t=_r();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(gr+=1))}),[r]),a}(e)};var wr=function(e,t,n,r,i){return null};var br=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,S.Z)(i,2),o=a[0],s=a[1];return[r?t:o,l.useCallback((function(e){r||s(e)}),[])]};var xr=function(e){var t=l.useRef(e);return mr((function(){t.current=e})),l.useRef((function(){return t.current.apply(void 0,arguments)})).current},Sr=xr;var Er,Tr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){pr(t,e)}))}}),t)},Cr=!0,Ir=!1,Nr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ar(e){e.metaKey||e.altKey||e.ctrlKey||(Cr=!0)}function Pr(){Cr=!1}function Rr(){"hidden"===this.visibilityState&&Ir&&(Cr=!0)}function Or(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Cr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Nr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Dr=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Ar,!0),t.addEventListener("mousedown",Pr,!0),t.addEventListener("pointerdown",Pr,!0),t.addEventListener("touchstart",Pr,!0),t.addEventListener("visibilitychange",Rr,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Or(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Ir=!0,window.clearTimeout(Er),Er=window.setTimeout((function(){Ir=!1}),100),t.current=!1,!0)},ref:e}},Lr={configure:function(e){i.configure(e)}}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function b(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return b(e)||w(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===_||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case b:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,xe=null,Se=null;function Ee(e){if(e=_i(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),be(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,xt,St,Et,Tt=!1,Ct=[],It=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var zt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=_t,a=zt.transition;zt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,zt.transition=a}}function Ht(e,t,n,r){var i=_t,a=zt.transition;zt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Zt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Zt=null;function Qt(e,t,n,r){if(Zt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Zn(e){Fr(e,0)}function Qn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Jn=Xn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Pe(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Tr=Er("animationend"),Cr=Er("animationiteration"),Ir=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Cr:case Ir:u=yn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Zr(o,s,u,l,!1),null!==c&&null!==f&&Zr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Yn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(y=Hr(r,_)).length&&(_=new kn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Bn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Xt=Jt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var bi=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=bi[xi],bi[xi]=null,xi--)}function Ti(e,t){xi++,bi[xi]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Ni=Si(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ni),Ei(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ii),Ti(Ii,e)):Ei(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Xe,qi),i}finally{_t=t,Vi=!1}}return null}var zi=[],Wi=0,Ki=null,Hi=0,Gi=[],Zi=0,Qi=null,$i=1,Yi="";function Ji(e,t){zi[Wi++]=Hi,zi[Wi++]=Ki,Ki=e,Hi=t}function Xi(e,t,n){Gi[Zi++]=$i,Gi[Zi++]=Yi,Gi[Zi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Hi=zi[--Wi],zi[Wi]=null;for(;e===Qi;)Qi=Gi[--Zi],Gi[Zi]=null,Yi=Gi[--Zi],Gi[Zi]=null,$i=Gi[--Zi],Gi[Zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,_a=null,ka=null;function wa(){ka=_a=ga=null}function ba(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Ai:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Ai:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Za(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case b:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=d(i,v,g.value,c);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===f?l=_:f.sibling=_,f=_,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case b:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Ja={},Xa=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Xa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Xa),Ti(Xa,t)}function io(){Ei(Xa),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Xa.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Xa,n))}function oo(e){eo.current===e&&(Ei(Xa),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,_o=!1,ko=0,wo=0;function bo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(_o)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function Bo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ko(e,t){return qo(4,2,e,t)}function Ho(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Xo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useInsertionEffect:bo,useLayoutEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useMutableSource:bo,useSyncExternalStore:bo,useId:bo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Xo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Au.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Zo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Zo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Ai:Ii.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ri(n)?Ai:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Ri(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ks(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Zi++]=$i,Gi[Zi++]=Yi,Gi[Zi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),X(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&_(e,o,l,u))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return ba(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Ye()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return ba(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),_e(u,s);var l=_e(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):_(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Ye())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,mu(t,e),Ys=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){bu(h);continue}}null!==p?(p.return=d,Xs=p):bu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){Xs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Xs=u):xu(i);for(;null!==a;)Xs=a,ku(a,t,n),a=a.sibling;Xs=i,$s=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):wu(e)}}function wu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function bu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Su,Eu=Math.ceil,Tu=k.ReactCurrentDispatcher,Cu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Nu=0,Au=null,Pu=null,Ru=0,Ou=0,Du=Si(0),Lu=0,Mu=null,ju=0,Fu=0,Uu=0,Vu=null,Bu=null,qu=0,zu=1/0,Wu=null,Ku=!1,Hu=null,Gu=null,Zu=!1,Qu=null,$u=0,Yu=0,Ju=null,Xu=-1,ec=0;function tc(){return 0!==(6&Nu)?Ye():-1!==Xu?Xu:Xu=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yu)throw Yu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Fu|=n),4===Lu&&uc(e,Ru)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(zu=Ye()+500,Ui&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Ru:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Nu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xu=-1,ec=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nu;Nu|=2;var o=vc();for(Au===e&&Ru===t||(Wu=null,zu=Ye()+500,dc(e,t));;)try{_c();break}catch(u){pc(e,u)}wa(),Tu.current=o,Nu=i,null!==Pu?t=0:(Au=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Bu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Bu,Wu),t);break}bc(e,Bu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Bu,Wu),r);break}bc(e,Bu,Wu);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Bu,Wu),ic(e,Ye()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(zu=Ye()+500,Ui&&qi())}}function fc(e){null!==Qu&&0===Qu.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Iu.transition,r=_t;try{if(Iu.transition=null,_t=1,e)return e()}finally{_t=r,Iu.transition=n,0===(6&(Nu=t))&&qi()}}function hc(){Ou=Du.current,Ei(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ni),Ei(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:ba(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,Pu=e=Dc(e.current,null),Ru=Ou=t,Lu=0,Mu=null,Uu=Fu=ju=0,Bu=Vu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,_o=!1,ko=0,Cu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gu||!Gu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Au||0===(268435455&ju)&&0===(268435455&Fu)||uc(Au,Ru)}function yc(e,t){var n=Nu;Nu|=2;var r=vc();for(Au===e&&Ru===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Nu=n,Tu.current=r,null!==Pu)throw Error(a(261));return Au=null,Ru=0,Lu}function gc(){for(;null!==Pu;)kc(Pu)}function _c(){for(;null!==Pu&&!Qe();)kc(Pu)}function kc(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Cu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,Ou)))return void(Pu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function bc(e,t,n){var r=_t,i=Iu.transition;try{Iu.transition=null,_t=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Pu=Au=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zu||(Zu=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=_t;_t=1;var u=Nu;Nu|=4,Cu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,_u(n,e,i),$e(),Nu=u,_t=s,Iu.transition=o}else e.current=n;if(Zu&&(Zu=!1,Qu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Yu++:(Yu=0,Ju=e):Yu=0,qi()}(e,t,n,r)}finally{Iu.transition=i,_t=r}return null}function xc(){if(null!==Qu){var e=kt($u),t=Iu.transition,n=_t;try{if(Iu.transition=null,_t=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(ou(f),f===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var _=e.current;for(Xs=_;null!==Xs;){var k=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Xs=k;else e:for(s=_;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(b){Ec(u,u.return,b)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Nu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{_t=n,Iu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Ye()-qu?dc(e,0):Uu|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function qc(e){if(!e)return Ci;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Bc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ks(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),za(t,r,i),Ka(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&Nu)&&(zu=Ye()+500,qi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},bt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return _t},Et=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},be=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[_i,ki,wi,Te,Ce,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=_.prototype=new g;k.constructor=_,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)b.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(b);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function b(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof _)x=function(){_(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,x=function(){R.postMessage(null)}}else x=function(){y(A,0)};function O(e){E=e,S||(S=!0,x())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(b))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f966c624.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="mustplaygame:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmustplaygame=self.webpackChunkmustplaygame||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ht},SDK_VERSION:function(){return jn},_DEFAULT_ENTRY_NAME:function(){return Sn},_addComponent:function(){return In},_addOrOverwriteComponent:function(){return Nn},_apps:function(){return Tn},_clearComponents:function(){return On},_components:function(){return Cn},_getProvider:function(){return Pn},_registerComponent:function(){return An},_removeServiceInstance:function(){return Rn},deleteApp:function(){return Bn},getApp:function(){return Un},getApps:function(){return Vn},initializeApp:function(){return Fn},onLog:function(){return Wn},registerVersion:function(){return zn},setLogLevel:function(){return Kn}});var t={};n.r(t),n.d(t,{hasBrowserEnv:function(){return YB},hasStandardBrowserEnv:function(){return JB},hasStandardBrowserWebWorkerEnv:function(){return XB}});var r=n(791),i=n.t(r,2),a=n(250),o=n(439),s=n(433);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=n(142);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,c.Z)(r.key),r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=n(2);function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t=v();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,m.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function _(e,t,n){return _=v()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},_.apply(null,arguments)}function k(e){var t="function"===typeof Map?new Map:void 0;return k=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},k(e)}var w,b=n(878),x=n(199),S=n(181),E=n(267);function T(e){return(0,b.Z)(e)||(0,x.Z)(e)||(0,S.Z)(e)||(0,E.Z)()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,S.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(w||(w={}));var N,A="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=w.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=w.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:L(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(I({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(A,p),f=e,function(){o.removeEventListener(A,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=w.Push;var r=D(m.location,e,t);n&&n(r,e);var i=O(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(JI){if(JI instanceof DOMException&&"DataCloneError"===JI.name)throw JI;o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=w.Replace;var r=D(m.location,e,t);n&&n(r,e);var i=O(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],Y(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Z(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=V(i.join("/")),c=[];return c.push.apply(c,(0,s.Z)(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&c.push.apply(c,(0,s.Z)(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,q=3,z=2,W=1,K=10,H=-2,G=function(e){return"*"===e};function Z(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=H),t&&(r+=z),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(B.test(t)?q:""===t?W:K)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,o.Z)(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(JI){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+JI+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:u,pathnameBase:c,pattern:e}}function Y(e){try{return decodeURI(e)}catch(JI){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+JI+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(P(!(i=I({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n)}(k(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=r.createContext(null);function ge(){return null!=r.useContext(ve)}function _e(){return ge()||P(!1),r.useContext(ve).location}function ke(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Pe(Ne.UseNavigateStable).router,t=Oe(Ae.UseNavigateStable),n=r.useRef(!1);ke((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ge()||P(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=_e().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);return ke((function(){u.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e])}()}function be(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=_e().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function xe(e,t,n){ge()||P(!1);var i,a=r.useContext(pe).navigator,o=r.useContext(me).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,_e());if(t){var f,h="string"===typeof t?M(t):t;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||P(!1),i=h}else i=l;var d=i.pathname||"/",p=F(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=Ie(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ne([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ne([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,n);return t&&v?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:w.Pop}},v):v}function Se(){var e=function(){var e,t=r.useContext(ye),n=Re(Ae.UseRouteError),i=Oe(Ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ee=r.createElement(Se,null),Te=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return f(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ce(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ie(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||P(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ee);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ce,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Te,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ne=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ne||{}),Ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ae||{});function Pe(e){var t=r.useContext(fe);return t||P(!1),t}function Re(e){var t=r.useContext(he);return t||P(!1),t}function Oe(e){var t=function(e){var t=r.useContext(me);return t||P(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}i.startTransition;function De(e){P(!1)}function Le(e){var t=e.basename,n=void 0===t?"/":t,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?w.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;ge()&&P(!1);var h=n.replace(/^\/*/,"/"),d=r.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=M(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,_=p.hash,k=void 0===_?"":_,b=p.state,x=void 0===b?null:b,S=p.key,E=void 0===S?"default":S,T=r.useMemo((function(){var e=J(m,h);return null==e?null:{location:{pathname:e,search:g,hash:k,state:x,key:E},navigationType:u}}),[h,m,g,k,x,E,u]);return null==T?null:r.createElement(pe.Provider,{value:d},r.createElement(ve.Provider,{children:a,value:T}))}function Me(e){var t=e.children,n=e.location;return xe(Ue(t),n)}var je=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(je||{}),Fe=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat((0,s.Z)(t),[i]);if(e.type!==r.Fragment){e.type!==De&&P(!1),e.props.index&&e.props.children&&P(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}var Ve=n(942),Be=!1,qe=!1,ze="${JSCORE_VERSION}",We=function(e,t){if(!e)throw Ke(t)},Ke=function(e){return new Error("Firebase Database ("+ze+") INTERNAL ASSERT FAILED: "+e)},He=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(He(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ze;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ze=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return f(n)}(k(Error)),Qe=function(e){var t=He(e);return Ge.encodeByteArray(t,!0)},$e=function(e){return Qe(e).replace(/\./g,"")},Ye=function(e){try{return Ge.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Je(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Je(e[n],t[n]));return e}var Xe=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},et=function(){try{return Xe()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"ns08s33m38e5xxpc3387v2blopa9hp",REACT_APP_AUTHORIZATION_TOKEN:"nm1szcocbwgr6x35efttsncviwqjep"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ye(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},tt=function(){var e;return null===(e=et())||void 0===e?void 0:e.config},nt=function(){function e(){var t=this;u(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return f(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function rt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(a)),""].join(".")}function it(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function at(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function ot(){var e,t=null===(e=et())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function st(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ut(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ct(){var e=it();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lt(){return!0===Be||!0===qe}function ft(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ht=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(y(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(y(a),dt.prototype.create),a}return f(n)}(k(Error)),dt=function(){function e(t,n,r){u(this,e),this.service=t,this.serviceName=n,this.errors=r}return f(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(pt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ht(n,a,t)}}]),e}();var pt=/\{\$([^}]+)}/g;function vt(e){return JSON.parse(e)}function mt(e){return JSON.stringify(e)}var yt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=vt(Ye(a[0])||""),n=vt(Ye(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _t(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function kt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wt(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function bt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(xt(s)&&xt(u)){if(!bt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function xt(e){return null!==e&&"object"===typeof e}function St(e){for(var t=[],n=function(){var e=(0,o.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Et(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,o.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ct=function(){function e(){u(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return f(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function It(e,t){var n=new Nt(e,t);return n.subscribe.bind(n)}var Nt=function(){function e(t,n){var r=this;u(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return f(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=At),void 0===r.error&&(r.error=At),void 0===r.complete&&(r.complete=At);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function At(){}var Pt=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Rt(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Ot(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Rt(e,t)+"must be a valid function.")}function Dt(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Rt(e,t)+"must be a valid context object.")}var Lt=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Mt(e){return e&&e._delegate?e._delegate:e}function jt(){jt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:C(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function _(){}function k(){}var w={};c(w,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(R([])));x&&x!==n&&r.call(x,o)&&(w=x);var S=k.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==(0,m.Z)(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=h;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=I(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError((0,m.Z)(t)+" is not iterable")}return _.prototype=k,i(S,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:_,configurable:!0}),_.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new T(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),c(S,u,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ft(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(JI){return void n(JI)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ft(a,r,i,o,s,"next",e)}function s(e){Ft(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Vt=function(){function e(t,n,r){u(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return f(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Bt="[DEFAULT]",qt=function(){function e(t,n){u(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return f(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new nt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bt})}catch(c){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,o.Z)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,s.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,s.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=C(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=(0,o.Z)(i.value,2),c=u[0],l=u[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){s.e(f)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Bt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;return this.component?this.component.multipleInstances?e:Bt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var zt,Wt,Kt=function(){function e(t){u(this,e),this.name=t,this.providers=new Map}return f(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new qt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ht=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wt||(Wt={}));var Gt={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},Zt=Wt.INFO,Qt=(zt={},(0,Ve.Z)(zt,Wt.DEBUG,"log"),(0,Ve.Z)(zt,Wt.VERBOSE,"log"),(0,Ve.Z)(zt,Wt.INFO,"info"),(0,Ve.Z)(zt,Wt.WARN,"warn"),(0,Ve.Z)(zt,Wt.ERROR,"error"),zt),$t=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Qt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Yt=function(){function e(t){u(this,e),this.name=t,this._logLevel=Zt,this._logHandler=$t,this._userLogHandler=null,Ht.push(this)}return f(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Gt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.INFO].concat(t)),this._logHandler.apply(this,[this,Wt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.WARN].concat(t)),this._logHandler.apply(this,[this,Wt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wt.ERROR].concat(t)),this._logHandler.apply(this,[this,Wt.ERROR].concat(t))}}]),e}();function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,Ve.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var en,tn,nn=function(e,t){return t.some((function(t){return e instanceof t}))};var rn=new WeakMap,an=new WeakMap,on=new WeakMap,sn=new WeakMap,un=new WeakMap;var cn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return an.get(e);if("objectStoreNames"===t)return e.objectStoreNames||on.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ln(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tn||(tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(dn(this),n),hn(rn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hn(e.apply(dn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[dn(this),t].concat(r));return on.set(a,t.sort?t.sort():[t]),hn(a)}}function fn(e){return"function"===typeof e?ln(e):(e instanceof IDBTransaction&&function(e){if(!an.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));an.set(e,t)}}(e),nn(e,en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,cn):e)}function hn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(hn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&rn.set(t,e)})).catch((function(){})),un.set(t,e),t}(e);if(sn.has(e))return sn.get(e);var t=fn(e);return t!==e&&(sn.set(e,t),un.set(t,e)),t}var dn=function(e){return un.get(e)};var pn,vn,mn=["get","getKey","getAll","getAllKeys","count"],yn=["put","add","delete","clear"],gn=new Map;function _n(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(gn.get(t))return gn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=yn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mn.includes(n))){var a=function(){var e=Ut(jt().mark((function e(t){var a,o,s,u,c,l,f=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return gn.set(t,a),a}}}cn=function(e){return Xt(Xt({},e),{},{get:function(t,n,r){return _n(t,n)||e.get(t,n,r)},has:function(t,n){return!!_n(t,n)||e.has(t,n)}})}(cn);var kn=function(){function e(t){u(this,e),this.container=t}return f(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var wn="@firebase/app",bn="0.9.20",xn=new Yt("@firebase/app"),Sn="[DEFAULT]",En=(pn={},(0,Ve.Z)(pn,wn,"fire-core"),(0,Ve.Z)(pn,"@firebase/app-compat","fire-core-compat"),(0,Ve.Z)(pn,"@firebase/analytics","fire-analytics"),(0,Ve.Z)(pn,"@firebase/analytics-compat","fire-analytics-compat"),(0,Ve.Z)(pn,"@firebase/app-check","fire-app-check"),(0,Ve.Z)(pn,"@firebase/app-check-compat","fire-app-check-compat"),(0,Ve.Z)(pn,"@firebase/auth","fire-auth"),(0,Ve.Z)(pn,"@firebase/auth-compat","fire-auth-compat"),(0,Ve.Z)(pn,"@firebase/database","fire-rtdb"),(0,Ve.Z)(pn,"@firebase/database-compat","fire-rtdb-compat"),(0,Ve.Z)(pn,"@firebase/functions","fire-fn"),(0,Ve.Z)(pn,"@firebase/functions-compat","fire-fn-compat"),(0,Ve.Z)(pn,"@firebase/installations","fire-iid"),(0,Ve.Z)(pn,"@firebase/installations-compat","fire-iid-compat"),(0,Ve.Z)(pn,"@firebase/messaging","fire-fcm"),(0,Ve.Z)(pn,"@firebase/messaging-compat","fire-fcm-compat"),(0,Ve.Z)(pn,"@firebase/performance","fire-perf"),(0,Ve.Z)(pn,"@firebase/performance-compat","fire-perf-compat"),(0,Ve.Z)(pn,"@firebase/remote-config","fire-rc"),(0,Ve.Z)(pn,"@firebase/remote-config-compat","fire-rc-compat"),(0,Ve.Z)(pn,"@firebase/storage","fire-gcs"),(0,Ve.Z)(pn,"@firebase/storage-compat","fire-gcs-compat"),(0,Ve.Z)(pn,"@firebase/firestore","fire-fst"),(0,Ve.Z)(pn,"@firebase/firestore-compat","fire-fst-compat"),(0,Ve.Z)(pn,"fire-js","fire-js"),(0,Ve.Z)(pn,"firebase","fire-js-all"),pn),Tn=new Map,Cn=new Map;function In(e,t){try{e.container.addComponent(t)}catch(n){xn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Nn(e,t){e.container.addOrOverwriteComponent(t)}function An(e){var t=e.name;if(Cn.has(t))return xn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cn.set(t,e);var n,r=C(Tn.values());try{for(r.s();!(n=r.n()).done;){In(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Pn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Rn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sn;Pn(e,t).clearInstance(n)}function On(){Cn.clear()}var Dn=(vn={},(0,Ve.Z)(vn,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,Ve.Z)(vn,"bad-app-name","Illegal App name: '{$appName}"),(0,Ve.Z)(vn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Ve.Z)(vn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Ve.Z)(vn,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,Ve.Z)(vn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Ve.Z)(vn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Ve.Z)(vn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,Ve.Z)(vn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,Ve.Z)(vn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,Ve.Z)(vn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),vn),Ln=new dt("app","Firebase",Dn),Mn=function(){function e(t,n,r){var i=this;u(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",(function(){return i}),"PUBLIC"))}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}]),e}(),jn="10.5.0";function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ln.create("bad-app-name",{appName:String(i)});if(n||(n=tt()),!n)throw Ln.create("no-options");var a=Tn.get(i);if(a){if(bt(n,a.options)&&bt(r,a.config))return a;throw Ln.create("duplicate-app",{appName:i})}var o,s=new Kt(i),u=C(Cn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Mn(n,r,s);return Tn.set(i,l),l}function Un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=Tn.get(e);if(!t&&e===Sn&&tt())return Fn();if(!t)throw Ln.create("no-app",{appName:e});return t}function Vn(){return Array.from(Tn.values())}function Bn(e){return qn.apply(this,arguments)}function qn(){return(qn=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Tn.has(n)){e.next=6;break}return Tn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zn(e,t,n){var r,i=null!==(r=En[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xn.warn(s.join(" "))}An(new Vt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Wn(e,t){if(null!==e&&"function"!==typeof e)throw Ln.create("invalid-log-argument");!function(e,t){var n,r=C(Ht);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Gt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Wt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Kn(e){var t;t=e,Ht.forEach((function(e){e.setLogLevel(t)}))}var Hn="firebase-heartbeat-database",Gn=1,Zn="firebase-heartbeat-store",Qn=null;function $n(){return Qn||(Qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=hn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(hn(s.result),e.oldVersion,e.newVersion,hn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Hn,Gn,{upgrade:function(e,t){if(0===t)e.createObjectStore(Zn)}}).catch((function(e){throw Ln.create("idb-open",{originalErrorMessage:e.message})}))),Qn}function Yn(e){return Jn.apply(this,arguments)}function Jn(){return Jn=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$n();case 3:return n=e.sent,e.next=6,n.transaction(Zn).objectStore(Zn).get(tr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof ht?xn.warn(e.t0.message):(i=Ln.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Jn.apply(this,arguments)}function Xn(e,t){return er.apply(this,arguments)}function er(){return er=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$n();case 3:return r=e.sent,i=r.transaction(Zn,"readwrite"),a=i.objectStore(Zn),e.next=8,a.put(n,tr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof ht?xn.warn(e.t0.message):(o=Ln.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),er.apply(this,arguments)}function tr(e){return"".concat(e.name,"!").concat(e.options.appId)}var nr=function(){function e(t){var n=this;u(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new sr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return f(e,[{key:"triggerHeartbeat",value:function(){var e=Ut(jt().mark((function e(){var t,n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=rr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=rr(),n=ir(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=$e(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rr(){return(new Date).toISOString().substring(0,10)}function ir(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ur(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),ur(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ar,or,sr=function(){function e(t){u(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return f(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ft()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(JI){t(JI)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Yn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,s.Z)(r.heartbeats),(0,s.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ur(e){return $e(JSON.stringify({version:2,heartbeats:e})).length}ar="",An(new Vt("platform-logger",(function(e){return new kn(e)}),"PRIVATE")),An(new Vt("heartbeat",(function(e){return new nr(e)}),"PRIVATE")),zn(wn,bn,ar),zn(wn,bn,"esm2017"),zn("fire-js","");var cr=function(){function e(t,n){var r=this;u(this,e),this._delegate=t,this.firebase=n,In(t,new Vt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Bn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){In(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Nn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),lr=(or={},(0,Ve.Z)(or,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ve.Z)(or,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),or),fr=new dt("app-compat","Firebase",lr);var hr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Fn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(gt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:zn,setLogLevel:Kn,onLog:Wn,apps:null,SDK_VERSION:jn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(An(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw fr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Je(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!gt(n,e=e||Sn))throw fr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(cr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Je(n,e)},createSubscribe:It,ErrorFactory:dt,deepExtend:Je}),n}(),dr=new Yt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){dr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var pr=self.firebase.SDK_VERSION;pr&&pr.indexOf("LITE")>=0&&dr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var vr=hr;!function(e){zn("@firebase/app-compat","0.2.20",e)}();function mr(){return mr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},mr.apply(this,arguments)}vr.registerVersion("firebase","10.5.0","app-compat");function yr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var gr,_r={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},kr="EMAIL_SIGNIN",wr="PASSWORD_RESET",br="RECOVER_EMAIL",xr="REVERT_SECOND_FACTOR_ADDITION",Sr="VERIFY_AND_CHANGE_EMAIL",Er="VERIFY_EMAIL";function Tr(e){return void 0!==e&&void 0!==e.getResponse}function Cr(e){return void 0!==e&&void 0!==e.enterprise}var Ir=f((function e(t){if(u(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Nr(){return(0,Ve.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ar=function(){var e;return e={},(0,Ve.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Ve.Z)(e,"argument-error",""),(0,Ve.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Ve.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Ve.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Ve.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Ve.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Ve.Z)(e,"cors-unsupported","This browser is not supported."),(0,Ve.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Ve.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Ve.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Ve.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Ve.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Ve.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Ve.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Ve.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Ve.Z)(e,"expired-action-code","The action code has expired."),(0,Ve.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Ve.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Ve.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Ve.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Ve.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Ve.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Ve.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Ve.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Ve.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Ve.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Ve.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Ve.Z)(e,"invalid-email","The email address is badly formatted."),(0,Ve.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Ve.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Ve.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Ve.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Ve.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ve.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Ve.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Ve.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Ve.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Ve.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Ve.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Ve.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Ve.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Ve.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Ve.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Ve.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ve.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Ve.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Ve.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Ve.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Ve.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Ve.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Ve.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Ve.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Ve.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Ve.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Ve.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Ve.Z)(e,"missing-password","A non-empty password must be provided"),(0,Ve.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Ve.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Ve.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Ve.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Ve.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Ve.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Ve.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Ve.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Ve.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Ve.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Ve.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Ve.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Ve.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Ve.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Ve.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Ve.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Ve.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Ve.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Ve.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Ve.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Ve.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Ve.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Ve.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Ve.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Ve.Z)(e,"timeout","The operation has timed out."),(0,Ve.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Ve.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Ve.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Ve.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Ve.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Ve.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Ve.Z)(e,"unverified-email","The operation requires a verified email."),(0,Ve.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Ve.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Ve.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Ve.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Ve.Z)(e,"user-signed-out",""),(0,Ve.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Ve.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Ve.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,Ve.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,Ve.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,Ve.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,Ve.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,Ve.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,Ve.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,Ve.Z)(e,"invalid-req-type","Invalid request parameters."),(0,Ve.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),(0,Ve.Z)(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),(0,Ve.Z)(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Pr=Nr,Rr=new dt("auth","Firebase",Nr()),Or=new Yt("@firebase/auth");function Dr(e){if(Or.logLevel<=Wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Or.warn.apply(Or,["Auth (".concat(jn,"): ").concat(e)].concat(n))}}function Lr(e){if(Or.logLevel<=Wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Or.error.apply(Or,["Auth (".concat(jn,"): ").concat(e)].concat(n))}}function Mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vr.apply(void 0,[e].concat(n))}function jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vr.apply(void 0,[e].concat(n))}function Fr(e,t,n){var r=Object.assign(Object.assign({},Pr()),(0,Ve.Z)({},t,n));return new dt("auth","Firebase",r).create(t,{appName:e.name})}function Ur(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Mr(e,"argument-error"),Fr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,s.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,s.Z)(o)))}return Rr.create.apply(Rr,[e].concat(n))}function Br(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vr.apply(void 0,[t].concat(r))}}function qr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Lr(t),new Error(t)}function zr(e,t){e||qr(t)}function Wr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Kr(){return"http:"===Hr()||"https:"===Hr()}function Hr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Gr=function(){function e(t,n){u(this,e),this.shortDelay=t,this.longDelay=n,zr(n>t,"Short delay should be less than long delay!"),this.isMobile=at()||ut()}return f(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Kr()||st()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Zr(e,t){zr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Qr=function(){function e(){u(this,e)}return f(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),$r=(gr={},(0,Ve.Z)(gr,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Ve.Z)(gr,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Ve.Z)(gr,"INVALID_IDENTIFIER","invalid-email"),(0,Ve.Z)(gr,"MISSING_CONTINUE_URI","internal-error"),(0,Ve.Z)(gr,"INVALID_PASSWORD","wrong-password"),(0,Ve.Z)(gr,"MISSING_PASSWORD","missing-password"),(0,Ve.Z)(gr,"EMAIL_EXISTS","email-already-in-use"),(0,Ve.Z)(gr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Ve.Z)(gr,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Ve.Z)(gr,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Ve.Z)(gr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Ve.Z)(gr,"MISSING_REQ_TYPE","internal-error"),(0,Ve.Z)(gr,"EMAIL_NOT_FOUND","user-not-found"),(0,Ve.Z)(gr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Ve.Z)(gr,"EXPIRED_OOB_CODE","expired-action-code"),(0,Ve.Z)(gr,"INVALID_OOB_CODE","invalid-action-code"),(0,Ve.Z)(gr,"MISSING_OOB_CODE","internal-error"),(0,Ve.Z)(gr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Ve.Z)(gr,"INVALID_ID_TOKEN","invalid-user-token"),(0,Ve.Z)(gr,"TOKEN_EXPIRED","user-token-expired"),(0,Ve.Z)(gr,"USER_NOT_FOUND","user-token-expired"),(0,Ve.Z)(gr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Ve.Z)(gr,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),(0,Ve.Z)(gr,"INVALID_CODE","invalid-verification-code"),(0,Ve.Z)(gr,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Ve.Z)(gr,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Ve.Z)(gr,"MISSING_SESSION_INFO","missing-verification-id"),(0,Ve.Z)(gr,"SESSION_EXPIRED","code-expired"),(0,Ve.Z)(gr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Ve.Z)(gr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Ve.Z)(gr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Ve.Z)(gr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Ve.Z)(gr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Ve.Z)(gr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Ve.Z)(gr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Ve.Z)(gr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Ve.Z)(gr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Ve.Z)(gr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Ve.Z)(gr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,Ve.Z)(gr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,Ve.Z)(gr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,Ve.Z)(gr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,Ve.Z)(gr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,Ve.Z)(gr,"MISSING_CLIENT_TYPE","missing-client-type"),(0,Ve.Z)(gr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,Ve.Z)(gr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,Ve.Z)(gr,"INVALID_REQ_TYPE","invalid-req-type"),gr),Yr=new Gr(3e4,6e4);function Jr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Xr(e,t,n,r){return ei.apply(this,arguments)}function ei(){return ei=Ut(jt().mark((function e(t,n,r,i){var a,o=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ti(t,a,Ut(jt().mark((function e(){var a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=St(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Qr.fetch()(ai(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(e,t,n){return ni.apply(this,arguments)}function ni(){return ni=Ut(jt().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},$r),n),e.prev=2,a=new oi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw si(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=(0,o.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw si(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw si(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw si(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Fr(t,p,d);case 34:Mr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ht)){e.next=41;break}throw e.t0;case 41:Mr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),ni.apply(this,arguments)}function ri(e,t,n,r){return ii.apply(this,arguments)}function ii(){return ii=Ut(jt().mark((function e(t,n,r,i){var a,o,s=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Xr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Mr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}function ai(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Zr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var oi=function(){function e(t){var n=this;u(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(jr(n.auth,"network-request-failed"))}),Yr.get())}))}return f(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function si(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=jr(e,t,r);return i.customData._tokenResponse=n,i}function ui(e){return ci.apply(this,arguments)}function ci(){return ci=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t){return fi.apply(this,arguments)}function fi(){return fi=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"GET","/v2/recaptchaConfig",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(e,t){return di.apply(this,arguments)}function di(){return di=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(e,t){return yi.apply(this,arguments)}function yi(){return yi=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function gi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _i(){return _i=Ut(jt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Mt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Br((a=wi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:gi(ki(a.auth_time)),issuedAtTime:gi(ki(a.iat)),expirationTime:gi(ki(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function ki(e){return 1e3*Number(e)}function wi(e){var t=e.split("."),n=(0,o.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Lr("JWT malformed, contained fewer than 3 sections"),null;try{var s=Ye(i);return s?JSON.parse(s):(Lr("Failed to decode base64 JWT payload"),null)}catch(u){return Lr("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function bi(e,t){return xi.apply(this,arguments)}function xi(){return xi=Ut(jt().mark((function e(t,n){var r=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ht&&Si(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),xi.apply(this,arguments)}function Si(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ei=function(){function e(t){u(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return f(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ti=function(){function e(t,n){u(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return f(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ci(e){return Ii.apply(this,arguments)}function Ii(){return Ii=Ut(jt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,bi(t,mi(r,{idToken:i}));case 6:Br(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=yr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Ai(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ti(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Ni(){return(Ni=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mt(t),e.next=3,Ci(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ai(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,s.Z)(n),(0,s.Z)(t))}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ti(t,{},Ut(jt().mark((function e(){var r,i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=ai(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Qr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}var Oi=function(){function e(){u(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return f(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Br(e.idToken,"internal-error"),Br("undefined"!==typeof e.idToken,"internal-error"),Br("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=wi(e);return Br(t,"internal-error"),Br("undefined"!==typeof t.exp,"internal-error"),Br("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ut(jt().mark((function e(t){var n,r=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Br(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return qr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Br("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Br("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Br("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Di(e,t){Br("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Li=function(){function e(t){u(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=yr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,s.Z)(a.providerData):[],this.metadata=new Ti(a.createdAt||void 0,a.lastLoginAt||void 0)}return f(e,[{key:"getIdToken",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Br(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _i.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ni.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Br(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Br(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ci(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,bi(this,hi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,_=n.uid,k=n.emailVerified,w=n.isAnonymous,b=n.providerData,x=n.stsTokenManager;Br(_&&x,t,"internal-error");var S=Oi.fromJSON(this.name,x);Br("string"===typeof _,t,"internal-error"),Di(f,t.name),Di(h,t.name),Br("boolean"===typeof k,t,"internal-error"),Br("boolean"===typeof w,t,"internal-error"),Di(d,t.name),Di(p,t.name),Di(v,t.name),Di(m,t.name),Di(y,t.name),Di(g,t.name);var E=new e({uid:_,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return b&&Array.isArray(b)&&(E.providerData=b.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ut(jt().mark((function t(n,r){var i,a,o,s=arguments;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Oi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ci(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Mi=new Map;function ji(e){zr(e instanceof Function,"Expected a class definition");var t=Mi.get(e);return t?(zr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mi.set(e,t),t)}var Fi=function(){function e(){u(this,e),this.type="NONE",this.storage={}}return f(e,[{key:"_isAvailable",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Fi.type="NONE";var Ui=Fi;function Vi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Bi=function(){function e(t,n,r){u(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Vi(this.userKey,a.apiKey,o),this.fullPersistenceKey=Vi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return f(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Li._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ut(jt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ji(Ui),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ji(Ui),s=Vi(i,n.config.apiKey,n.name),u=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Li._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Hi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zi(t))return"Blackberry";if(Qi(t))return"Webos";if(Wi(t))return"Safari";if((t.includes("chrome/")||Ki(t))&&!t.includes("edge/"))return"Chrome";if(Gi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/firefox\//i.test(e)}function Wi(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:it()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/crios\//i.test(e)}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/iemobile/i.test(e)}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/android/i.test(e)}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/blackberry/i.test(e)}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/webos/i.test(e)}function $i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return $i(e)||Gi(e)||Qi(e)||Zi(e)||/windows phone/i.test(e)||Hi(e)}function Ji(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qi(it());break;case"Worker":t="".concat(qi(it()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(jn,"/").concat(r)}var Xi=function(){function e(t){u(this,e),this.auth=t,this.queue=[]}return f(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(eU){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ea(e){return ta.apply(this,arguments)}function ta(){return ta=Ut(jt().mark((function e(t){var n,r=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Xr(t,"GET","/v2/passwordPolicy",Jr(t,n)));case 2:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}var na=function(){function e(t){var n,r,i,a;u(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return f(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),ra=function(){function e(t,n,r,i){u(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aa(this),this.idTokenSubscription=new aa(this),this.beforeStateQueue=new Xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return f(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(Ut(jt().mark((function r(){var i,a;return jt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Bi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Br(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ci(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Mt(t):null)&&Br(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ut(jt().mark((function e(t){var n,r=this,i=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Br(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ut(jt().mark((function n(){return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ji(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=Ut(jt().mark((function e(){var t,n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(this);case 2:t=e.sent,n=new na(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new dt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Br(n=t&&ji(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Bi.create(this,[ji(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ut(jt().mark((function e(t){var n=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Br(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Br(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ji(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ve.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ut(jt().mark((function e(){var t,n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Dr("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ia(e){return Mt(e)}var aa=function(){function e(t){var n=this;u(this,e),this.auth=t,this.observer=null,this.addObserver=It((function(e){return n.observer=e}))}return f(e,[{key:"next",get:function(){return Br(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function oa(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=jr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function sa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ua=function(){function e(t){u(this,e),this.type="recaptcha-enterprise",this.auth=ia(t)}return f(e,[{key:"verify",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Cr(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ut(jt().mark((function e(n,r){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:li(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ir(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Cr(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));oa("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ca(e,t,n){return la.apply(this,arguments)}function la(){return la=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new ua(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),la.apply(this,arguments)}function fa(e,t,n){var r=ia(e);Br(r._canInitEmulator,r,"emulator-config-failed"),Br(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ha(t),s=function(e){var t=ha(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:da(r.substr(a.length+1))}}var s=r.split(":"),u=(0,o.Z)(s,2);return{host:u[0],port:da(u[1])}}(t),u=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ha(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function da(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var pa=function(){function e(t,n){u(this,e),this.providerId=t,this.signInMethod=n}return f(e,[{key:"toJSON",value:function(){return qr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return qr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return qr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return qr("not implemented")}}]),e}();function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:resetPassword",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function _a(e,t){return ka.apply(this,arguments)}function ka(){return ka=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:update",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function wa(e,t){return ba.apply(this,arguments)}function ba(){return ba=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t,"POST","/v1/accounts:signInWithPassword",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function xa(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:sendOobCode",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ea(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,n));case 1:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ca(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,n));case 1:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Na(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,n));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Pa(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,n));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Oa(e,t){return Da.apply(this,arguments)}function Da(){return Da=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}var ja=function(e){d(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return f(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,ca(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",wa(t,i));case 11:return e.abrupt("return",wa(t,r).catch(function(){var e=Ut(jt().mark((function e(n){var i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,ca(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",wa(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Oa(t,{email:this._email,oobCode:this._password}));case 13:Mr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ya(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",La(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Mr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(pa);function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t,"POST","/v1/accounts:signInWithIdp",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}var Va=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return f(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Fa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Fa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Fa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=St(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=yr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(pa);function Ba(e,t){return qa.apply(this,arguments)}function qa(){return qa=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:sendVerificationCode",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function za(){return za=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t,"POST","/v1/accounts:signInWithPhoneNumber",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Wa(){return Wa=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ri(t,"POST","/v1/accounts:signInWithPhoneNumber",Jr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw si(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}var Ka=(0,Ve.Z)({},"USER_NOT_FOUND","user-not-found");function Ha(){return Ha=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ri(t,"POST","/v1/accounts:signInWithPhoneNumber",Jr(t,r),Ka));case 2:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}var Ga=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone","phone")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return za.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Wa.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ha.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(pa);var Za=function(){function e(t){var n,r,i,a,o,s;u(this,e);var c=Et(Tt(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);Br(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return f(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Et(Tt(e)).link,n=t?Et(Tt(t)).deep_link_id:null,r=Et(Tt(e)).deep_link_id;return(r?Et(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Qa=function(){function e(){u(this,e),this.providerId=e.PROVIDER_ID}return f(e,null,[{key:"credential",value:function(e,t){return ja._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Za.parseLink(t);return Br(n,"argument-error"),ja._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Qa.PROVIDER_ID="password",Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var $a=function(){function e(t){u(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return f(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ya=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).scopes=[],e}return f(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,s.Z)(this.scopes)}}]),n}($a),Ja=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Br(e.idToken||e.accessToken,"argument-error"),Va._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Br("providerId"in t&&"signInMethod"in t,"argument-error"),Va._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Ya),Xa=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.call(this,"facebook.com")}return f(n,null,[{key:"credential",value:function(e){return Va._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ya);Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xa.PROVIDER_ID="facebook.com";var eo=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return f(n,null,[{key:"credential",value:function(e,t){return Va._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ya);eo.GOOGLE_SIGN_IN_METHOD="google.com",eo.PROVIDER_ID="google.com";var to=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.call(this,"github.com")}return f(n,null,[{key:"credential",value:function(e){return Va._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ya);to.GITHUB_SIGN_IN_METHOD="github.com",to.PROVIDER_ID="github.com";var no=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return f(n,[{key:"_getIdTokenResponse",value:function(e){return Fa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Fa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Fa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pa),ro=function(e){d(n,e);var t=g(n);function n(e){return u(this,n),Br(e.startsWith("saml."),"argument-error"),t.call(this,e)}return f(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=no.fromJSON(e);return Br(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return no._create(r,n)}catch(i){return null}}}]),n}($a),io=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.call(this,"twitter.com")}return f(n,null,[{key:"credential",value:function(e,t){return Va._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ya);function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t,"POST","/v1/accounts:signUp",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}io.TWITTER_SIGN_IN_METHOD="twitter.com",io.PROVIDER_ID="twitter.com";var so=function(){function e(t){u(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return f(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ut(jt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Li._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=uo(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ut(jt().mark((function t(n,r,i){var a;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=uo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function uo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function co(){return co=Ut(jt().mark((function e(t){var n,r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new so({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ao(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,so._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}var lo=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var o,s;return u(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(y(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return f(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ht);function fo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw lo._fromErrorAndOperation(e,n,t,r);throw n}))}function ho(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mt(t),e.next=3,go(!0,r,n);case 3:return e.t0=pi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ho(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return yo=Ut(jt().mark((function e(t,n){var r,i,a=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=bi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",so._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ci(n);case 2:i=ho(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Br(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){return wo.apply(this,arguments)}function wo(){return wo=Ut(jt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,bi(t,fo(i,a,n,t),r);case 6:return Br((o=e.sent).idToken,i,"internal-error"),Br(s=wi(o.idToken),i,"internal-error"),u=s.sub,Br(t.uid===u,i,"user-mismatch"),e.abrupt("return",so._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Mr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),wo.apply(this,arguments)}function bo(e,t){return xo.apply(this,arguments)}function xo(){return xo=Ut(jt().mark((function e(t,n){var r,i,a,o,s=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,fo(t,i,n);case 4:return a=e.sent,e.next=7,so._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bo(ia(t),n));case 1:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function To(e,t){return Co.apply(this,arguments)}function Co(){return(Co=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mt(t),e.next=3,go(!1,r,n.providerId);case 3:return e.abrupt("return",mo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t){return No.apply(this,arguments)}function No(){return(No=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(Mt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(e,t){return Po.apply(this,arguments)}function Po(){return Po=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t,"POST","/v1/accounts:signInWithCustomToken",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Ro(){return Ro=Ut(jt().mark((function e(t,n){var r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia(t),e.next=3,Ao(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,so._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}var Oo=function(){function e(t,n){u(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return f(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Do._fromServerResponse(e,t):"totpInfo"in t?Lo._fromServerResponse(e,t):Mr(e,"internal-error")}}]),e}(),Do=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return f(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Oo),Lo=function(e){d(n,e);var t=g(n);function n(e){return u(this,n),t.call(this,"totp",e)}return f(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Oo);function Mo(e,t,n){var r;Br((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Br("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Br(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Br(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function jo(e){return Fo.apply(this,arguments)}function Fo(){return Fo=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=ia(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(){return Uo=Ut(jt().mark((function e(t,n,r){var i,a,o,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ia(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,ca(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Mo(a,s,r),e.next=9,Ca(a,s);case 9:e.next=14;break;case 11:return r&&Mo(a,o,r),e.next=14,Ca(a,o).catch(function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,ca(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Mo(a,n,r),e.next=8,Ca(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Vo(){return Vo=Ut(jt().mark((function e(t,n,r){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va(Mt(t),{oobCode:n,newPassword:r}).catch(function(){var e=Ut(jt().mark((function e(n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&jo(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(){return Bo=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a(Mt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function qo(e,t){return zo.apply(this,arguments)}function zo(){return zo=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mt(t),e.next=3,va(r,{oobCode:n});case 3:i=e.sent,Br(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Br(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Br(i.mfaInfo,r,"internal-error");case 13:Br(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Oo._fromServerResponse(ia(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Wo(){return Wo=Ut(jt().mark((function e(t,n){var r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(Mt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ko(e,t,n){return Ho.apply(this,arguments)}function Ho(){return Ho=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u,c,l;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ia(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,ca(a,o,"signUpPassword");case 5:u=e.sent,s=ao(a,u),e.next=10;break;case 9:s=ao(a,o).catch(function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,ca(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",ao(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&jo(t),e}));case 12:return c=e.sent,e.next=15,so._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Go(){return Go=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Br(t.handleCodeInApp,a,"argument-error"),t&&Mo(a,e,t)},a=ia(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,ca(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Na(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Na(a,o).catch(function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,ca(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Na(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Zo(){return Zo=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mt(t),Br((a=Qa.credentialWithLink(n,r||Wr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",So(i,a));case 4:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:createAuthUri",Jr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Yo(){return Yo=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kr()?Wr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Qo(Mt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Jo(){return(Jo=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Mo(r.auth,a,n),e.next=8,Ea(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(){return(Xo=Ut(jt().mark((function e(t,n,r){var i,a,o,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Mo(i.auth,o,r),e.next=8,Pa(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(){return(ns=Ut(jt().mark((function e(t,n){var r,i,a,o,s,u,c;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Mt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,bi(a,es(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t,n){return is.apply(this,arguments)}function is(){return is=Ut(jt().mark((function e(t,n,r){var i,a,o,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,bi(t,ya(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}var as=f((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),os=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i)).username=a,o}return f(n)}(as),ss=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"facebook.com",r)}return f(n)}(as),us=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return f(n)}(os),cs=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"google.com",r)}return f(n)}(as),ls=function(e){d(n,e);var t=g(n);function n(e,r,i){return u(this,n),t.call(this,e,"twitter.com",r,i)}return f(n)}(os);function fs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=wi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new as(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ss(a,i);case"github.com":return new us(a,i);case"google.com":return new cs(a,i);case"twitter.com":return new ls(a,i,e.screenName||null);case"custom":case"anonymous":return new as(a,null);default:return new as(a,r,i)}}(n)}var hs=function(){function e(t,n,r){u(this,e),this.type=t,this.credential=n,this.user=r}return f(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Ve.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ds=function(){function e(t,n,r){u(this,e),this.session=t,this.hints=n,this.signInResolver=r}return f(e,[{key:"resolveSignIn",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ia(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Oo._fromServerResponse(r,e)}));Br(i.mfaPendingCredential,r,"internal-error");var o=hs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ut(jt().mark((function e(t){var a,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,so._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Br(n.user,r,"internal-error"),e.abrupt("return",so._forOperation(n.user,n.operationType,s));case 17:Mr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ps(e,t){return Xr(e,"POST","/v2/accounts/mfaEnrollment:start",Jr(e,t))}function vs(e,t){return Xr(e,"POST","/v2/accounts/mfaEnrollment:start",Jr(e,t))}function ms(e,t){return Xr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Jr(e,t))}function ys(e,t){return Xr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Jr(e,t))}var gs=function(){function e(t){var n=this;u(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Oo._fromServerResponse(t.auth,e)})))}))}return f(e,[{key:"getSession",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=hs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ut(jt().mark((function e(t,n){var r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,bi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,bi(this.user,ys(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),_s=new WeakMap;var ks="__sak",ws=function(){function e(t,n){u(this,e),this.storageRetriever=t,this.type=n}return f(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ks,"1"),this.storage.removeItem(ks),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var bs=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=it();return Wi(e)||$i(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Yi(),e._shouldAllowMigration=!0,e}return f(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ct()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ut(jt().mark((function e(t,r){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr(p(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ut(jt().mark((function e(t){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr(p(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr(p(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ws);bs.type="LOCAL";var xs=bs,Ss=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return f(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ws);Ss.type="SESSION";var Es=Ss;function Ts(e){return Promise.all(e.map(function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Cs=function(){function e(t){u(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return f(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i,a,o,s,u,c;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ts(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Is(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Cs.receivers=[];var Ns=function(){function e(t){u(this,e),this.target=t,this.handlers=new Set}return f(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ut(jt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Is("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function As(){return window}function Ps(e){As().location.href=e}function Rs(){return"undefined"!==typeof As().WorkerGlobalScope&&"function"===typeof As().importScripts}function Os(){return Ds.apply(this,arguments)}function Ds(){return(Ds=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ls(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ms="firebaseLocalStorageDb",js="firebaseLocalStorage",Fs="fbase_key",Us=function(){function e(t){u(this,e),this.request=t}return f(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Vs(e,t){return e.transaction([js],t?"readwrite":"readonly").objectStore(js)}function Bs(){var e=indexedDB.deleteDatabase(Ms);return new Us(e).toPromise()}function qs(){var e=indexedDB.open(Ms,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(js,{keyPath:Fs})}catch(r){n(r)}})),e.addEventListener("success",Ut(jt().mark((function n(){var r;return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(js)){n.next=12;break}return r.close(),n.next=5,Bs();case 5:return n.t0=t,n.next=8,qs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function zs(e,t,n){return Ws.apply(this,arguments)}function Ws(){return Ws=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vs(t,!0).put((i={},(0,Ve.Z)(i,Fs,n),(0,Ve.Z)(i,"value",r),i)),e.abrupt("return",new Us(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}function Ks(e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=Ut(jt().mark((function e(t,n){var r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vs(t,!1).get(n),e.next=3,new Us(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Gs(e,t){var n=Vs(e,!0).delete(t);return new Us(n).toPromise()}var Zs=function(){function e(){u(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return f(e,[{key:"_openDb",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,qs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ut(jt().mark((function e(){var t=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Cs._getInstance(Rs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ut(jt().mark((function e(n,r){var i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ut(jt().mark((function e(){var t,n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ns(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ls()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,qs();case 5:return t=e.sent,e.next=8,zs(t,ks,"1");case 8:return e.next=10,Gs(t,ks);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ut(jt().mark((function e(t,n){var r=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return zs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ks(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ut(jt().mark((function e(t){var n=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Gs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Vs(e,!1).getAll();return new Us(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Zs.type="LOCAL";var Qs=Zs;function $s(e,t){return Xr(e,"POST","/v2/accounts/mfaSignIn:start",Jr(e,t))}function Ys(e,t){return Xr(e,"POST","/v2/accounts/mfaSignIn:finalize",Jr(e,t))}var Js=1e12,Xs=function(){function e(t){u(this,e),this.auth=t,this.counter=Js,this._widgets=new Map}return f(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new eu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Js;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Js;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Js,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),eu=function(){function e(t,n,r){var i=this;u(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Br(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return f(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var tu=sa("rcb"),nu=new Gr(3e4,6e4),ru=function(){function e(){var t;u(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=As().grecaptcha)||void 0===t?void 0:t.render)}return f(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Br(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Tr(As().grecaptcha)?Promise.resolve(As().grecaptcha):new Promise((function(r,i){var a=As().setTimeout((function(){i(jr(e,"network-request-failed"))}),nu.get());As()[tu]=function(){As().clearTimeout(a),delete As()[tu];var o=As().grecaptcha;if(o&&Tr(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(jr(e,"internal-error"))},oa("".concat("https://www.google.com/recaptcha/api.js?","?").concat(St({onload:tu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(jr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=As().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var iu=function(){function e(){u(this,e)}return f(e,[{key:"load",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Xs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),au="recaptcha",ou={theme:"light",type:"image"},su=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},ou);u(this,e),this.parameters=r,this.type=au,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ia(t),this.isInvisible="invisible"===this.parameters.size,Br("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Br(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iu:new ru,this.validateStartingState()}return f(e,[{key:"verify",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Br(!this.parameters.sitekey,this.auth,"argument-error"),Br(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Br("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=As()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Br(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ut(jt().mark((function e(){var t,n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br(Kr()&&!Rs(),this.auth,"internal-error"),e.next=3,uu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ui(this.auth);case 8:Br(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Br(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function uu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var cu=function(){function e(t,n){u(this,e),this.verificationId=t,this.onConfirmation=n}return f(e,[{key:"confirm",value:function(e){var t=Ga._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function lu(){return lu=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ia(t),e.next=3,pu(i,n,Mt(r));case 3:return a=e.sent,e.abrupt("return",new cu(a,(function(e){return So(i,e)})));case 5:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t,n){return hu.apply(this,arguments)}function hu(){return(hu=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mt(t),e.next=3,go(!1,i,"phone");case 3:return e.next=5,pu(i.auth,n,Mt(r));case 5:return a=e.sent,e.abrupt("return",new cu(a,(function(e){return To(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(){return(du=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mt(t),e.next=3,pu(i.auth,n,Mt(r));case 3:return a=e.sent,e.abrupt("return",new cu(a,(function(e){return Io(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return vu=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Br("string"===typeof a,t,"argument-error"),Br(r.type===au,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Br("enroll"===s.type,t,"internal-error"),e.next=13,ps(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Br("signin"===s.type,t,"internal-error"),Br(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,$s(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ba(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),vu.apply(this,arguments)}function mu(){return(mu=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mo(Mt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yu=function(){function e(t){u(this,e),this.providerId=e.PROVIDER_ID,this.auth=ia(t)}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return pu(this.auth,e,Mt(t))}}],[{key:"credential",value:function(e,t){return Ga._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ga._fromTokenResponse(n,r):null}}]),e}();function gu(e,t){return t?ji(t):(Br(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}yu.PROVIDER_ID="phone",yu.PHONE_SIGN_IN_METHOD="phone";var _u=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,"custom","custom")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return Fa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Fa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Fa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(pa);function ku(e){return bo(e.auth,new _u(e),e.bypassAuthState)}function wu(e){var t=e.auth,n=e.user;return Br(n,t,"internal-error"),ko(n,new _u(e),e.bypassAuthState)}function bu(e){return xu.apply(this,arguments)}function xu(){return xu=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Br(r=t.user,n,"internal-error"),e.abrupt("return",mo(r,new _u(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}var Su=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];u(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return f(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ut(jt().mark((function t(n,r){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ku;case"linkViaPopup":case"linkViaRedirect":return bu;case"reauthViaPopup":case"reauthViaRedirect":return wu;default:Mr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Eu=new Gr(2e3,1e4);function Tu(e,t,n){return Cu.apply(this,arguments)}function Cu(){return Cu=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ia(t),Ur(t,n,$a),a=gu(i,r),o=new Pu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Iu(){return(Iu=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ur((i=Mt(t)).auth,n,$a),a=gu(i.auth,r),o=new Pu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t,n){return Au.apply(this,arguments)}function Au(){return(Au=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ur((i=Mt(t)).auth,n,$a),a=gu(i.auth,r),o=new Pu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pu=function(e){d(n,e);var t=g(n);function n(e,r,i,a,o){var s;return u(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=y(s),s}return f(n,[{key:"executeNotNull",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Br(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ut(jt().mark((function e(){var t,n=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zr(1===this.filter.length,"Popup operations only handle one event"),t=Is(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(jr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(jr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(jr(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Eu.get())}()}}]),n}(Su);Pu.currentPopupAction=null;var Ru="pendingRedirect",Ou=new Map,Du=function(e){d(n,e);var t=g(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return f(n,[{key:"execute",value:function(){var e=Ut(jt().mark((function e(){var t,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ou.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Lu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,mr(p(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ou.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ou.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ut(jt().mark((function e(t){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",mr(p(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",mr(p(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Su);function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=Ut(jt().mark((function e(t,n){var r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bu(n),i=Vu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function ju(e,t){return Fu.apply(this,arguments)}function Fu(){return Fu=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vu(t)._set(Bu(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function Uu(e,t){Ou.set(e._key(),t)}function Vu(e){return ji(e._redirectPersistence)}function Bu(e){return Vi(Ru,e.config.apiKey,e.name)}function qu(e,t,n){return function(e,t,n){return zu.apply(this,arguments)}(e,t,n)}function zu(){return zu=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ia(t),Ur(t,n,$a),e.next=4,i._initializationPromise;case 4:return a=gu(i,r),e.next=7,ju(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function Wu(e,t,n){return function(e,t,n){return Ku.apply(this,arguments)}(e,t,n)}function Ku(){return(Ku=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ur((i=Mt(t)).auth,n,$a),e.next=4,i.auth._initializationPromise;case 4:return a=gu(i.auth,r),e.next=7,ju(a,i.auth);case 7:return e.next=9,Ju(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t,n){return function(e,t,n){return Gu.apply(this,arguments)}(e,t,n)}function Gu(){return(Gu=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ur((i=Mt(t)).auth,n,$a),e.next=4,i.auth._initializationPromise;case 4:return a=gu(i.auth,r),e.next=7,go(!1,i,n.providerId);case 7:return e.next=9,ju(a,i.auth);case 9:return e.next=11,Ju(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t){return Qu.apply(this,arguments)}function Qu(){return Qu=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(t)._initializationPromise;case 2:return e.abrupt("return",$u(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function $u(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=Ut(jt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ia(t),a=gu(i,n),o=new Du(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Ju(e){return Xu.apply(this,arguments)}function Xu(){return(Xu=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Is("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ec=function(){function e(t){u(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return f(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!nc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(tc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function tc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function nc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function rc(e){return ic.apply(this,arguments)}function ic(){return ic=Ut(jt().mark((function e(t){var n,r=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Xr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}var ac=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oc=/^https?/;function sc(){return sc=Ut(jt().mark((function e(t){var n,r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rc(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!uc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Mr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),sc.apply(this,arguments)}function uc(e){var t=Wr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!oc.test(r))return!1;if(ac.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var cc=new Gr(3e4,6e4);function lc(){var e=As().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,s.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var fc=null;function hc(e){return fc=fc||function(e){return new Promise((function(t,n){var r,i,a;function o(){lc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){lc(),n(jr(e,"network-request-failed"))},timeout:cc.get()})}if(null===(i=null===(r=As().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=As().gapi)||void 0===a?void 0:a.load)){var s=sa("iframefcb");return As()[s]=function(){gapi.load?o():n(jr(e,"network-request-failed"))},oa("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw fc=null,e}))}(e),fc}var dc=new Gr(5e3,15e3),pc="__/auth/iframe",vc="emulator/auth/iframe",mc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gc(e){var t=e.config;Br(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Zr(t,vc):"https://".concat(e.config.authDomain,"/").concat(pc),r={apiKey:t.apiKey,appName:e.name,v:jn},i=yc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(St(r).slice(1))}function _c(e){return kc.apply(this,arguments)}function kc(){return kc=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hc(t);case 2:return n=e.sent,Br(r=As().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:gc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mc,dontclear:!0},(function(e){return new Promise(function(){var n=Ut(jt().mark((function n(r,i){var a,o,s;return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){As().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=jr(t,"network-request-failed"),o=As().setTimeout((function(){i(a)}),dc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}var wc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bc=function(){function e(t){u(this,e),this.window=t,this.associatedEvent=null}return f(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function xc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},wc),{width:r.toString(),height:i.toString(),top:a,left:s}),l=it().toLowerCase();n&&(u=Ki(l)?"_blank":n),zi(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return $i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:it())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new bc(null);var h=window.open(t||"",u,f);Br(h,e,"popup-blocked");try{h.focus()}catch(d){}return new bc(h)}var Sc="__/auth/handler",Ec="emulator/auth/handler",Tc=encodeURIComponent("fac");function Cc(e,t,n,r,i,a){return Ic.apply(this,arguments)}function Ic(){return Ic=Ut(jt().mark((function e(t,n,r,i,a,s){var u,c,l,f,h,d,p,v,m,y,g,_,k;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Br(t.config.authDomain,t,"auth-domain-config-required"),Br(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:jn,eventId:a},n instanceof $a)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",kt(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=(0,o.Z)(l[c],2),h=f[0],d=f[1],u[h]=d;for(n instanceof Ya&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return _=e.sent,k=_?"#".concat(Tc,"=").concat(encodeURIComponent(_)):"",e.abrupt("return","".concat(Nc(t),"?").concat(St(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Nc(e){var t=e.config;return t.emulator?Zr(t,Ec):"https://".concat(t.authDomain,"/").concat(Sc)}var Ac="webStorageSupport",Pc=function(){function e(){u(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Es,this._completeRedirectFn=$u,this._overrideRedirectResult=Uu}return f(e,[{key:"_openPopup",value:function(){var e=Ut(jt().mark((function e(t,n,r,i){var a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Cc(t,n,r,Wr(),i);case 3:return o=e.sent,e.abrupt("return",xc(t,o,Is()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ut(jt().mark((function e(t,n,r,i){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Cc(t,n,r,Wr(),i);case 4:return Ps(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(zr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c(t);case 2:return n=e.sent,r=new ec(t),n.register("authEvent",(function(e){return Br(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ac,{type:Ac},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ac];void 0!==i&&t(!!i),Mr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return sc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Yi()||Wi()||$i()}}]),e}(),Rc=Pc,Oc=function(){function e(t){u(this,e),this.factorId=t}return f(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return qr("unexpected MultiFactorSessionType")}}}]),e}(),Dc=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone")).credential=e,r}return f(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Xr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Jr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Xr(e,"POST","/v2/accounts/mfaSignIn:finalize",Jr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Oc),Lc=function(){function e(){u(this,e)}return f(e,null,[{key:"assertion",value:function(e){return Dc._fromCredential(e)}}]),e}();Lc.FACTOR_ID="phone";var Mc=function(){function e(){u(this,e)}return f(e,null,[{key:"assertionForEnrollment",value:function(e,t){return jc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return jc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,vs(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Fc._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Mc.FACTOR_ID="totp";var jc=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return f(n,[{key:"_finalizeEnroll",value:function(){var e=Ut(jt().mark((function e(t,n,r){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",ms(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Ys(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Oc),Fc=function(){function e(t,n,r,i,a,o,s){u(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return f(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Uc(e)||Uc(t))&&(r=!0),r&&(Uc(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Uc(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Uc(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Vc="@firebase/auth",Bc="1.3.0",qc=function(){function e(t){u(this,e),this.auth=t,this.internalListeners=new Map}return f(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Br(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var zc;!function(e){var t;null===(t=et())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Wc(){return window}zc="Browser",An(new Vt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Br(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:zc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ji(zc)},l=new ra(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ji);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),An(new Vt("auth-internal",(function(e){return function(e){return new qc(e)}(ia(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),zn(Vc,Bc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zc)),zn(Vc,Bc,"esm2017");var Kc=2e3;function Hc(e,t,n){return Gc.apply(this,arguments)}function Gc(){return Gc=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wc(),o=a.BuildInfo,zr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Xc(n.sessionId);case 4:return s=e.sent,u={},$i()?u.ibi=o.packageName:Gi()?u.apn=o.packageName:Mr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Cc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Zc(){return Zc=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wc(),r=n.BuildInfo,i={},$i()?i.iosBundleId=r.packageName:Gi()?i.androidPackageName=r.packageName:Mr(t,"operation-not-supported-in-this-environment"),e.next=5,rc(t,i);case 5:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function Qc(e){var t=Wc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function $c(e,t,n){return Yc.apply(this,arguments)}function Yc(){return Yc=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(jr(t,"redirect-cancelled-by-user"))}),Kc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Gi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Yc.apply(this,arguments)}function Jc(e){var t,n,r,i,a,o,s,u,c,l,f=Wc();Br("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Br("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Br("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Br("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Br("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Xc(e){return el.apply(this,arguments)}function el(){return(el=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e){if(zr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var nl=20,rl=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return f(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),mr(p(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ec);function il(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:cl(),postBody:null,tenantId:e.tenantId,error:jr(e,"no-auth-event")}}function al(e,t){return ll()._set(fl(e),t)}function ol(e){return sl.apply(this,arguments)}function sl(){return sl=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll()._get(fl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ll()._remove(fl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function ul(e,t){var n,r,i=function(e){var t=hl(e),n=t.link?decodeURIComponent(t.link):void 0,r=hl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return hl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=hl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?jr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function cl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<nl;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function ll(){return ji(xs)}function fl(e){return Vi("authEvent",e.config.apiKey,e.name)}function hl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return Et(t.slice(1).join("?"))}var dl=function(){function e(){u(this,e),this._redirectPersistence=Es,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$u,this._overrideRedirectResult=Uu}return f(e,[{key:"_initialize",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new rl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Mr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ut(jt().mark((function e(t,n,r,i){var a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ou.clear(),e.next=10,this._originValidation(t);case 10:return o=il(t,r,i),e.next=13,al(t,o);case 13:return e.next=15,Hc(t,o,n);case 15:return s=e.sent,e.next=18,Qc(s);case 18:return u=e.sent,e.abrupt("return",$c(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Wc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ut(jt().mark((function n(){return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ol(e);case 2:t.onEvent(vl());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ut(jt().mark((function n(r){var i,a;return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ol(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=ul(i,r.url)),t.onEvent(a||vl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Wc().handleOpenURL=function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),pl=dl;function vl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:jr("no-auth-event")}}var ml=1e3;function yl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return!("file:"!==yl()&&"ionic:"!==yl()&&"capacitor:"!==yl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return ct()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/Edge\/\d+/.test(e)}(e)}function kl(){try{var e=self.localStorage,t=Is();if(e)return e.setItem(t,"1"),e.removeItem(t),!_l()||ft()}catch(n){return wl()&&ft()}return!1}function wl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function bl(){return("http:"===yl()||"https:"===yl()||st()||gl())&&!(ut()||ot())&&kl()&&!wl()}function xl(){return gl()&&"undefined"!==typeof document}function Sl(){return El.apply(this,arguments)}function El(){return(El=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),ml);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tl={LOCAL:"local",NONE:"none",SESSION:"session"},Cl=Br,Il="persistence";function Nl(e,t){Cl(Object.values(Tl).includes(t),e,"invalid-persistence-type"),ut()?Cl(t!==Tl.SESSION,e,"unsupported-persistence-type"):ot()?Cl(t===Tl.NONE,e,"unsupported-persistence-type"):wl()?Cl(t===Tl.NONE||t===Tl.LOCAL&&ft(),e,"unsupported-persistence-type"):Cl(t===Tl.NONE||kl(),e,"unsupported-persistence-type")}function Al(e){return Pl.apply(this,arguments)}function Pl(){return Pl=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Rl(),r=Vi(Il,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Rl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Ol=Br,Dl=function(){function e(){u(this,e),this.browserResolver=ji(Rc),this.cordovaResolver=ji(pl),this.underlyingResolver=null,this._redirectPersistence=Es,this._completeRedirectFn=$u,this._overrideRedirectResult=Uu}return f(e,[{key:"_initialize",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ut(jt().mark((function e(t,n,r,i){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ut(jt().mark((function e(t,n,r,i){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return xl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Ol(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ll(e){return e.unwrap()}function Ml(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Bl(e,function(e,t){var n,r=Mt(e),i=t;return Br(t.customData.operationType,r,"argument-error"),Br(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ds._fromError(r,i)}(e,t));else if(r){var i=jl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function jl(e){var t=(e instanceof ht?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ht)&&"temporaryProof"in t&&"phoneNumber"in t)return yu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===_r.PASSWORD)return null;switch(r){case _r.GOOGLE:n=eo;break;case _r.FACEBOOK:n=Xa;break;case _r.GITHUB:n=to;break;case _r.TWITTER:n=io;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?no._create(r,s):Va._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ja(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof ht?n.credentialFromError(e):n.credentialFromResult(e)}function Fl(e,t){return t.catch((function(t){throw t instanceof ht&&Ml(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,jl(t)),additionalUserInfo:fs(e),user:ql.getOrCreate(r)}}))}function Ul(e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Fl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}var Bl=function(){function e(t,n){u(this,e),this.resolver=n,this.auth=t.wrapped()}return f(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Fl(Ll(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ql=function(){function e(t){u(this,e),this._delegate=t,this.multiFactor=function(e){var t=Mt(e);return _s.has(t)||_s.set(t,gs._fromUser(t)),_s.get(t)}(t)}return f(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(this.auth,To(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ul(this.auth,fu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(this.auth,Nu(this._delegate,t,Dl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Al(ia(this.auth));case 2:return e.abrupt("return",Hu(this._delegate,t,Dl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(this.auth,Io(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ul(this.auth,function(e,t,n){return du.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Fl(this.auth,function(e,t,n){return Iu.apply(this,arguments)}(this._delegate,e,Dl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Al(ia(this.auth));case 2:return e.abrupt("return",Wu(this._delegate,t,Dl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Jo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return rs(Mt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return rs(Mt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return mu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ns.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Xo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ql.USER_MAP=new WeakMap;var zl=Br,Wl=function(){function e(t,n){if(u(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;zl(r,"invalid-api-key",{appName:t.name}),zl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Dl:void 0;this._delegate=n.initialize({options:{persistence:Hl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ar),this.linkUnderlyingAuth()}return f(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ql.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){fa(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Bo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return qo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Vo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(this._delegate,Ko(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Yo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Za.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zl(bl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Zu(this._delegate,Dl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Fl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ia(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Kl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Kl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Go.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Uo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nl(this._delegate,t),e.t0=t,e.next=e.t0===Tl.SESSION?4:e.t0===Tl.LOCAL?6:e.t0===Tl.NONE?11:13;break;case 4:return n=Es,e.abrupt("break",14);case 6:return e.next=8,ji(Qs)._isAvailable();case 8:return r=e.sent,n=r?Qs:xs,e.abrupt("break",14);case 11:return n=Ui,e.abrupt("break",14);case 13:return e.abrupt("return",Mr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Fl(this._delegate,function(e){return co.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Fl(this._delegate,So(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Fl(this._delegate,function(e,t){return Ro.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Fl(this._delegate,function(e,t,n){return So(Mt(e),Qa.credential(t,n)).catch(function(){var t=Ut(jt().mark((function t(n){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&jo(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Fl(this._delegate,function(e,t,n){return Zo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ul(this._delegate,function(e,t,n){return lu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zl(bl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Fl(this._delegate,Tu(this._delegate,t,Dl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zl(bl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Al(this._delegate);case 3:return e.abrupt("return",qu(this._delegate,t,Dl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Wo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Kl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ql.getOrCreate(e))},error:t,complete:n}}function Hl(e,t){var n=function(e,t){var n=Rl();if(!n)return[];var r=Vi(Il,e,t);switch(n.getItem(r)){case Tl.NONE:return[Ui];case Tl.LOCAL:return[Qs,Es];case Tl.SESSION:return[Es];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Qs)||n.push(Qs),"undefined"!==typeof window)for(var r=0,i=[xs,Es];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ui)||n.push(Ui),n}Wl.Persistence=Tl;var Gl=function(){function e(){u(this,e),this.providerId="phone",this._delegate=new yu(Ll(vr.auth()))}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return yu.credential(e,t)}}]),e}();Gl.PHONE_SIGN_IN_METHOD=yu.PHONE_SIGN_IN_METHOD,Gl.PROVIDER_ID=yu.PROVIDER_ID;var Zl,Ql=Br,$l=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vr.app();u(this,e),Ql(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new su(i.auth(),t,n),this.type=this._delegate.type}return f(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Zl=vr).INTERNAL.registerComponent(new Vt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Wl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:kr,PASSWORD_RESET:wr,RECOVER_EMAIL:br,REVERT_SECOND_FACTOR_ADDITION:xr,VERIFY_AND_CHANGE_EMAIL:Sr,VERIFY_EMAIL:Er}},EmailAuthProvider:Qa,FacebookAuthProvider:Xa,GithubAuthProvider:to,GoogleAuthProvider:eo,OAuthProvider:Ja,SAMLAuthProvider:ro,PhoneAuthProvider:Gl,PhoneMultiFactorGenerator:Lc,RecaptchaVerifier:$l,TwitterAuthProvider:io,Auth:Wl,AuthCredential:pa,Error:ht}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Zl.registerVersion("@firebase/auth-compat","0.4.6");var Yl,Jl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Xl={},ef=ef||{},tf=Jl||self;function nf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var af="closure_uid_"+(1e9*Math.random()>>>0),of=0;function sf(e,t,n){return e.call.apply(e.bind,arguments)}function uf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function cf(e,t,n){return(cf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sf:uf).apply(null,arguments)}function lf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ff(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function hf(){this.s=this.s,this.o=this.o}hf.prototype.s=!1,hf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,af)&&e[af]||(e[af]=++of)}(this)},hf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var df=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function vf(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(nf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function mf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mf.prototype.h=function(){this.defaultPrevented=!0};var yf=function(){if(!tf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{tf.addEventListener("test",(function(){}),t),tf.removeEventListener("test",(function(){}),t)}catch(WF){}return e}();function gf(e){return/^[\s\xa0]*$/.test(e)}function _f(){var e=tf.navigator;return e&&(e=e.userAgent)?e:""}function kf(e){return-1!=_f().indexOf(e)}function wf(e){return wf[" "](e),e}wf[" "]=function(){};var bf,xf,Sf=kf("Opera"),Ef=kf("Trident")||kf("MSIE"),Tf=kf("Edge"),Cf=Tf||Ef,If=kf("Gecko")&&!(-1!=_f().toLowerCase().indexOf("webkit")&&!kf("Edge"))&&!(kf("Trident")||kf("MSIE"))&&!kf("Edge"),Nf=-1!=_f().toLowerCase().indexOf("webkit")&&!kf("Edge");function Af(){var e=tf.document;return e?e.documentMode:void 0}e:{var Pf="",Rf=function(){var e=_f();return If?/rv:([^\);]+)(\)|;)/.exec(e):Tf?/Edge\/([\d\.]+)/.exec(e):Ef?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nf?/WebKit\/(\S+)/.exec(e):Sf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Rf&&(Pf=Rf?Rf[1]:""),Ef){var Of=Af();if(null!=Of&&Of>parseFloat(Pf)){bf=String(Of);break e}}bf=Pf}if(tf.document&&Ef){var Df=Af();xf=Df||(parseInt(bf,10)||void 0)}else xf=void 0;var Lf=xf;function Mf(e,t){if(mf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(If){e:{try{wf(t.nodeName);var i=!0;break e}catch(zF){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:jf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Mf.$.h.call(this)}}ff(Mf,mf);var jf={2:"touch",3:"pen",4:"mouse"};Mf.prototype.h=function(){Mf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ff="closure_listenable_"+(1e6*Math.random()|0),Uf=0;function Vf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Uf,this.fa=this.ia=!1}function Bf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function qf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zf(e){var t={};for(var n in e)t[n]=e[n];return t}var Wf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Wf.length;a++)n=Wf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hf(e){this.src=e,this.g={},this.h=0}function Gf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=df(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Bf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Hf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Zf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Vf(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Qf="closure_lm_"+(1e6*Math.random()|0),$f={};function Yf(e,t,n,r,i){if(r&&r.once)return Xf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yf(e,t[a],n,r,i);return null}return n=oh(n),e&&e[Ff]?e.O(t,n,rf(r)?!!r.capture:!!r,i):Jf(e,t,n,!1,r,i)}function Jf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=rf(i)?!!i.capture:!!i,s=ih(e);if(s||(e[Qf]=s=new Hf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=rh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(nh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xf(e,t[a],n,r,i);return null}return n=oh(n),e&&e[Ff]?e.P(t,n,rf(r)?!!r.capture:!!r,i):Jf(e,t,n,!0,r,i)}function eh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)eh(e,t[a],n,r,i);else r=rf(r)?!!r.capture:!!r,n=oh(n),e&&e[Ff]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zf(a=e.g[t],n,r,i))&&(Bf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ih(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zf(t,n,r,i)),(n=-1<e?t[e]:null)&&th(n))}function th(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ff])Gf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(nh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ih(t))?(Gf(n,e),0==n.h&&(n.src=null,t[Qf]=null)):Bf(e)}}}function nh(e){return e in $f?$f[e]:$f[e]="on"+e}function rh(e,t){if(e.fa)e=!0;else{t=new Mf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&th(e),e=n.call(r,t)}return e}function ih(e){return(e=e[Qf])instanceof Hf?e:null}var ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function oh(e){return"function"===typeof e?e:(e[ah]||(e[ah]=function(t){return e.handleEvent(t)}),e[ah])}function sh(){hf.call(this),this.i=new Hf(this),this.S=this,this.J=null}function uh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new mf(t,e);else if(t instanceof mf)t.target=t.target||e;else{var i=t;Kf(t=new mf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ch(o,r,!0,t)&&i}if(i=ch(o=t.g=e,r,!0,t)&&i,i=ch(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ch(o=t.g=n[a],r,!1,t)&&i}function ch(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Gf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ff(sh,hf),sh.prototype[Ff]=!0,sh.prototype.removeEventListener=function(e,t,n,r){eh(this,e,t,n,r)},sh.prototype.N=function(){if(sh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bf(n[r]);delete t.g[e],t.h--}}this.J=null},sh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},sh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var lh=tf.JSON.stringify,fh=function(){function e(t,n){u(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return f(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function hh(){var e=kh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dh=function(){function e(){u(this,e),this.h=this.g=null}return f(e,[{key:"add",value:function(e,t){var n=ph.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ph=new fh((function(){return new vh}),(function(e){return e.reset()})),vh=function(){function e(){u(this,e),this.next=this.g=this.h=null}return f(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function mh(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function yh(e){tf.setTimeout((function(){throw e}),0)}var gh,_h=!1,kh=new dh,wh=function(){var e=tf.Promise.resolve(void 0);gh=function(){e.then(bh)}},bh=function(){for(var e;e=hh();){try{e.h.call(e.g)}catch(WF){yh(WF)}var t=ph;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_h=!1};function xh(e,t){sh.call(this),this.h=e||1,this.g=t||tf,this.j=cf(this.qb,this),this.l=Date.now()}function Sh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Eh(e,t,n){if("function"===typeof e)n&&(e=cf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=cf(e.handleEvent,e)}return 2147483647<Number(t)?-1:tf.setTimeout(e,t||0)}function Th(e){e.g=Eh((function(){e.g=null,e.i&&(e.i=!1,Th(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ff(xh,sh),(Yl=xh.prototype).ga=!1,Yl.T=null,Yl.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),uh(this,"tick"),this.ga&&(Sh(this),this.start()))}},Yl.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yl.N=function(){xh.$.N.call(this),Sh(this),delete this.g};var Ch=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return f(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Th(this)}},{key:"N",value:function(){mr(p(n.prototype),"N",this).call(this),this.g&&(tf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(hf);function Ih(e){hf.call(this),this.h=e,this.g={}}ff(Ih,hf);var Nh=[];function Ah(e,t,n,r){Array.isArray(n)||(n&&(Nh[0]=n.toString()),n=Nh);for(var i=0;i<n.length;i++){var a=Yf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ph(e){qf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&th(e)}),e),e.g={}}function Rh(){this.g=!0}function Oh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return lh(n)}catch(MF){return t}}(e,n)+(r?" "+r:"")}))}Ih.prototype.N=function(){Ih.$.N.call(this),Ph(this)},Ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rh.prototype.Ea=function(){this.g=!1},Rh.prototype.info=function(){};var Dh={},Lh=null;function Mh(){return Lh=Lh||new sh}function jh(e){mf.call(this,Dh.Ta,e)}function Fh(e){var t=Mh();uh(t,new jh(t))}function Uh(e,t){mf.call(this,Dh.STAT_EVENT,e),this.stat=t}function Vh(e){var t=Mh();uh(t,new Uh(t,e))}function Bh(e,t){mf.call(this,Dh.Ua,e),this.size=t}function qh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return tf.setTimeout((function(){e()}),t)}Dh.Ta="serverreachability",ff(jh,mf),Dh.STAT_EVENT="statevent",ff(Uh,mf),Dh.Ua="timingevent",ff(Bh,mf);var zh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kh(){}function Hh(e){return e.h||(e.h=e.i())}function Gh(){}Kh.prototype.h=null;var Zh,Qh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $h(){mf.call(this,"d")}function Yh(){mf.call(this,"c")}function Jh(){}function Xh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ih(this),this.P=td,e=Cf?125:void 0,this.V=new xh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ed}function ed(){this.i=null,this.g="",this.h=!1}ff($h,mf),ff(Yh,mf),ff(Jh,Kh),Jh.prototype.g=function(){return new XMLHttpRequest},Jh.prototype.i=function(){return{}},Zh=new Jh;var td=45e3,nd={},rd={};function id(e,t,n){e.L=1,e.v=xd(gd(t)),e.s=n,e.S=!0,ad(e,null)}function ad(e,t){e.G=Date.now(),cd(e),e.A=gd(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Md(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ed,e.g=Mp(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ch(cf(e.Pa,e,e.g),e.O)),Ah(e.U,e.g,"readystatechange",e.nb),t=e.I?zf(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Fh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function od(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function sd(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ud(e,n))==rd){4==t&&(e.o=4,Vh(14),i=!1),Oh(e.j,e.m,null,"[Incomplete Response]");break}if(r==nd){e.o=4,Vh(15),Oh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Oh(e.j,e.m,r,null),pd(e,r)}od(e)&&r!=rd&&r!=nd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Vh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ip(t),t.M=!0,Vh(11))):(Oh(e.j,e.m,n,"[Invalid Chunked Response]"),dd(e),hd(e))}function ud(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?rd:(n=Number(t.substring(n,r)),isNaN(n)?nd:(r+=1)+n>t.length?rd:(t=t.slice(r,r+n),e.C=r+n,t))}function cd(e){e.Y=Date.now()+e.P,ld(e,e.P)}function ld(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qh(cf(e.lb,e),t)}function fd(e){e.B&&(tf.clearTimeout(e.B),e.B=null)}function hd(e){0==e.l.H||e.J||Pp(e.l,e)}function dd(e){fd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Sh(e.V),Ph(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function pd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||zd(n.i,e)))if(!e.K&&zd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ap(n),kp(n)}Cp(n),Vh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=qh(cf(n.ib,n),6e3));if(1>=qd(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Op(n,11)}else if((e.K||n.g==e)&&Ap(n),!gf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Wd(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,bd(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Lp(r,r.J?r.pa:null,r.Y),d.K){Kd(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(fd(p),cd(p)),r.g=d}else Tp(r);0<n.j.length&&bp(n)}else"stop"!=a[0]&&"close"!=a[0]||Op(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Op(n,7):_p(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Fh()}catch(a){}}function vd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(nf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(nf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Yl=Xh.prototype).setTimeout=function(e){this.P=e},Yl.nb=function(e){e=e.target;var t=this.M;t&&3==dp(e)?t.l():this.Pa(e)},Yl.Pa=function(e){try{if(e==this.g)e:{var t=dp(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Cf||this.g&&(this.h.h||this.g.ja()||pp(this.g)))){this.J||4!=t||7==n||Fh(),fd(this);var r=this.g.da();this.ca=r;t:if(od(this)){var i=pp(this.g);e="";var a=i.length,o=4==dp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){dd(this),hd(this);var s="";break t}this.h.i=new tf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Vh(12),dd(this),hd(this);break e}Oh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pd(this,r)}this.S?(sd(this,t,s),Cf&&this.i&&3==t&&(Ah(this.U,this.V,"tick",this.mb),this.V.start())):(Oh(this.j,this.m,s,null),pd(this,s)),4==t&&dd(this),this.i&&!this.J&&(4==t?Pp(this.l,this):(this.i=!1,cd(this)))}else(function(e){var t={};e=(e.g&&2<=dp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!gf(e[n])){var r=mh(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Vh(12)):(this.o=0,Vh(13)),dd(this),hd(this)}}}catch(t){}},Yl.mb=function(){if(this.g){var e=dp(this.g),t=this.g.ja();this.C<t.length&&(fd(this),sd(this,e,t),this.i&&4!=e&&cd(this))}},Yl.cancel=function(){this.J=!0,dd(this)},Yl.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Fh(),Vh(17)),dd(this),this.o=2,hd(this)):ld(this,this.Y-e)};var md=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof yd){this.h=e.h,_d(this,e.j),this.s=e.s,this.g=e.g,kd(this,e.m),this.l=e.l;var t=e.i,n=new Rd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wd(this,n),this.o=e.o}else e&&(t=String(e).match(md))?(this.h=!1,_d(this,t[1]||"",!0),this.s=Sd(t[2]||""),this.g=Sd(t[3]||"",!0),kd(this,t[4]),this.l=Sd(t[5]||"",!0),wd(this,t[6]||"",!0),this.o=Sd(t[7]||"")):(this.h=!1,this.i=new Rd(null,this.h))}function gd(e){return new yd(e)}function _d(e,t,n){e.j=n?Sd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wd(e,t,n){t instanceof Rd?(e.i=t,function(e,t){t&&!e.j&&(Od(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dd(this,t),Md(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ed(t,Ad)),e.i=new Rd(t,e.h))}function bd(e,t,n){e.i.set(t,n)}function xd(e){return bd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ed(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Td),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Td(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ed(t,Cd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ed(t,Cd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ed(n,"/"==n.charAt(0)?Nd:Id,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ed(n,Pd)),e.join("")};var Cd=/[#\/\?@]/g,Id=/[#\?:]/g,Nd=/[#\?]/g,Ad=/[#\?@]/g,Pd=/#/g;function Rd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Od(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dd(e,t){Od(e),t=jd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ld(e,t){return Od(e),t=jd(e,t),e.g.has(t)}function Md(e,t,n){Dd(e,t),0<n.length&&(e.i=null,e.g.set(jd(e,t),pf(n)),e.h+=n.length)}function jd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Yl=Rd.prototype).add=function(e,t){Od(this),this.i=null,e=jd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Yl.forEach=function(e,t){Od(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Yl.ta=function(){Od(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Yl.Z=function(e){Od(this);var t=[];if("string"===typeof e)Ld(this,e)&&(t=t.concat(this.g.get(jd(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Yl.set=function(e,t){return Od(this),this.i=null,Ld(this,e=jd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Yl.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Yl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Fd=f((function e(t,n){u(this,e),this.g=t,this.map=n}));function Ud(e){this.l=e||Vd,tf.PerformanceNavigationTiming?e=0<(e=tf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(tf.g&&tf.g.Ka&&tf.g.Ka()&&tf.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vd=10;function Bd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qd(e){return e.h?1:e.g?e.g.size:0}function zd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wd(e,t){e.g?e.g.add(t):e.h=t}function Kd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return pf(e.i)}Ud.prototype.cancel=function(){if(this.i=Hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Gd=function(){function e(){u(this,e)}return f(e,[{key:"stringify",value:function(e){return tf.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return tf.JSON.parse(e,void 0)}}]),e}();function Zd(){this.g=new Gd}function Qd(e,t,n){var r=n||"";try{vd(e,(function(e,n){var i=e;rf(e)&&(i=lh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $d(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(zF){}}function Yd(e){this.l=e.ec||null,this.j=e.ob||!1}function Jd(e,t){sh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Xd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ff(Yd,Kh),Yd.prototype.g=function(){return new Jd(this.l,this.j)},Yd.prototype.i=function(e){return function(){return e}}({}),ff(Jd,sh);var Xd=0;function ep(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function tp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,np(e)}function np(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Yl=Jd.prototype).open=function(e,t){if(this.readyState!=Xd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,np(this)},Yl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||tf).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Yl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tp(this)),this.readyState=Xd},Yl.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,np(this)),this.g&&(this.readyState=3,np(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof tf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ep(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Yl.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tp(this):np(this),3==this.readyState&&ep(this)}},Yl.Za=function(e){this.g&&(this.response=this.responseText=e,tp(this))},Yl.Ya=function(e){this.g&&(this.response=e,tp(this))},Yl.ka=function(){this.g&&tp(this)},Yl.setRequestHeader=function(e,t){this.v.append(e,t)},Yl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Yl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rp=tf.JSON.parse;function ip(e){sh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ap,this.L=this.M=!1}ff(ip,sh);var ap="",op=/^https?$/i,sp=["POST","PUT"];function up(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cp(e),fp(e)}function cp(e){e.F||(e.F=!0,uh(e,"complete"),uh(e,"error"))}function lp(e){if(e.h&&"undefined"!=typeof ef&&(!e.C[1]||4!=dp(e)||2!=e.da()))if(e.v&&4==dp(e))Eh(e.La,0,e);else if(uh(e,"readystatechange"),4==dp(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(md)[1]||null;!a&&tf.self&&tf.self.location&&(a=tf.self.location.protocol.slice(0,-1)),i=!op.test(a?a.toLowerCase():"")}t=i}if(t)uh(e,"complete"),uh(e,"success");else{e.m=6;try{var o=2<dp(e)?e.g.statusText:""}catch(MF){o=""}e.j=o+" ["+e.da()+"]",cp(e)}}finally{fp(e)}}}function fp(e,t){if(e.g){hp(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||uh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function hp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(tf.clearTimeout(e.A),e.A=null)}function dp(e){return e.g?e.g.readyState:0}function pp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ap:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wv){return null}}function vp(e){var t="";return qf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function mp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bd(e,t,n))}function yp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gp(e){this.Ga=0,this.j=[],this.l=new Rh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yp("baseRetryDelayMs",5e3,e),this.hb=yp("retryDelaySeedMs",1e4,e),this.eb=yp("forwardChannelMaxRetries",2,e),this.xa=yp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ud(e&&e.concurrentRequestLimit),this.Ja=new Zd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _p(e){if(wp(e),3==e.H){var t=e.W++,n=gd(e.I);if(bd(n,"SID",e.K),bd(n,"RID",t),bd(n,"TYPE","terminate"),Sp(e,n),(t=new Xh(e,e.l,t)).L=2,t.v=xd(gd(n)),n=!1,tf.navigator&&tf.navigator.sendBeacon)try{n=tf.navigator.sendBeacon(t.v.toString(),"")}catch(QF){}!n&&tf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mp(t.l,null),t.g.ha(t.v)),t.G=Date.now(),cd(t)}Dp(e)}function kp(e){e.g&&(Ip(e),e.g.cancel(),e.g=null)}function wp(e){kp(e),e.u&&(tf.clearTimeout(e.u),e.u=null),Ap(e),e.i.cancel(),e.m&&("number"===typeof e.m&&tf.clearTimeout(e.m),e.m=null)}function bp(e){if(!Bd(e.i)&&!e.m){e.m=!0;var t=e.Na;gh||wh(),_h||(gh(),_h=!0),kh.add(t,e),e.C=0}}function xp(e,t){var n;n=t?t.m:e.W++;var r=gd(e.I);bd(r,"SID",e.K),bd(r,"RID",n),bd(r,"AID",e.V),Sp(e,r),e.o&&e.s&&mp(r,e.o,e.s),n=new Xh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ep(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Wd(e.i,n),id(n,r,t)}function Sp(e,t){e.na&&qf(e.na,(function(e,n){bd(t,n,e)})),e.h&&vd({},(function(e,n){bd(t,n,e)}))}function Ep(e,t,n){n=Math.min(e.j.length,n);var r=e.h?cf(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Qd(l,o,"req"+c+"_")}catch(Um){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Tp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;gh||wh(),_h||(gh(),_h=!0),kh.add(t,e),e.A=0}}function Cp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=qh(cf(e.Ma,e),Rp(e,e.A)),e.A++,!0)}function Ip(e){null!=e.B&&(tf.clearTimeout(e.B),e.B=null)}function Np(e){e.g=new Xh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=gd(e.wa);bd(t,"RID","rpc"),bd(t,"SID",e.K),bd(t,"AID",e.V),bd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bd(t,"TO",e.qa),bd(t,"TYPE","xmlhttp"),Sp(e,t),e.o&&e.s&&mp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=xd(gd(t)),n.s=null,n.S=!0,ad(n,e)}function Ap(e){null!=e.v&&(tf.clearTimeout(e.v),e.v=null)}function Pp(e,t){var n=null;if(e.g==t){Ap(e),Ip(e),e.g=null;var r=2}else{if(!zd(e.i,t))return;n=t.F,Kd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;uh(r=Mh(),new Bh(r,n)),bp(e)}else Tp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(qd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=qh(cf(e.Na,e,t),Rp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Cp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Op(e,5);break;case 4:Op(e,10);break;case 3:Op(e,6);break;default:Op(e,2)}}function Rp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Op(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=cf(e.pb,e);n||(n=new yd("//www.google.com/images/cleardot.gif"),tf.location&&"http"==tf.location.protocol||_d(n,"https"),xd(n)),function(e,t){var n=new Rh;if(tf.Image){var r=new Image;r.onload=lf($d,n,r,"TestLoadImage: loaded",!0,t),r.onerror=lf($d,n,r,"TestLoadImage: error",!1,t),r.onabort=lf($d,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=lf($d,n,r,"TestLoadImage: timeout",!1,t),tf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Vh(2);e.H=0,e.h&&e.h.za(t),Dp(e),wp(e)}function Dp(e){if(e.H=0,e.ma=[],e.h){var t=Hd(e.i);0==t.length&&0==e.j.length||(vf(e.ma,t),vf(e.ma,e.j),e.i.i.length=0,pf(e.j),e.j.length=0),e.h.ya()}}function Lp(e,t,n){var r=n instanceof yd?gd(n):new yd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),kd(r,r.m);else{var i=tf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new yd(null);r&&_d(a,r),t&&(a.g=t),i&&kd(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&bd(r,n,t),bd(r,"VER",e.ra),Sp(e,r),r}function Mp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ip(new Yd({ob:!0})):new ip(e.va)).Oa(e.J),t}function jp(){}function Fp(){if(Ef&&!(10<=Number(Lf)))throw Error("Environmental error: no available transport.")}function Up(e,t){sh.call(this),this.g=new gp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!gf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qp(this)}function Vp(e){$h.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bp(){Yh.call(this),this.status=1}function qp(e){this.g=e}function zp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Wp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Kp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Yl=ip.prototype).Oa=function(e){this.M=e},Yl.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zh.g(),this.C=this.u?Hh(this.u):Hh(Zh),this.g.onreadystatechange=cf(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void up(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,s=C(r.keys());try{for(s.s();!(a=s.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=tf.FormData&&e instanceof tf.FormData,!(0<=df(sp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=C(n);try{for(l.s();!(c=l.n()).done;){var f=(0,o.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hp(this),0<this.B&&((this.L=function(e){return Ef&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cf(this.ua,this)):this.A=Eh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){up(this,u)}},Yl.ua=function(){"undefined"!=typeof ef&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,uh(this,"timeout"),this.abort(8))},Yl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,uh(this,"complete"),uh(this,"abort"),fp(this))},Yl.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fp(this,!0)),ip.$.N.call(this)},Yl.La=function(){this.s||(this.G||this.v||this.l?lp(this):this.kb())},Yl.kb=function(){lp(this)},Yl.isActive=function(){return!!this.g},Yl.da=function(){try{return 2<dp(this)?this.g.status:-1}catch(qF){return-1}},Yl.ja=function(){try{return this.g?this.g.responseText:""}catch(qF){return""}},Yl.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rp(t)}},Yl.Ia=function(){return this.m},Yl.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Yl=gp.prototype).ra=8,Yl.H=1,Yl.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Xh(this,this.l,e),n=this.s;if(this.U&&(n?Kf(n=zf(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ep(this,t,r),bd(i=gd(this.I),"RID",e),bd(i,"CVER",22),this.F&&bd(i,"X-HTTP-Session-Id",this.F),Sp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(vp(n)))+"&"+r:this.o&&mp(i,this.o,n)),Wd(this.i,t),this.bb&&bd(i,"TYPE","init"),this.P?(bd(i,"$req",r),bd(i,"SID","null"),t.aa=!0,id(t,i,null)):id(t,i,r),this.H=2}}else 3==this.H&&(e?xp(this,e):0==this.j.length||Bd(this.i)||xp(this))},Yl.Ma=function(){if(this.u=null,Np(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=qh(cf(this.jb,this),e)}},Yl.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vh(10),kp(this),Np(this))},Yl.ib=function(){null!=this.v&&(this.v=null,kp(this),Cp(this),Vh(19))},Yl.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Vh(2)):(this.l.info("Failed to ping google.com"),Vh(1))},Yl.isActive=function(){return!!this.h&&this.h.isActive(this)},(Yl=jp.prototype).Ba=function(){},Yl.Aa=function(){},Yl.za=function(){},Yl.ya=function(){},Yl.isActive=function(){return!0},Yl.Va=function(){},Fp.prototype.g=function(e,t){return new Up(e,t)},ff(Up,sh),Up.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Vh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Lp(e,null,e.Y),bp(e)},Up.prototype.close=function(){_p(this.g)},Up.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=lh(e),e=n);t.j.push(new Fd(t.fb++,e)),3==t.H&&bp(t)},Up.prototype.N=function(){this.g.h=null,delete this.j,_p(this.g),delete this.g,Up.$.N.call(this)},ff(Vp,$h),ff(Bp,Yh),ff(qp,jp),qp.prototype.Ba=function(){uh(this.g,"a")},qp.prototype.Aa=function(e){uh(this.g,new Vp(e))},qp.prototype.za=function(e){uh(this.g,new Bp)},qp.prototype.ya=function(){uh(this.g,"b")},ff(zp,(function(){this.blockSize=-1})),zp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Wp(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Wp(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Wp(this,r),i=0;break}}this.h=i,this.i+=t},zp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Hp={};function Gp(e){return-128<=e&&128>e?function(e,t){var n=Hp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Kp([0|e],0>e?-1:0)})):new Kp([0|e],0>e?-1:0)}function Zp(e){if(isNaN(e)||!isFinite(e))return $p;if(0>e)return tv(Zp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Qp;return new Kp(t,0)}var Qp=4294967296,$p=Gp(0),Yp=Gp(1),Jp=Gp(16777216);function Xp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ev(e){return-1==e.h}function tv(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Kp(n,~e.h).add(Yp)}function nv(e,t){return e.add(tv(t))}function rv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function iv(e,t){this.g=e,this.h=t}function av(e,t){if(Xp(t))throw Error("division by zero");if(Xp(e))return new iv($p,$p);if(ev(e))return t=av(tv(e),t),new iv(tv(t.g),tv(t.h));if(ev(t))return t=av(e,tv(t)),new iv(tv(t.g),t.h);if(30<e.g.length){if(ev(e)||ev(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Yp,r=t;0>=r.X(e);)n=ov(n),r=ov(r);var i=sv(n,1),a=sv(r,1);for(r=sv(r,2),n=sv(n,2);!Xp(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=sv(r,1),n=sv(n,1)}return t=nv(e,i.R(t)),new iv(i,t)}for(i=$p;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Zp(n)).R(t);ev(o)||0<o.X(e);)o=(a=Zp(n-=r)).R(t);Xp(a)&&(a=Yp),i=i.add(a),e=nv(e,o)}return new iv(i,e)}function ov(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Kp(n,e.h)}function sv(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Kp(i,e.h)}(Yl=Kp.prototype).ea=function(){if(ev(this))return-tv(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Qp+r)*t,t*=Qp}return e},Yl.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Xp(this))return"0";if(ev(this))return"-"+tv(this).toString(e);for(var t=Zp(Math.pow(e,6)),n=this,r="";;){var i=av(n,t).g,a=((0<(n=nv(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Xp(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Yl.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Yl.X=function(e){return ev(e=nv(this,e))?-1:Xp(e)?0:1},Yl.abs=function(){return ev(this)?tv(this):this},Yl.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Kp(n,-2147483648&n[n.length-1]?-1:0)},Yl.R=function(e){if(Xp(this)||Xp(e))return $p;if(ev(this))return ev(e)?tv(this).R(tv(e)):tv(tv(this).R(e));if(ev(e))return tv(this.R(tv(e)));if(0>this.X(Jp)&&0>e.X(Jp))return Zp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,rv(n,2*r+2*i),n[2*r+2*i+1]+=a*u,rv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,rv(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,rv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Kp(n,0)},Yl.gb=function(e){return av(this,e).h},Yl.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Kp(n,this.h&e.h)},Yl.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Kp(n,this.h|e.h)},Yl.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Kp(n,this.h^e.h)},Fp.prototype.createWebChannel=Fp.prototype.g,Up.prototype.send=Up.prototype.u,Up.prototype.open=Up.prototype.m,Up.prototype.close=Up.prototype.close,zh.NO_ERROR=0,zh.TIMEOUT=8,zh.HTTP_ERROR=6,Wh.COMPLETE="complete",Gh.EventType=Qh,Qh.OPEN="a",Qh.CLOSE="b",Qh.ERROR="c",Qh.MESSAGE="d",sh.prototype.listen=sh.prototype.O,ip.prototype.listenOnce=ip.prototype.P,ip.prototype.getLastError=ip.prototype.Sa,ip.prototype.getLastErrorCode=ip.prototype.Ia,ip.prototype.getStatus=ip.prototype.da,ip.prototype.getResponseJson=ip.prototype.Wa,ip.prototype.getResponseText=ip.prototype.ja,ip.prototype.send=ip.prototype.ha,ip.prototype.setWithCredentials=ip.prototype.Oa,zp.prototype.digest=zp.prototype.l,zp.prototype.reset=zp.prototype.reset,zp.prototype.update=zp.prototype.j,Kp.prototype.add=Kp.prototype.add,Kp.prototype.multiply=Kp.prototype.R,Kp.prototype.modulo=Kp.prototype.gb,Kp.prototype.compare=Kp.prototype.X,Kp.prototype.toNumber=Kp.prototype.ea,Kp.prototype.toString=Kp.prototype.toString,Kp.prototype.getBits=Kp.prototype.D,Kp.fromNumber=Zp,Kp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return tv(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Zp(Math.pow(n,8)),i=$p,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Zp(Math.pow(n,o)),i=i.R(o).add(Zp(s))):i=(i=i.R(r)).add(Zp(s))}return i};var uv=Xl.createWebChannelTransport=function(){return new Fp},cv=Xl.getStatEventTarget=function(){return Mh()},lv=Xl.ErrorCode=zh,fv=Xl.EventType=Wh,hv=Xl.Event=Dh,dv=Xl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pv=(Xl.FetchXmlHttpFactory=Yd,Xl.WebChannel=Gh),vv=Xl.XhrIo=ip,mv=Xl.Md5=zp,yv=Xl.Integer=Kp,gv="@firebase/firestore",_v=function(){function e(t){u(this,e),this.uid=t}return f(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_v.UNAUTHENTICATED=new _v(null),_v.GOOGLE_CREDENTIALS=new _v("google-credentials-uid"),_v.FIRST_PARTY=new _v("first-party-uid"),_v.MOCK_USER=new _v("mock-user");var kv="10.5.0",wv=new Yt("@firebase/firestore");function bv(){return wv.logLevel}function xv(e){if(wv.logLevel<=Wt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Tv);wv.debug.apply(wv,["Firestore (".concat(kv,"): ").concat(e)].concat((0,s.Z)(i)))}}function Sv(e){if(wv.logLevel<=Wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Tv);wv.error.apply(wv,["Firestore (".concat(kv,"): ").concat(e)].concat((0,s.Z)(i)))}}function Ev(e){if(wv.logLevel<=Wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Tv);wv.warn.apply(wv,["Firestore (".concat(kv,"): ").concat(e)].concat((0,s.Z)(i)))}}function Tv(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(FF){return e}}function Cv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(kv,") INTERNAL ASSERTION FAILED: ")+e;throw Sv(t),new Error(t)}function Iv(e,t){e||Cv()}function Nv(e,t){return e}var Av={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pv=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return f(n)}(ht),Rv=f((function e(){var t=this;u(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ov=f((function e(t,n){u(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Dv=function(){function e(){u(this,e)}return f(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_v.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Lv=function(){function e(t){u(this,e),this.token=t,this.changeListener=null}return f(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Mv=function(){function e(t){u(this,e),this.t=t,this.currentUser=_v.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Rv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Rv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){xv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(xv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(xv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Iv("string"==typeof n.accessToken),new Ov(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Iv(null===e||"string"==typeof e),new _v(e)}}]),e}(),jv=function(){function e(t,n,r){u(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=_v.FIRST_PARTY,this.I=new Map}return f(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Fv=function(){function e(t,n,r){u(this,e),this.l=t,this.h=n,this.P=r}return f(e,[{key:"getToken",value:function(){return Promise.resolve(new jv(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_v.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Uv=f((function e(t){u(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Vv=function(){function e(t){u(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&xv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,xv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){xv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):xv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Iv("string"==typeof t.token),e.R=t.token,new Uv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Bv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var qv=function(){function e(){u(this,e)}return f(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Bv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function zv(e,t){return e<t?-1:e>t?1:0}function Wv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Kv(e){return e+"\0"}var Hv=function(){function e(t,n){if(u(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Pv(Av.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pv(Av.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Pv(Av.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pv(Av.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return f(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zv(this.nanoseconds,e.nanoseconds):zv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Gv=function(){function e(t){u(this,e),this.timestamp=t}return f(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hv(0,0))}},{key:"max",value:function(){return new e(new Hv(253402300799,999999999))}}]),e}(),Zv=function(){function e(t,n,r){u(this,e),void 0===n?n=0:n>t.length&&Cv(),void 0===r?r=t.length-n:r>t.length-n&&Cv(),this.segments=t,this.offset=n,this.len=r}return f(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Qv=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Pv(Av.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,s.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zv),$v=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yv=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $v.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Pv(Av.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Pv(Av.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pv(Av.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Pv(Av.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zv),Jv=function(){function e(t){u(this,e),this.path=t}return f(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Qv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Qv.fromString(t))}},{key:"fromName",value:function(t){return new e(Qv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Qv.emptyPath())}},{key:"comparator",value:function(e,t){return Qv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Qv(t.slice()))}}]),e}(),Xv=f((function e(t,n,r,i){u(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function em(e){return e.fields.find((function(e){return 2===e.kind}))}function tm(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xv.UNKNOWN_ID=-1;var nm=f((function e(t,n){u(this,e),this.fieldPath=t,this.kind=n}));var rm=function(){function e(t,n){u(this,e),this.sequenceNumber=t,this.offset=n}return f(e,null,[{key:"empty",value:function(){return new e(0,om.min())}}]),e}();function im(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gv.fromTimestamp(1e9===r?new Hv(n+1,0):new Hv(n,r));return new om(i,Jv.empty(),t)}function am(e){return new om(e.readTime,e.key,-1)}var om=function(){function e(t,n,r){u(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return f(e,null,[{key:"min",value:function(){return new e(Gv.min(),Jv.empty(),-1)}},{key:"max",value:function(){return new e(Gv.max(),Jv.empty(),-1)}}]),e}();function sm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Jv.comparator(e.documentKey,t.documentKey))?n:zv(e.largestBatchId,t.largestBatchId)}var um="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cm=function(){function e(){u(this,e),this.onCommittedListeners=[]}return f(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function lm(e){return fm.apply(this,arguments)}function fm(){return fm=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Av.FAILED_PRECONDITION&&t.message===um){e.next=2;break}throw t;case 2:xv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}var hm=function(){function e(t){var n=this;u(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return f(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Cv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),dm=function(){function e(t,n){var r=this;u(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new Rv,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new mm(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=wm(e.target.error);r.m.reject(new mm(t,n))}}return f(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(xv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new gm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new mm(n,t)}}}]),e}(),pm=function(){function e(t,n,r){u(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(it())&&Sv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f(e,[{key:"N",value:function(){var e=Ut(jt().mark((function e(t){var n=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return xv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new mm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Pv(Av.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Pv(Av.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new mm(t,n))},i.onupgradeneeded=function(e){xv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){xv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ut(jt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=jt().mark((function e(){var n,s,u,l;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=dm.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),hm.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,xv("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return xv("SimpleDb","Removing database:",e),_m(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ft())return!1;if(e.v())return!0;var t=it(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"ns08s33m38e5xxpc3387v2blopa9hp",REACT_APP_AUTHORIZATION_TOKEN:"nm1szcocbwgr6x35efttsncviwqjep"})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),vm=function(){function e(t){u(this,e),this.q=t,this.K=!1,this.$=null}return f(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return _m(this.q.delete())}}]),e}(),mm=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,Av.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return f(n)}(Pv);function ym(e){return"IndexedDbTransactionError"===e.name}var gm=function(){function e(t){u(this,e),this.store=t}return f(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(xv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(xv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_m(n)}},{key:"add",value:function(e){return xv("SimpleDb","ADD",this.store.name,e,e),_m(this.store.add(e))}},{key:"get",value:function(e){var t=this;return _m(this.store.get(e)).next((function(n){return void 0===n&&(n=null),xv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return xv("SimpleDb","DELETE",this.store.name,e),_m(this.store.delete(e))}},{key:"count",value:function(){return xv("SimpleDb","COUNT",this.store.name),_m(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new hm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new hm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){xv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new hm((function(n,r){t.onerror=function(e){var t=wm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new hm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new vm(i),o=t(i.primaryKey,i.value,a);if(o instanceof hm){var s=o.catch((function(e){return a.done(),hm.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return hm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function _m(e){return new hm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=wm(e.target.error);n(t)}}))}var km=!1;function wm(e){var t=pm.D(it());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Pv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return km||(km=!0,setTimeout((function(){throw r}),0)),r}}return e}var bm=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return f(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;xv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=xv,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ym(e.t4)){e.next=17;break}xv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,lm(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),xm=function(){function e(t,n){u(this,e),this.localStore=t,this.persistence=n}return f(e,[{key:"ne",value:function(){var e=Ut(jt().mark((function e(){var t,n=this,r=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return hm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return xv("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return xv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=am(t);sm(r,n)>0&&(n=r)})),new om(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Sm=function(){function e(t,n){var r=this;u(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return f(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Em(e){return null==e}function Tm(e){return 0===e&&1/e==-1/0}function Cm(e){return"number"==typeof e&&Number.isInteger(e)&&!Tm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Im(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Am(t)),t=Nm(e.get(n),t);return Am(t)}function Nm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Am(e){return e+"\x01\x01"}function Pm(e){var t=e.length;if(Iv(t>=2),2===t)return Iv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Cv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Cv()}a=o+2}return new Qv(r)}Sm.ae=-1;var Rm=["userId","batchId"];function Om(e,t){return[e,Im(t)]}function Dm(e,t,n){return[e,Im(t),n]}var Lm={},Mm=["prefixPath","collectionGroup","readTime","documentId"],jm=["prefixPath","collectionGroup","documentId"],Fm=["collectionGroup","readTime","prefixPath","documentId"],Um=["canonicalId","targetId"],Vm=["targetId","path"],Bm=["path","targetId"],qm=["collectionId","parent"],zm=["indexId","uid"],Wm=["uid","sequenceNumber"],Km=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hm=["indexId","uid","orderedDocumentKey"],Gm=["userId","collectionPath","documentId"],Zm=["userId","collectionPath","largestBatchId"],Qm=["userId","collectionGroup","largestBatchId"],$m=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ym=[].concat((0,s.Z)($m),["documentOverlays"]),Jm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xm=Jm,ey=[].concat(Xm,["indexConfiguration","indexState","indexEntries"]),ty=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return f(n)}(cm);function ny(e,t){var n=Nv(e);return pm.O(n.ue,t)}function ry(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function iy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ay(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var oy=function(){function e(t,n){u(this,e),this.comparator=t,this.root=n||uy.EMPTY}return f(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,uy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,uy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new sy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new sy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new sy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new sy(this.root,e,this.comparator,!0)}}]),e}(),sy=function(){function e(t,n,r,i){u(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return f(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),uy=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return f(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Cv();if(this.right.isRed())throw Cv();var e=this.left.check();if(e!==this.right.check())throw Cv();return e+(this.isRed()?0:1)}}]),e}();uy.EMPTY=null,uy.RED=!0,uy.BLACK=!1,uy.EMPTY=new(function(){function e(){u(this,e),this.size=0}return f(e,[{key:"key",get:function(){throw Cv()}},{key:"value",get:function(){throw Cv()}},{key:"color",get:function(){throw Cv()}},{key:"left",get:function(){throw Cv()}},{key:"right",get:function(){throw Cv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new uy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var cy=function(){function e(t){u(this,e),this.comparator=t,this.data=new oy(this.comparator)}return f(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ly(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ly(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ly=function(){function e(t){u(this,e),this.iter=t}return f(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function fy(e){return e.hasNext()?e.getNext():void 0}var hy=function(){function e(t){u(this,e),this.fields=t,t.sort(Yv.comparator)}return f(e,[{key:"unionWith",value:function(t){var n,r=new cy(Yv.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Wv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),dy=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return f(n)}(k(Error));var py=function(e){function t(e){u(this,t),this.binaryString=e}return f(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dy("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();py.EMPTY_BYTE_STRING=new py("");var vy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function my(e){if(Iv(!!e),"string"==typeof e){var t=0,n=vy.exec(e);if(Iv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yy(e.seconds),nanos:yy(e.nanos)}}function yy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gy(e){return"string"==typeof e?py.fromBase64String(e):py.fromUint8Array(e)}function _y(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ky(e){var t=e.mapValue.fields.__previous_value__;return _y(t)?ky(t):t}function wy(e){var t=my(e.mapValue.fields.__local_write_time__.timestampValue);return new Hv(t.seconds,t.nanos)}var by=f((function e(t,n,r,i,a,o,s,c,l){u(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=l})),xy=function(){function e(t,n){u(this,e),this.projectId=t,this.database=n||"(default)"}return f(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Sy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ey={nullValue:"NULL_VALUE"};function Ty(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_y(e)?4:Vy(e)?9007199254740991:10:Cv()}function Cy(e,t){if(e===t)return!0;var n=Ty(e);if(n!==Ty(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wy(e).isEqual(wy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=my(e.timestampValue),r=my(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gy(e.bytesValue).isEqual(gy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yy(e.geoPointValue.latitude)===yy(t.geoPointValue.latitude)&&yy(e.geoPointValue.longitude)===yy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yy(e.integerValue)===yy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yy(e.doubleValue),r=yy(t.doubleValue);return n===r?Tm(n)===Tm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wv(e.arrayValue.values||[],t.arrayValue.values||[],Cy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ry(n)!==ry(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cy(n[i],r[i])))return!1;return!0}(e,t);default:return Cv()}}function Iy(e,t){return void 0!==(e.values||[]).find((function(e){return Cy(e,t)}))}function Ny(e,t){if(e===t)return 0;var n=Ty(e),r=Ty(t);if(n!==r)return zv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yy(e.integerValue||e.doubleValue),r=yy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ay(e.timestampValue,t.timestampValue);case 4:return Ay(wy(e),wy(t));case 5:return zv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gy(e),r=gy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=zv(n[i],r[i]);if(0!==a)return a}return zv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zv(yy(e.latitude),yy(t.latitude));return 0!==n?n:zv(yy(e.longitude),yy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ny(n[i],r[i]);if(a)return a}return zv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Sy.mapValue&&t===Sy.mapValue)return 0;if(e===Sy.mapValue)return 1;if(t===Sy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=zv(r[o],a[o]);if(0!==s)return s;var u=Ny(n[r[o]],i[a[o]]);if(0!==u)return u}return zv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Cv()}}function Ay(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zv(e,t);var n=my(e),r=my(t),i=zv(n.seconds,r.seconds);return 0!==i?i:zv(n.nanos,r.nanos)}function Py(e){return Ry(e)}function Ry(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=my(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return gy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Jv.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ry(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ry(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Cv()}function Oy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dy(e){return!!e&&"integerValue"in e}function Ly(e){return!!e&&"arrayValue"in e}function My(e){return!!e&&"nullValue"in e}function jy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fy(e){return!!e&&"mapValue"in e}function Uy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return iy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Uy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Uy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Vy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function By(e){return"nullValue"in e?Ey:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Oy(xy.empty(),Jv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Cv()}function qy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Oy(xy.empty(),Jv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Sy:Cv()}function zy(e,t){var n=Ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Wy(e,t){var n=Ny(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ky=function(){function e(t){u(this,e),this.value=t}return f(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uy(t)}},{key:"setAll",value:function(e){var t=this,n=Yv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Uy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Cy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){iy(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Uy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Hy(e){var t=[];return iy(e.fields,(function(e,n){var r=new Yv([e]);if(Fy(n)){var i=Hy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new hy(t)}var Gy=function(){function e(t,n,r,i,a,o,s){u(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return f(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Gv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ky.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ky.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Gv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Gv.min(),Gv.min(),Gv.min(),Ky.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Gv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Gv.min(),Gv.min(),Ky.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Gv.min(),Gv.min(),Ky.empty(),2)}}]),e}(),Zy=f((function e(t,n){u(this,e),this.position=t,this.inclusive=n}));function Qy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Jv.comparator(Jv.fromName(o.referenceValue),n.key):Ny(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function $y(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Cy(e.position[n],t.position[n]))return!1;return!0}var Yy=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";u(this,e),this.field=t,this.dir=n}));function Jy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Xy=f((function e(){u(this,e)})),eg=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ny(t,this.value)):null!==t&&Ty(this.value)===Ty(t)&&this.matchesComparison(Ny(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new lg(e,t,r):"array-contains"===t?new pg(e,r):"in"===t?new vg(e,r):"not-in"===t?new mg(e,r):"array-contains-any"===t?new yg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new fg(e,n):new hg(e,n)}}]),n}(Xy),tg=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return f(n,[{key:"matches",value:function(e){return ng(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Xy);function ng(e){return"and"===e.op}function rg(e){return"or"===e.op}function ig(e){return ag(e)&&ng(e)}function ag(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof tg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function og(e){if(e instanceof eg)return e.field.canonicalString()+e.op.toString()+Py(e.value);if(ig(e))return e.filters.map((function(e){return og(e)})).join(",");var t=e.filters.map((function(e){return og(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function sg(e,t){return e instanceof eg?function(e,t){return t instanceof eg&&e.op===t.op&&e.field.isEqual(t.field)&&Cy(e.value,t.value)}(e,t):e instanceof tg?function(e,t){return t instanceof tg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&sg(n,t.filters[r])}),!0)}(e,t):void Cv()}function ug(e,t){var n=e.filters.concat(t);return tg.create(n,e.op)}function cg(e){return e instanceof eg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Py(e.value))}(e):e instanceof tg?function(e){return e.op.toString()+" {"+e.getFilters().map(cg).join(" ,")+"}"}(e):"Filter"}var lg=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,i)).key=Jv.fromName(i.referenceValue),a}return f(n,[{key:"matches",value:function(e){var t=Jv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(eg),fg=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"in",r)).keys=dg("in",r),i}return f(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(eg),hg=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,"not-in",r)).keys=dg("not-in",r),i}return f(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(eg);function dg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Jv.fromName(e.referenceValue)}))}var pg=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ly(t)&&Iy(t.arrayValue,this.value)}}]),n}(eg),vg=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"in",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Iy(this.value.arrayValue,t)}}]),n}(eg),mg=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"not-in",r)}return f(n,[{key:"matches",value:function(e){if(Iy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Iy(this.value.arrayValue,t)}}]),n}(eg),yg=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,"array-contains-any",r)}return f(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Iy(t.value.arrayValue,e)}))}}]),n}(eg),gg=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;u(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.le=null}));function _g(e){return new gg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function kg(e){var t=Nv(e);if(null===t.le){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return og(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Em(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Py(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Py(e)})).join(",")),t.le=n}return t.le}function wg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Jy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!sg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$y(e.startAt,t.startAt)&&$y(e.endAt,t.endAt)}function bg(e){return Jv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function xg(e,t){return e.filters.filter((function(e){return e instanceof eg&&e.field.isEqual(t)}))}function Sg(e,t,n){var r,i=Ey,a=!0,o=C(xg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Ey,c=!0;switch(s.op){case"<":case"<=":u=By(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Ey}zy({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];zy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Eg(e,t,n){var r,i=Sy,a=!0,o=C(xg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Sy,c=!0;switch(s.op){case">=":case">":u=qy(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Sy}Wy({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Wy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Tg=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;u(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function Cg(e,t,n,r,i,a,o,s){return new Tg(e,t,n,r,i,a,o,s)}function Ig(e){return new Tg(e)}function Ng(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ag(e){return null!==e.collectionGroup}function Pg(e){var t=Nv(e);if(null===t.he){t.he=[];var n,r=new Set,i=C(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.he.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new cy(Yv.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.he.push(new Yy(e,o))})),r.has(Yv.keyField().canonicalString())||t.he.push(new Yy(Yv.keyField(),o))}return t.he}function Rg(e){var t=Nv(e);return t.Pe||(t.Pe=Og(t,Pg(e))),t.Pe}function Og(e,t){if("F"===e.limitType)return _g(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Yy(e.field,t)}));var n=e.endAt?new Zy(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zy(e.startAt.position,e.startAt.inclusive):null;return _g(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Dg(e,t){var n=e.filters.concat([t]);return new Tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Lg(e,t,n){return new Tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mg(e,t){return wg(Rg(e),Rg(t))&&e.limitType===t.limitType}function jg(e){return"".concat(kg(Rg(e)),"|lt:").concat(e.limitType)}function Fg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return cg(e)})).join(", "),"]")),Em(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Py(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Py(e)})).join(",")),"Target(".concat(t,")")}(Rg(e)),"; limitType=").concat(e.limitType,")")}function Ug(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(Pg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Qy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Pg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Qy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Pg(e),t))}(e,t)}function Vg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bg(e){return function(t,n){var r,i=!1,a=C(Pg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=qg(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function qg(e,t,n){var r=e.field.isKeyField()?Jv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ny(r,i):Cv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cv()}}var zg=function(){function e(t,n){u(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return f(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){iy(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ay(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wg=new oy(Jv.comparator);function Kg(){return Wg}var Hg=new oy(Jv.comparator);function Gg(){for(var e=Hg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Zg(e){var t=Hg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Qg(){return Yg()}function $g(){return Yg()}function Yg(){return new zg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Jg=new oy(Jv.comparator),Xg=new cy(Jv.comparator);function e_(){for(var e=Xg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var t_=new cy(zv);function n_(){return t_}function r_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(t)?"-0":t}}function i_(e){return{integerValue:""+e}}function a_(e,t){return Cm(t)?i_(t):r_(e,t)}var o_=f((function e(){u(this,e),this._=void 0}));function s_(e,t,n){return e instanceof l_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_y(t)&&(t=ky(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof f_?h_(e,t):e instanceof d_?p_(e,t):function(e,t){var n=c_(e,t),r=m_(n)+m_(e.Te);return Dy(n)&&Dy(e.Te)?i_(r):r_(e.serializer,r)}(e,t)}function u_(e,t,n){return e instanceof f_?h_(e,t):e instanceof d_?p_(e,t):n}function c_(e,t){return e instanceof v_?function(e){return Dy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var l_=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n)}(o_),f_=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return f(n)}(o_);function h_(e,t){var n,r=y_(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Cy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var d_=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).elements=e,r}return f(n)}(o_);function p_(e,t){var n,r=y_(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Cy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var v_=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return f(n)}(o_);function m_(e){return yy(e.integerValue||e.doubleValue)}function y_(e){return Ly(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var g_=f((function e(t,n){u(this,e),this.field=t,this.transform=n}));var __=f((function e(t,n){u(this,e),this.version=t,this.transformResults=n})),k_=function(){function e(t,n){u(this,e),this.updateTime=t,this.exists=n}return f(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function w_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var b_=f((function e(){u(this,e)}));function x_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new L_(e.key,k_.none()):new I_(e.key,e.data,k_.none());var n,r=e.data,i=Ky.empty(),a=new cy(Yv.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new N_(e.key,i,new hy(a.toArray()),k_.none())}function S_(e,t,n){e instanceof I_?function(e,t,n){var r=e.value.clone(),i=P_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof N_?function(e,t,n){if(w_(e.precondition,t)){var r=P_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(A_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function E_(e,t,n,r){return e instanceof I_?function(e,t,n,r){if(!w_(e.precondition,t))return n;var i=e.value.clone(),a=R_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof N_?function(e,t,n,r){if(!w_(e.precondition,t))return n;var i=R_(e.fieldTransforms,r,t),a=t.data;return a.setAll(A_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return w_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function T_(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=c_(a.transform,o||null);null!=s&&(null===r&&(r=Ky.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function C_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof f_&&t instanceof f_||e instanceof d_&&t instanceof d_?Wv(e.elements,t.elements,Cy):e instanceof v_&&t instanceof v_?Cy(e.Te,t.Te):e instanceof l_&&t instanceof l_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var I_=function(e){d(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return u(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(b_),N_=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return u(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return f(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(b_);function A_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function P_(e,t,n){var r=new Map;Iv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,u_(o,s,n[i]))}return r}function R_(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,s_(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var O_,D_,L_=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(b_),M_=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(b_),j_=function(){function e(t,n,r,i){u(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return f(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&S_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=E_(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=E_(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=$g();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=x_(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Gv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),e_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Wv(this.mutations,e.mutations,(function(e,t){return C_(e,t)}))&&Wv(this.baseMutations,e.baseMutations,(function(e,t){return C_(e,t)}))}}]),e}(),F_=function(){function e(t,n,r,i){u(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return f(e,null,[{key:"from",value:function(t,n,r){Iv(t.mutations.length===r.length);for(var i=Jg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),U_=function(){function e(t,n){u(this,e),this.largestBatchId=t,this.mutation=n}return f(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),V_=f((function e(t,n){u(this,e),this.count=t,this.unchangedNames=n}));function B_(e){switch(e){default:return Cv();case Av.CANCELLED:case Av.UNKNOWN:case Av.DEADLINE_EXCEEDED:case Av.RESOURCE_EXHAUSTED:case Av.INTERNAL:case Av.UNAVAILABLE:case Av.UNAUTHENTICATED:return!1;case Av.INVALID_ARGUMENT:case Av.NOT_FOUND:case Av.ALREADY_EXISTS:case Av.PERMISSION_DENIED:case Av.FAILED_PRECONDITION:case Av.ABORTED:case Av.OUT_OF_RANGE:case Av.UNIMPLEMENTED:case Av.DATA_LOSS:return!0}}function q_(e){if(void 0===e)return Sv("GRPC error has no .code"),Av.UNKNOWN;switch(e){case O_.OK:return Av.OK;case O_.CANCELLED:return Av.CANCELLED;case O_.UNKNOWN:return Av.UNKNOWN;case O_.DEADLINE_EXCEEDED:return Av.DEADLINE_EXCEEDED;case O_.RESOURCE_EXHAUSTED:return Av.RESOURCE_EXHAUSTED;case O_.INTERNAL:return Av.INTERNAL;case O_.UNAVAILABLE:return Av.UNAVAILABLE;case O_.UNAUTHENTICATED:return Av.UNAUTHENTICATED;case O_.INVALID_ARGUMENT:return Av.INVALID_ARGUMENT;case O_.NOT_FOUND:return Av.NOT_FOUND;case O_.ALREADY_EXISTS:return Av.ALREADY_EXISTS;case O_.PERMISSION_DENIED:return Av.PERMISSION_DENIED;case O_.FAILED_PRECONDITION:return Av.FAILED_PRECONDITION;case O_.ABORTED:return Av.ABORTED;case O_.OUT_OF_RANGE:return Av.OUT_OF_RANGE;case O_.UNIMPLEMENTED:return Av.UNIMPLEMENTED;case O_.DATA_LOSS:return Av.DATA_LOSS;default:return Cv()}}(D_=O_||(O_={}))[D_.OK=0]="OK",D_[D_.CANCELLED=1]="CANCELLED",D_[D_.UNKNOWN=2]="UNKNOWN",D_[D_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",D_[D_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",D_[D_.NOT_FOUND=5]="NOT_FOUND",D_[D_.ALREADY_EXISTS=6]="ALREADY_EXISTS",D_[D_.PERMISSION_DENIED=7]="PERMISSION_DENIED",D_[D_.UNAUTHENTICATED=16]="UNAUTHENTICATED",D_[D_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",D_[D_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",D_[D_.ABORTED=10]="ABORTED",D_[D_.OUT_OF_RANGE=11]="OUT_OF_RANGE",D_[D_.UNIMPLEMENTED=12]="UNIMPLEMENTED",D_[D_.INTERNAL=13]="INTERNAL",D_[D_.UNAVAILABLE=14]="UNAVAILABLE",D_[D_.DATA_LOSS=15]="DATA_LOSS";var z_=null;function W_(){return new TextEncoder}var K_=new yv([4294967295,4294967295],0);function H_(e){var t=W_().encode(e),n=new mv;return n.update(t),new Uint8Array(n.digest())}function G_(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new yv([n,r],0),new yv([i,a],0)]}var Z_=function(){function e(t,n,r){if(u(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Q_("Invalid padding: ".concat(n));if(r<0)throw new Q_("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Q_("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Q_("Invalid padding when bitmap length is 0: ".concat(n));this.Ee=8*t.length-n,this.de=yv.fromNumber(this.Ee)}return f(e,[{key:"Ae",value:function(e,t,n){var r=e.add(t.multiply(yv.fromNumber(n)));return 1===r.compare(K_)&&(r=new yv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}},{key:"Re",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ee)return!1;for(var t=G_(H_(e)),n=(0,o.Z)(t,2),r=n[0],i=n[1],a=0;a<this.hashCount;a++){var s=this.Ae(r,i,a);if(!this.Re(s))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ee)for(var t=G_(H_(e)),n=(0,o.Z)(t,2),r=n[0],i=n[1],a=0;a<this.hashCount;a++){var s=this.Ae(r,i,a);this.Ve(s)}}},{key:"Ve",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Q_=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return f(n)}(k(Error)),$_=function(){function e(t,n,r,i,a){u(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return f(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Y_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Gv.min(),i,new oy(zv),Kg(),e_())}}]),e}(),Y_=function(){function e(t,n,r,i,a){u(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return f(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,e_(),e_(),e_())}}]),e}(),J_=f((function e(t,n,r,i){u(this,e),this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i})),X_=f((function e(t,n){u(this,e),this.targetId=t,this.ge=n})),ek=f((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:py.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;u(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),tk=function(){function e(){u(this,e),this.pe=0,this.ye=ik(),this.we=py.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}return f(e,[{key:"current",get:function(){return this.Se}},{key:"resumeToken",get:function(){return this.we}},{key:"De",get:function(){return 0!==this.pe}},{key:"Ce",get:function(){return this.be}},{key:"ve",value:function(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}},{key:"Fe",value:function(){var e=e_(),t=e_(),n=e_();return this.ye.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cv()}})),new Y_(this.we,this.Se,e,t,n)}},{key:"Me",value:function(){this.be=!1,this.ye=ik()}},{key:"xe",value:function(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}},{key:"Oe",value:function(e){this.be=!0,this.ye=this.ye.remove(e)}},{key:"Ne",value:function(){this.pe+=1}},{key:"Be",value:function(){this.pe-=1}},{key:"Le",value:function(){this.be=!0,this.Se=!0}}]),e}(),nk=function(){function e(t){u(this,e),this.ke=t,this.qe=new Map,this.Qe=Kg(),this.Ke=rk(),this.$e=new oy(zv)}return f(e,[{key:"Ue",value:function(e){var t,n=C(e.me);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.fe&&e.fe.isFoundDocument()?this.We(r,e.fe):this.Ge(r,e.key,e.fe)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Ge(o,e.key,e.fe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ze",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.je(n);switch(e.state){case 0:t.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||t.removeTarget(n);break;case 3:t.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:t.He(n)&&(t.Je(n),r.ve(e.resumeToken));break;default:Cv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((function(e,r){n.He(r)&&t(r)}))}},{key:"Ye",value:function(e){var t=e.targetId,n=e.ge.count,r=this.Ze(t);if(r){var i=r.target;if(bg(i))if(0===n){var a=new Jv(i.path);this.Ge(t,a,Gy.newNoDocument(a,Gv.min()))}else Iv(1===n);else{var o=this.Xe(t);if(o!==n){var s=this.et(e),u=s?this.tt(s,e,o):1;if(0!==u){this.Je(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(t,c)}null==z_||z_.nt(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ge,this.ke.rt(),s,u))}}}}},{key:"et",value:function(e){var t=e.ge.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=gy(o).toUint8Array()}catch(e){if(e instanceof dy)return Ev("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Z_(n,u,l)}catch(e){return Ev(e instanceof Q_?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ee?null:r}},{key:"tt",value:function(e,t,n){return t.ge.count===n-this.it(e,t.targetId)?0:2}},{key:"it",value:function(e,t){var n=this,r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.ke.rt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.Ge(t,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.qe.forEach((function(r,i){var a=t.Ze(i);if(a){if(r.current&&bg(a.target)){var o=new Jv(a.target.path);null!==t.Qe.get(o)||t.ot(i,o)||t.Ge(i,o,Gy.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Fe()),r.Me())}}));var r=e_();this.Ke.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ze(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new $_(e,n,this.$e,this.Qe,r);return this.Qe=Kg(),this.Ke=rk(),this.$e=new oy(zv),i}},{key:"We",value:function(e,t){if(this.He(e)){var n=this.ot(e,t.key)?2:0;this.je(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.Ke=this.Ke.insert(t.key,this._t(t.key).add(e))}}},{key:"Ge",value:function(e,t,n){if(this.He(e)){var r=this.je(e);this.ot(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this._t(t).delete(e)),n&&(this.Qe=this.Qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qe.delete(e)}},{key:"Xe",value:function(e){var t=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ne",value:function(e){this.je(e).Ne()}},{key:"je",value:function(e){var t=this.qe.get(e);return t||(t=new tk,this.qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.Ke.get(e);return t||(t=new cy(zv),this.Ke=this.Ke.insert(e,t)),t}},{key:"He",value:function(e){var t=null!==this.Ze(e);return t||xv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ze",value:function(e){var t=this.qe.get(e);return t&&t.De?null:this.ke.ut(e)}},{key:"Je",value:function(e){var t=this;this.qe.set(e,new tk),this.ke.getRemoteKeysForTarget(e).forEach((function(n){t.Ge(e,n,null)}))}},{key:"ot",value:function(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}]),e}();function rk(){return new oy(Jv.comparator)}function ik(){return new oy(Jv.comparator)}var ak={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sk={and:"AND",or:"OR"},uk=f((function e(t,n){u(this,e),this.databaseId=t,this.useProto3Json=n}));function ck(e,t){return e.useProto3Json||Em(t)?t:{value:t}}function lk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hk(e,t){return lk(e,t.toTimestamp())}function dk(e){return Iv(!!e),Gv.fromTimestamp(function(e){var t=my(e);return new Hv(t.seconds,t.nanos)}(e))}function pk(e,t){return function(e){return new Qv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function vk(e){var t=Qv.fromString(e);return Iv(Fk(t)),t}function mk(e,t){return pk(e.databaseId,t.path)}function yk(e,t){var n=vk(t);if(n.get(1)!==e.databaseId.projectId)throw new Pv(Av.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pv(Av.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jv(wk(n))}function gk(e,t){return pk(e.databaseId,t)}function _k(e){var t=vk(e);return 4===t.length?Qv.emptyPath():wk(t)}function kk(e){return new Qv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wk(e){return Iv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bk(e,t,n){return{name:mk(e,t),fields:n.value.mapValue.fields}}function xk(e,t,n){var r=yk(e,t.name),i=dk(t.updateTime),a=t.createTime?dk(t.createTime):Gv.min(),o=new Ky({mapValue:{fields:t.fields}}),s=Gy.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Sk(e,t){return"found"in t?function(e,t){Iv(!!t.found),t.found.name,t.found.updateTime;var n=yk(e,t.found.name),r=dk(t.found.updateTime),i=t.found.createTime?dk(t.found.createTime):Gv.min(),a=new Ky({mapValue:{fields:t.found.fields}});return Gy.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Iv(!!t.missing),Iv(!!t.readTime);var n=yk(e,t.missing),r=dk(t.readTime);return Gy.newNoDocument(n,r)}(e,t):Cv()}function Ek(e,t){var n;if(t instanceof I_)n={update:bk(e,t.key,t.value)};else if(t instanceof L_)n={delete:mk(e,t.key)};else if(t instanceof N_)n={update:bk(e,t.key,t.data),updateMask:jk(t.fieldMask)};else{if(!(t instanceof M_))return Cv();n={verify:mk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof l_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof f_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof d_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof v_)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Cv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cv()}(e,t.precondition)),n}function Tk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?k_.updateTime(dk(e.updateTime)):void 0!==e.exists?k_.exists(e.exists):k_.none()}(t.currentDocument):k_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Iv("REQUEST_TIME"===t.setToServerValue),n=new l_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new f_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new d_(i)}else"increment"in t?n=new v_(e,t.increment):Cv();var a=Yv.fromServerFormat(t.fieldPath);return new g_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=yk(e,t.update.name),a=new Ky({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new hy(t.map((function(e){return Yv.fromServerFormat(e)})))}(t.updateMask);return new N_(i,a,o,n,r)}return new I_(i,a,n,r)}if(t.delete){var s=yk(e,t.delete);return new L_(s,n)}if(t.verify){var u=yk(e,t.verify);return new M_(u,n)}return Cv()}function Ck(e,t){return{documents:[gk(e,t.path)]}}function Ik(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=gk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Mk(tg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Dk(e.field),direction:Pk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=ck(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nk(e){var t=_k(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Iv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Ak(e);return t instanceof tg&&ig(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new Yy(Lk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return Em(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Zy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Zy(n,t)}(n.endAt)),Cg(t,i,s,o,u,"F",c,l)}function Ak(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lk(e.unaryFilter.field);return eg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lk(e.unaryFilter.field);return eg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lk(e.unaryFilter.field);return eg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lk(e.unaryFilter.field);return eg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cv()}}(e):void 0!==e.fieldFilter?function(e){return eg.create(Lk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return tg.create(e.compositeFilter.filters.map((function(e){return Ak(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Cv()}}(e.compositeFilter.op))}(e):Cv()}function Pk(e){return ak[e]}function Rk(e){return ok[e]}function Ok(e){return sk[e]}function Dk(e){return{fieldPath:e.canonicalString()}}function Lk(e){return Yv.fromServerFormat(e.fieldPath)}function Mk(e){return e instanceof eg?function(e){if("=="===e.op){if(jy(e.value))return{unaryFilter:{field:Dk(e.field),op:"IS_NAN"}};if(My(e.value))return{unaryFilter:{field:Dk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jy(e.value))return{unaryFilter:{field:Dk(e.field),op:"IS_NOT_NAN"}};if(My(e.value))return{unaryFilter:{field:Dk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dk(e.field),op:Rk(e.op),value:e.value}}}(e):e instanceof tg?function(e){var t=e.getFilters().map((function(e){return Mk(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Ok(e.op),filters:t}}}(e):Cv()}function jk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Fk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Uk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:py.EMPTY_BYTE_STRING,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;u(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=c}return f(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Vk=f((function e(t){u(this,e),this.ct=t}));function Bk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:lk(e,t.version.toTimestamp()),createTime:lk(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zk(t.version)};else{if(!t.isUnknownDocument())return Cv();r.unknownDocument={path:n.path.toArray(),version:zk(t.version)}}return r}function qk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Wk(e){var t=new Hv(e.seconds,e.nanoseconds);return Gv.fromTimestamp(t)}function Kk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Tk(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Tk(e.ct,t)})),s=Hv.fromMillis(t.localWriteTimeMs);return new j_(t.batchId,s,n,o)}function Hk(e){var t,n=Wk(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Wk(e.lastLimboFreeSnapshotVersion):Gv.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Iv(1===e.documents.length),Rg(Ig(_k(e.documents[0])))}(e.query):function(e){return Rg(Nk(e))}(e.query),new Uk(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,py.fromBase64String(e.resumeToken))}function Gk(e,t){var n,r=zk(t.snapshotVersion),i=zk(t.lastLimboFreeSnapshotVersion);n=bg(t.target)?Ck(e.ct,t.target):Ik(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:kg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Zk(e){var t=Nk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lg(t,t.limit,"L"):t}function Qk(e,t){return new U_(t.largestBatchId,Tk(e.ct,t.overlayMutation))}function $k(e,t){var n=t.path.lastSegment();return[e,Im(t.path.popLast()),n]}function Yk(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:zk(r.readTime),documentKey:Im(r.documentKey.path),largestBatchId:r.largestBatchId}}var Jk=function(){function e(){u(this,e)}return f(e,[{key:"getBundleMetadata",value:function(e,t){return Xk(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Wk(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Xk(e).put(function(e){return{bundleId:e.id,createTime:zk(dk(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return ew(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Zk(e.bundledQuery),readTime:Wk(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return ew(e).put(function(e){return{name:e.name,readTime:zk(dk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Xk(e){return ny(e,"bundles")}function ew(e){return ny(e,"namedQueries")}var tw=function(){function e(t,n){u(this,e),this.serializer=t,this.userId=n}return f(e,[{key:"getOverlay",value:function(e,t){var n=this;return nw(e).get($k(this.userId,t)).next((function(e){return e?Qk(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Qg();return hm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new U_(t,a);i.push(r.ht(e,o))})),hm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Im(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(nw(e).J("collectionPathOverlayIndex",i))})),hm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Qg(),a=Im(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return nw(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Qk(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Qg(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return nw(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Qk(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return nw(e).put(function(e,t,n){var r=$k(t,n.mutation.key),i=(0,o.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ek(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function nw(e){return ny(e,"documentOverlays")}var rw=function(){function e(){u(this,e)}return f(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(yy(e.integerValue));else if("doubleValue"in e){var n=yy(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Tm(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(gy(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Vy(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Cv()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Jv.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function iw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function aw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=iw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}rw.bt=new rw;var ow=function(){function e(){u(this,e),this.buffer=new Uint8Array(1024),this.position=0}return f(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.vt()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.vt()}},{key:"Nt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=aw(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=aw(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"vt",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),sw=function(){function e(t){u(this,e),this.Gt=t}return f(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),uw=function(){function e(t){u(this,e),this.Gt=t}return f(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),cw=function(){function e(){u(this,e),this.Gt=new ow,this.zt=new sw(this.Gt),this.jt=new uw(this.Gt)}return f(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),lw=function(){function e(t,n,r,i){u(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return f(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function fw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=hw(e.arrayValue,t.arrayValue))?n:0!==(n=hw(e.directionalValue,t.directionalValue))?n:Jv.comparator(e.documentKey,t.documentKey)}function hw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var dw=function(){function e(t){u(this,e),this.Yt=new cy((function(e,t){return Yv.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return f(e,[{key:"en",get:function(){return this.Yt.size>1}},{key:"tn",value:function(e){if(Iv(e.collectionGroup===this.collectionId),this.en)return!1;var t=em(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=tm(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){var o=this.Yt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var s=n[i];if(!this.rn(o,s)||!this.sn(this.Zt[a++],s))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],u))return!1}return!0}},{key:"on",value:function(){if(this.en)return null;var e,t=new cy(Yv.comparator),n=[],r=C(this.Xt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new nm(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new nm(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.Zt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new nm(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new Xv(Xv.UNKNOWN_ID,this.collectionId,n,rm.empty())}},{key:"nn",value:function(e){var t,n=C(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function pw(e){var t,n;if(Iv(e instanceof eg||e instanceof tg),e instanceof eg){if(e instanceof vg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return eg.create(e.field,"==",t)})))||[];return tg.create(r,"or")}return e}var i=e.filters.map((function(e){return pw(e)}));return tg.create(i,e.op)}function vw(e){if(0===e.getFilters().length)return[];var t=_w(pw(e));return Iv(gw(t)),mw(t)||yw(t)?[t]:t.getFilters()}function mw(e){return e instanceof eg}function yw(e){return e instanceof tg&&ig(e)}function gw(e){return mw(e)||yw(e)||function(e){if(e instanceof tg&&rg(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!mw(r)&&!yw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function _w(e){if(Iv(e instanceof eg||e instanceof tg),e instanceof eg)return e;if(1===e.filters.length)return _w(e.filters[0]);var t=e.filters.map((function(e){return _w(e)})),n=tg.create(t,e.op);return gw(n=bw(n))?n:(Iv(n instanceof tg),Iv(ng(n)),Iv(n.filters.length>1),n.filters.reduce((function(e,t){return kw(e,t)})))}function kw(e,t){var n;return Iv(e instanceof eg||e instanceof tg),Iv(t instanceof eg||t instanceof tg),n=e instanceof eg?t instanceof eg?function(e,t){return tg.create([e,t],"and")}(e,t):ww(e,t):t instanceof eg?ww(t,e):function(e,t){if(Iv(e.filters.length>0&&t.filters.length>0),ng(e)&&ng(t))return ug(e,t.getFilters());var n=rg(e)?e:t,r=rg(e)?t:e,i=n.filters.map((function(e){return kw(e,r)}));return tg.create(i,"or")}(e,t),bw(n)}function ww(e,t){if(ng(t))return ug(t,e.getFilters());var n=t.filters.map((function(t){return kw(e,t)}));return tg.create(n,"or")}function bw(e){if(Iv(e instanceof eg||e instanceof tg),e instanceof eg)return e;var t=e.getFilters();if(1===t.length)return bw(t[0]);if(ag(e))return e;var n=t.map((function(e){return bw(e)})),r=[];return n.forEach((function(t){t instanceof eg?r.push(t):t instanceof tg&&(t.op===e.op?r.push.apply(r,(0,s.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:tg.create(r,e.op)}var xw=function(){function e(){u(this,e),this._n=new Sw}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),hm.resolve()}},{key:"getCollectionParents",value:function(e,t){return hm.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return hm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return hm.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return hm.resolve()}},{key:"createTargetIndexes",value:function(e,t){return hm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return hm.resolve(null)}},{key:"getIndexType",value:function(e,t){return hm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return hm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return hm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return hm.resolve(om.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return hm.resolve(om.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return hm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return hm.resolve()}}]),e}(),Sw=function(){function e(){u(this,e),this.index={}}return f(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cy(Qv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new cy(Qv.comparator)).toArray()}}]),e}(),Ew=new Uint8Array(0),Tw=function(){function e(t,n){u(this,e),this.user=t,this.databaseId=n,this.an=new Sw,this.un=new zg((function(e){return kg(e)}),(function(e,t){return wg(e,t)})),this.uid=t.uid||""}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:Im(i)};return Cw(e).put(a)}return hm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Kv(t),""],!1,!0);return Cw(e).G(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Pm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Nw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Aw(e);return a.next((function(e){o.put(Yk(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Nw(e),r=Aw(e),i=Iw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=Nw(e),n=Iw(e),r=Aw(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return hm.forEach(this.cn(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new dw(t).on();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Iw(e),i=!0,a=new Map;return hm.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=e_(),o=[];return hm.forEach(a,(function(i,a){xv("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(kg(t)));var s=function(e,t){var n=em(t);if(void 0===n)return null;var r,i=C(xg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=C(tm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=C(xg(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=C(tm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Sg(e,o.fieldPath,e.startAt):Eg(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Zy(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(tm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Eg(e,o.fieldPath,e.endAt):Sg(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Zy(r,i)}(a,i),f=n.hn(i,a,c),h=n.hn(i,a,l),d=n.Pn(i,a,u),p=n.In(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return hm.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Jv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return hm.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:vw(tg.create(e.filters,"and")).map((function(t){return _g(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var u=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(){var c=t?u.Tn(t[d/l]):Ew,h=u.En(e,c,n[d%l],r),p=u.dn(e,c,i[d%l],a),v=o.map((function(t){return u.En(e,c,t,!0)}));f.push.apply(f,(0,s.Z)(u.createRange(h,p,v)))},d=0;d<c;++d)h();return f}},{key:"En",value:function(e,t,n,r){var i=new lw(e,Jv.empty(),t,n);return r?i:i.Jt()}},{key:"dn",value:function(e,t,n,r){var i=new lw(e,Jv.empty(),t,n);return r?i.Jt():i}},{key:"ln",value:function(e,t){var n=new dw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return hm.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new cy(Yv.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=C(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new cw,i=C(tm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ht(a.kind);rw.bt.Pt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Wt()}},{key:"Tn",value:function(e){var t=new cw;return rw.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"Rn",value:function(e,t){var n=new cw;return rw.bt.Pt(Oy(this.databaseId,t),n.Ht(function(e){var t=tm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new cw);var i,a=0,o=C(tm(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=C(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.Vn(t,u.fieldPath)&&Ly(c))r=this.mn(r,u,c);else{var h=f.Ht(u.kind);rw.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"mn",value:function(e,t,n){var r,i=(0,s.Z)(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=C(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new cw;h.seed(f.Wt()),rw.bt.Pt(c,h.Ht(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof eg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Nw(e),i=Aw(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return hm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new rm(t.sequenceNumber,new om(Wk(t.readTime),new Jv(Pm(t.documentKey)),t.largestBatchId)):rm.empty(),r=e.fields.map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return new nm(Yv.fromServerFormat(n),r)}));return new Xv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:zv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Nw(e),a=Aw(e);return this.gn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return hm.forEach(t,(function(t){return a.put(Yk(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return hm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?hm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),hm.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?hm.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return Iw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return Iw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=Iw(e),i=new cy(fw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new lw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new cy(fw),r=this.An(t,e);if(null==r)return n;var i=em(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ly(a)){var o,s=C(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new lw(t.indexId,e.key,this.Tn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new lw(t.indexId,e.key,Ew,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;xv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=fy(a),u=fy(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=fy(o)):l?(i(s),s=fy(a)):(s=fy(a),u=fy(o))}}(r,i,fw,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),hm.waitFor(o)}},{key:"gn",value:function(e){var t=1;return Aw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return fw(e,t)})).filter((function(e,t,n){return!t||0!==fw(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=fw(o,e),u=fw(o,t);if(0===s)r[0]=e.Jt();else if(s>0&&u<0)r.push(o),r.push(o.Jt());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Dn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ew,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ew,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Dn",value:function(e,t){return fw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Pw)}},{key:"getMinOffset",value:function(e,t){var n=this;return hm.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||Cv()}))})).next(Pw)}}]),e}();function Cw(e){return ny(e,"collectionParents")}function Iw(e){return ny(e,"indexEntries")}function Nw(e){return ny(e,"indexConfiguration")}function Aw(e){return ny(e,"indexState")}function Pw(e){Iv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;sm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new om(t.readTime,t.documentKey,n)}var Rw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ow=function(){function e(t,n,r){u(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return f(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Dw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Iv(1===s)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Dm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return hm.waitFor(a).next((function(){return l}))}function Lw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Cv();t=e.noDocument}return JSON.stringify(t).length}Ow.DEFAULT_COLLECTION_PERCENTILE=10,Ow.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ow.DEFAULT=new Ow(41943040,Ow.DEFAULT_COLLECTION_PERCENTILE,Ow.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ow.DISABLED=new Ow(-1,0,0);var Mw=function(){function e(t,n,r,i){u(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}return f(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Uw(e),o=Fw(e);return o.add({}).next((function(s){Iv("number"==typeof s);var u,c=new j_(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ek(e.ct,t)})),i=n.mutations.map((function(t){return Ek(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new cy((function(e,t){return zv(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Dm(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Lm))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Cn[s]=c.keys()})),hm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Fw(e).get(t).next((function(e){return e?(Iv(e.userId===n.userId),Kk(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Cn[t]?hm.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Cn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Fw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Iv(t.batchId>=r),a=Kk(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fw(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return Kk(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Om(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Uw(e).Z({range:i},(function(r,i,s){var u=(0,o.Z)(r,3),c=u[0],l=u[1],f=u[2],h=Pm(l);if(c===n.userId&&t.path.isEqual(h))return Fw(e).get(f).next((function(e){if(!e)throw Cv();Iv(e.userId===n.userId),a.push(Kk(n.serializer,e))}));s.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cy(zv),i=[];return t.forEach((function(t){var a=Om(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=Uw(e).Z({range:s},(function(e,i,a){var s=(0,o.Z)(e,3),u=s[0],c=s[1],l=s[2],f=Pm(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),hm.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Om(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new cy(zv);return Uw(e).Z({range:s},(function(e,t,a){var s=(0,o.Z)(e,3),c=s[0],l=s[1],f=s[2],h=Pm(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Fn(e,u)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Fw(e).get(t).next((function(e){if(null===e)throw Cv();Iv(e.userId===n.userId),r.push(Kk(n.serializer,e))})))})),hm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Dw(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),hm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.Cn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return hm.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return Uw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Pm(e[1]);i.push(a)}else r.done()})).next((function(){Iv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return jw(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return Vw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return Iv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function jw(e,t,n){var r=Om(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return Uw(e).Z({range:a,Y:!0},(function(e,n,r){var a=(0,o.Z)(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(s=!0),r.done()})).next((function(){return s}))}function Fw(e){return ny(e,"mutations")}function Uw(e){return ny(e,"documentMutations")}function Vw(e){return ny(e,"mutationQueues")}var Bw=function(){function e(t){u(this,e),this.On=t}return f(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}(),qw=function(){function e(t,n){u(this,e),this.referenceDelegate=t,this.serializer=n}return f(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ln(e).next((function(n){var r=new Bw(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ln(e).next((function(e){return Gv.fromTimestamp(new Hv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ln(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ln(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Ln(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return zw(e).delete(t.targetId)})).next((function(){return n.Ln(e)})).next((function(t){return Iv(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return zw(e).Z((function(o,s){var u=Hk(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return hm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return zw(e).Z((function(e,n){var r=Hk(n);t(r)}))}},{key:"Ln",value:function(e){return Ww(e).get("targetGlobalKey").next((function(e){return Iv(null!==e),e}))}},{key:"kn",value:function(e,t){return Ww(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return zw(e).put(Gk(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ln(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=kg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return zw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Hk(n);wg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Kw(e);return t.forEach((function(t){var o=Im(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),hm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Kw(e);return hm.forEach(t,(function(t){var a=Im(t.path);return hm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Kw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kw(e),i=e_();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Pm(e[1]),a=new Jv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Im(t.path),r=IDBKeyRange.bound([n],[Kv(n)],!1,!0),i=0;return Kw(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,o.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return zw(e).get(t).next((function(e){return e?Hk(e):null}))}}]),e}();function zw(e){return ny(e,"targets")}function Ww(e){return ny(e,"targetGlobal")}function Kw(e){return ny(e,"targetDocuments")}function Hw(e,t){var n=(0,o.Z)(e,2),r=n[0],i=n[1],a=(0,o.Z)(t,2),s=a[0],u=a[1],c=zv(r,s);return 0===c?zv(i,u):c}var Gw=function(){function e(t){u(this,e),this.Kn=t,this.buffer=new cy(Hw),this.$n=0}return f(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Hw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Zw=function(){function e(t,n,r){u(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return f(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;xv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ym(e.t0)){e.next=12;break}xv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,lm(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Qw=function(){function e(t,n){u(this,e),this.jn=t,this.params=n}return f(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return hm.resolve(Sm.ae);var r=new Gw(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xv("LruGarbageCollector","Garbage collection skipped; disabled"),hm.resolve(Rw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(xv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Rw):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(xv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),bv()<=Wt.DEBUG&&xv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),hm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function $w(e,t){return new Qw(e,t)}var Yw=function(){function e(t,n){u(this,e),this.db=t,this.garbageCollector=$w(this,n)}return f(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Jw(e,n)}},{key:"removeReference",value:function(e,t,n){return Jw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Jw(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return Vw(e).X((function(r){return jw(e,r,t).next((function(e){return e&&(n=!0),hm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,s){if(s<=t){var u=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Gv.min()),Kw(e).delete(function(e){return[0,Im(e.path)]}(o))}))}));i.push(u)}})).next((function(){return hm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Jw(e,t)}},{key:"Xn",value:function(e,t){var n,r=Kw(e),i=Sm.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,o.Z)(e,2),s=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===s?(i!==Sm.ae&&t(new Jv(Pm(n)),i),i=c,n=u):i=Sm.ae})).next((function(){i!==Sm.ae&&t(new Jv(Pm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Jw(e,t){return Kw(e).put(function(e,t){return{targetId:0,path:Im(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Xw=function(){function e(){u(this,e),this.changes=new zg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return f(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Gy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?hm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),eb=function(){function e(t){u(this,e),this.serializer=t}return f(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ib(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return ib(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],qk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Gy.newInvalidDocument(t);return ib(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ab(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:Gy.newInvalidDocument(t)};return ib(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ab(t))},(function(e,i){r={document:n.nr(t,i),size:Lw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Kg();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=Kg(),i=new oy(Jv.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,Lw(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return hm.resolve();var r=new cy(sb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ab(r.first()),ab(r.last())),a=r.getIterator(),o=a.getNext();return ib(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Jv.fromSegments([].concat((0,s.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&sb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(ab(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),qk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ib(e).G(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Kg(),s=C(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.nr(Jv.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(Ug(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Kg(),o=ob(t,n),s=ob(t,om.max());return ib(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.nr(Jv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new nb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return rb(e).get("remoteDocumentGlobalKey").next((function(e){return Iv(!!e),e}))}},{key:"tr",value:function(e,t){return rb(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=xk(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Jv.fromSegments(t.noDocument.path),i=Wk(t.noDocument.readTime);n=Gy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Cv();var a=Jv.fromSegments(t.unknownDocument.path),o=Wk(t.unknownDocument.version);n=Gy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Hv(e[0],e[1]);return Gv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Gv.min()))return n}return Gy.newInvalidDocument(e)}}]),e}();function tb(e){return new eb(e)}var nb=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new zg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new cy((function(e,t){return zv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Bk(t.ar.serializer,o);i=i.add(a.path.popLast());var c=Lw(u);r+=c-s.size,n.push(t.ar.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Bk(t.ar.serializer,o.convertToNoDocument(Gv.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),hm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Xw);function rb(e){return ny(e,"remoteDocumentGlobal")}function ib(e){return ny(e,"remoteDocumentsV14")}function ab(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ob(e,t){var n=t.documentKey.path.toArray();return[e,qk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=zv(n[a],r[a]))return i;return(i=zv(n.length,r.length))||((i=zv(n[n.length-2],r[r.length-2]))||zv(n[n.length-1],r[r.length-1]))}var ub=f((function e(t,n){u(this,e),this.overlayedDocument=t,this.mutatedFields=n})),cb=function(){function e(t,n,r,i){u(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return f(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&E_(r.mutation,e,hy.empty(),Hv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,e_()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e_(),i=Qg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Gg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Qg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,e_())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Kg(),a=Yg(),o=Yg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof N_)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),E_(o.mutation,t,o.mutation.getFieldMask(),Hv.now())):a.set(t.key,hy.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ub(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Yg(),i=new oy((function(e,t){return e-t})),a=e_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||hy.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||e_()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=$g();c.forEach((function(e){if(!a.has(e)){var n=x_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return hm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Jv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ag(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):hm.resolve(Qg()),s=-1,u=a;return o.next((function(t){return hm.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?hm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,e_())})).next((function(e){return{batchId:s,changes:Zg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Jv(t)).next((function(e){var t=Gg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Gg();return this.indexManager.getCollectionParents(e,a).next((function(s){return hm.forEach(s,(function(s){var u=function(e,t){return new Tg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gy.newInvalidDocument(r)))}));var n=Gg();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&E_(a.mutation,r,hy.empty(),Hv.now()),Ug(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),lb=function(){function e(t){u(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return f(e,[{key:"getBundleMetadata",value:function(e,t){return hm.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:dk(e.createTime)}}(t)),hm.resolve()}},{key:"getNamedQuery",value:function(e,t){return hm.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Zk(e.bundledQuery),readTime:dk(e.readTime)}}(t)),hm.resolve()}}]),e}(),fb=function(){function e(){u(this,e),this.overlays=new oy(Jv.comparator),this.hr=new Map}return f(e,[{key:"getOverlay",value:function(e,t){return hm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Qg();return hm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),hm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),hm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Qg(),i=t.length+1,a=new Jv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return hm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new oy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Qg(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Qg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return hm.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new U_(t,n));var a=this.hr.get(t);void 0===a&&(a=e_(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),hb=function(){function e(){u(this,e),this.Pr=new cy(db.Ir),this.Tr=new cy(db.Er)}return f(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new db(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new db(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Jv(new Qv([])),r=new db(n,e),i=new db(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Jv(new Qv([])),n=new db(t,e),r=new db(t,e+1),i=e_();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new db(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),db=function(){function e(t,n){u(this,e),this.key=t,this.pr=n}return f(e,null,[{key:"Ir",value:function(e,t){return Jv.comparator(e.key,t.key)||zv(e.pr,t.pr)}},{key:"Er",value:function(e,t){return zv(e.pr,t.pr)||Jv.comparator(e.key,t.key)}}]),e}(),pb=function(){function e(t,n){u(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new cy(db.Ir)}return f(e,[{key:"checkEmpty",value:function(e){return hm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new j_(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new db(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return hm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return hm.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return hm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return hm.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return hm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new db(t,0),i=new db(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),hm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cy(zv);return t.forEach((function(e){var t=new db(e,0),i=new db(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),hm.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Jv.isDocumentKey(i)||(i=i.child(""));var a=new db(new Jv(i),0),o=new cy(zv);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),hm.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Iv(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return hm.forEach(t.mutations,(function(i){var a=new db(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new db(t,0),r=this.wr.firstAfterOrEqual(n);return hm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,hm.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),vb=function(){function e(t){u(this,e),this.vr=t,this.docs=new oy(Jv.comparator),this.size=0}return f(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return hm.resolve(n?n.document.mutableCopy():Gy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Gy.newInvalidDocument(e))})),hm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Kg(),a=t.path,o=new Jv(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||sm(am(l),n)<=0||(r.has(l.key)||Ug(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return hm.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Cv()}},{key:"Fr",value:function(e,t){return hm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new mb(this)}},{key:"getSize",value:function(e){return hm.resolve(this.size)}}]),e}(),mb=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).ar=e,r}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),hm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Xw),yb=function(){function e(t){u(this,e),this.persistence=t,this.Mr=new zg((function(e){return kg(e)}),wg),this.lastRemoteSnapshotVersion=Gv.min(),this.highestTargetId=0,this.Or=0,this.Nr=new hb,this.targetCount=0,this.Br=Bw.Nn()}return f(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),hm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return hm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return hm.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),hm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),hm.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new Bw(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,hm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),hm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,hm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),hm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return hm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return hm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),hm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),hm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),hm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return hm.resolve(n)}},{key:"containsKey",value:function(e,t){return hm.resolve(this.Nr.containsKey(t))}}]),e}(),gb=function(){function e(t,n){var r=this;u(this,e),this.Lr={},this.overlays={},this.kr=new Sm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new yb(this),this.indexManager=new xw,this.remoteDocumentCache=function(e){return new vb(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new Vk(n),this.$r=new lb(this.serializer)}return f(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fb,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new pb(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;xv("MemoryPersistence","Starting transaction:",e);var i=new _b(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return hm.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),_b=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return f(n)}(cm),kb=function(){function e(t){u(this,e),this.persistence=t,this.zr=new hb,this.jr=null}return f(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw Cv()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),hm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),hm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),hm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hm.forEach(this.Jr,(function(r){var i=Jv.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,Gv.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return hm.or([function(){return hm.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),wb=function(){function e(t){u(this,e),this.serializer=t}return f(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new dm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rm,{unique:!0}),e.createObjectStore("documentMutations")}(e),bb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=hm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),bb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return hm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Gm});t.createIndex("collectionPathOverlayIndex",Zm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Qm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Mm});t.createIndex("documentKeyIndex",jm),t.createIndex("collectionGroupIndex",Fm)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:zm}).createIndex("sequenceNumberIndex",Wm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Km}).createIndex("documentKeyIndex",Hm,{unique:!1})}(e)}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Lw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return hm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return hm.forEach(r,(function(r){Iv(r.userId===n.userId);var i=Kk(t.serializer,r);return Dw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Qv(n),o=function(e){return[0,Im(e)]}(a);r.push(t.get(o).next((function(n){return n?hm.resolve():function(n){return t.put({targetId:0,path:Im(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return hm.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:qm});var n=t.store("collectionParents"),r=new Sw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Im(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Qv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=(0,o.Z)(e,3),r=(n[0],n[1]),a=(n[2],Pm(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Hk(r),a=Gk(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Jv(Qv.fromString(e.document.name).popFirst(5)):e.noDocument?Jv.fromSegments(e.noDocument.path):e.unknownDocument?Jv.fromSegments(e.unknownDocument.path):Cv()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return hm.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=tb(this.serializer),a=new gb(kb.Hr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:e_();Kk(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),hm.forEach(r,(function(e,r){var o=new _v(r),s=tw.lt(n.serializer,o),u=a.getIndexManager(o),c=Mw.lt(o,n.serializer,u,a.referenceDelegate);return new cb(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new ty(t,Sm.ae),e).next()}))}))}}]),e}();function bb(e){e.createObjectStore("targetDocuments",{keyPath:Vm}).createIndex("documentTargetsIndex",Bm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Um,{unique:!0}),e.createObjectStore("targetGlobal")}var xb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sb=function(){function e(t,n,r,i,a,o,s,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(u(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=s,this._i=l,this.ai=f,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.C())throw new Pv(Av.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yw(this,i),this.Ti=n+"main",this.serializer=new Vk(c),this.Ei=new pm(this.Ti,this.ui,new wb(this.serializer)),this.Qr=new qw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tb(this.serializer),this.$r=new Jk,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===f&&Sv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Pv(Av.FAILED_PRECONDITION,xb);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new Sm(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=Ut(jt().mark((function n(r){return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=Ut(jt().mark((function t(n){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Tb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ym(t))return xv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return Eb(e).get("owner").next((function(e){return hm.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return Tb(e).delete(this.clientId)}},{key:"Di",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i,a=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ci(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ny(e,"clientMetadata");return t.G().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return hm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?hm.resolve(!0):Eb(e).get("owner").next((function(n){if(null!==n&&t.Ci(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new Pv(Av.FAILED_PRECONDITION,xb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Tb(e).G().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&xv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ut(jt().mark((function e(){var t=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ty(e,Sm.ae);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Bi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Ci(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Li",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Tb(t).G().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return Mw.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Tw(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return tw.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;xv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?ey:14===e?Xm:13===e?Jm:12===e?Ym:11===e?$m:void Cv()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new ty(a,r.kr?r.kr.next():Sm.ae),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw Sv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new Pv(Av.FAILED_PRECONDITION,um);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return Eb(e).get("owner").next((function(e){if(null!==e&&t.Ci(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Pv(Av.FAILED_PRECONDITION,xb)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eb(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=Eb(e);return n.get("owner").next((function(e){return t.Si(e)?(xv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):hm.resolve()}))}},{key:"Ci",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Sv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return xv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Sv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Sv("Failed to set zombie client id.",e)}}},{key:"Bi",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return pm.C()}}]),e}();function Eb(e){return ny(e,"owner")}function Tb(e){return ny(e,"clientMetadata")}function Cb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ib=function(){function e(t,n,r,i){u(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return f(e,null,[{key:"Ki",value:function(t,n){var r,i=e_(),a=e_(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Nb=function(){function e(){u(this,e),this._documentReadCount=0}return f(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),Ab=function(){function e(){u(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}return f(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new Nb;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(bv()<=Wt.DEBUG&&xv("QueryEngine","SDK will not create cache indexes for query:",Fg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),hm.resolve()):(bv()<=Wt.DEBUG&&xv("QueryEngine","Query:",Fg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(bv()<=Wt.DEBUG&&xv("QueryEngine","The SDK decides to create cache indexes for query:",Fg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rg(t))):hm.resolve())}},{key:"ji",value:function(e,t){var n=this;if(Ng(t))return hm.resolve(null);var r=Rg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Lg(t,null,"F"),r=Rg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=e_.apply(void 0,(0,s.Z)(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,Lg(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return Ng(t)||r.isEqual(Gv.min())?hm.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?hm.resolve(null):(bv()<=Wt.DEBUG&&xv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fg(t)),i.es(e,o,t,im(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new cy(Bg(e));return t.forEach((function(t,r){Ug(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return bv()<=Wt.DEBUG&&xv("QueryEngine","Using full collection scan to execute query:",Fg(t)),this.zi.getDocumentsMatchingQuery(e,t,om.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Pb=function(){function e(t,n,r,i){u(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new oy(zv),this.rs=new zg((function(e){return kg(e)}),wg),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return f(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cb(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function Rb(e,t,n,r){return new Pb(e,t,n,r)}function Ob(e,t){return Db.apply(this,arguments)}function Db(){return Db=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=e_(),u=C(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(_){f.e(_)}finally{f.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){p.e(_)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Lb(e,t){var n=Nv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=hm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Iv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=e_(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Mb(e){var t=Nv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function jb(e,t){var n=Nv(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(py.EMPTY_BYTE_STRING,Gv.min()).withLastLimboFreeSnapshotVersion(Gv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var s=Kg(),u=e_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Fb(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!r.isEqual(Gv.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return hm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ns=i,e}))}function Fb(e,t,n){var r=e_(),i=e_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Kg();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Gv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):xv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function Ub(e,t){var n=Nv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Vb(e,t){var n=Nv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,hm.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new Uk(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function Bb(e,t,n){return qb.apply(this,arguments)}function qb(){return qb=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nv(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ym(e.t1)){e.next=12;break}throw e.t1;case 12:xv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),qb.apply(this,arguments)}function zb(e,t,n){var r=Nv(e),i=Gv.min(),a=e_();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Nv(e),i=r.rs.get(n);return void 0!==i?hm.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Rg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:Gv.min(),n?a:e_())})).next((function(e){return Hb(r,Vg(t),e),{documents:e,hs:a}}))}))}function Wb(e,t){var n=Nv(e),r=Nv(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function Kb(e,t){var n=Nv(e),r=n.ss.get(t)||Gv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.os.getAllFromCollectionGroup(e,t,im(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Hb(n,t,e),e}))}function Hb(e,t,n){var r=e.ss.get(t)||Gv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}function Gb(e,t,n,r){return Zb.apply(this,arguments)}function Zb(){return Zb=Ut(jt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Nv(t),o=e_(),s=Kg(),u=C(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ps(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Is(l)).setReadTime(n.Ts(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.os.newChangeBuffer({trackRemovals:!0}),e.next=7,Vb(a,function(e){return Rg(Ig(Qv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Fb(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls)})).next((function(){return t.cs}))}))})));case 9:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function Qb(e,t){return $b.apply(this,arguments)}function $b(){return $b=Ut(jt().mark((function e(t,n){var r,i,a,o=arguments;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:e_(),e.next=3,Vb(t,Rg(Zk(n.bundledQuery)));case 3:return i=e.sent,a=Nv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=dk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(py.EMPTY_BYTE_STRING,t);return a.ns=a.ns.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function Yb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Jb(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Xb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ex=function(){function e(t,n,r,i){u(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return f(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Pv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Sv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),tx=function(){function e(t,n,r){u(this,e),this.targetId=t,this.state=n,this.error=r}return f(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Pv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Sv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),nx=function(){function e(t,n){u(this,e),this.clientId=t,this.activeTargetIds=n}return f(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=n_(),o=0;i&&o<r.activeTargetIds.length;++o)i=Cm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Sv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),rx=function(){function e(t,n){u(this,e),this.clientId=t,this.onlineState=n}return f(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Sv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ix=function(){function e(){u(this,e),this.activeTargetIds=n_()}return f(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ax=function(){function e(t,n,r,i,a){u(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new oy(zv),this.started=!1,this.ys=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ws=Yb(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new ix),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}return f(e,[{key:"start",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Li();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Vs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Yb(this.persistenceKey,i)))&&(o=nx.Es(i,a))&&(this.ps=this.ps.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ms(),(s=this.storage.getItem(this.vs))&&(u=this.xs(s))&&this.Os(u),c=C(this.ys);try{for(c.s();!(l=c.n()).done;)f=l.value,this.gs(f)}catch(d){c.e(d)}finally{c.f()}this.ys=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ss,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ns(this.ps)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ps.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Bs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Bs(e,t,n),this.Ls(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Xb(this.persistenceKey,e));if(n){var r=tx.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ks.Rs(e),this.Ms()}},{key:"isLocalQueryTarget",value:function(e){return this.ks.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Xb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ls(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ks(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return xv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){xv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){xv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"gs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(xv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Sv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(Ut(jt().mark((function e(){var r,i,a,o,s,u,c;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.bs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.$s(n.key),e.abrupt("return",t.Us(r,null));case 6:if(!(i=t.Ws(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Us(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Ds.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Gs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.zs(a));case 16:e.next=41;break;case 18:if(!t.Cs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.js(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Hs(o));case 23:e.next=41;break;case 25:if(n.key!==t.vs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Os(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ss){e.next=37;break}u=function(e){var t=Sm.ae;if(null!=e)try{var n=JSON.parse(e);Iv("number"==typeof n),t=n}catch(e){Sv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Sm.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Fs){e.next=41;break}return c=t.Js(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ys(e)})));case 41:e.next=44;break;case 43:t.ys.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"ks",get:function(){return this.ps.get(this.Vs)}},{key:"Ms",value:function(){this.setItem(this.ws,this.ks.ds())}},{key:"Bs",value:function(e,t,n){var r=new ex(this.currentUser,e,t,n),i=Jb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}},{key:"Ls",value:function(e){var t=Jb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Qs",value:function(e){var t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}},{key:"qs",value:function(e,t,n){var r=Xb(this.persistenceKey,e),i=new tx(e,t,n);this.setItem(r,i.ds())}},{key:"Ks",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}},{key:"$s",value:function(e){var t=this.bs.exec(e);return t?t[1]:null}},{key:"Ws",value:function(e,t){var n=this.$s(e);return nx.Es(n,t)}},{key:"Gs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ex.Es(new _v(i),r,t)}},{key:"js",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]);return tx.Es(r,t)}},{key:"xs",value:function(e){return rx.Es(e)}},{key:"Js",value:function(e){return JSON.parse(e)}},{key:"zs",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Zs(t.batchId,t.state,t.error));case 2:xv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Hs",value:function(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}},{key:"Us",value:function(e,t){var n=this,r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),a=this.Ns(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((function(){n.ps=r}))}},{key:"Os",value:function(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ns",value:function(e){var t=n_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ox=function(){function e(){u(this,e),this.no=new ix,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return f(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new ix,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),sx=function(){function e(){u(this,e)}return f(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ux=function(){function e(){var t=this;u(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return f(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){xv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){xv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cx=null;function lx(){return null===cx?cx=268435456+Math.round(2147483648*Math.random()):cx++,"0x"+cx.toString(16)}var fx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},hx=function(){function e(t){u(this,e),this.lo=t.lo,this.ho=t.ho}return f(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),dx="WebChannelConnection",px=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return f(n,[{key:"Co",value:function(e,t,n,r){var i=lx();return new Promise((function(a,o){var s=new vv;s.setWithCredentials(!0),s.listenOnce(fv.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case lv.NO_ERROR:var t=s.getResponseJson();xv(dx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case lv.TIMEOUT:xv(dx,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Pv(Av.DEADLINE_EXCEEDED,"Request time out"));break;case lv.HTTP_ERROR:var n=s.getStatus();if(xv(dx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Av).indexOf(t)>=0?t:Av.UNKNOWN}(u.status);o(new Pv(c,u.message))}else o(new Pv(Av.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pv(Av.UNAVAILABLE,"Connection failed."));break;default:Cv()}}finally{xv(dx,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);xv(dx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=lx(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=uv(),o=cv(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");xv(dx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new hx({lo:function(t){h?xv(dx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(xv(dx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),xv(dx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,pv.EventType.OPEN,(function(){h||xv(dx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,pv.EventType.CLOSE,(function(){h||(h=!0,xv(dx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(l,pv.EventType.ERROR,(function(t){h||(h=!0,Ev(dx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new Pv(Av.UNAVAILABLE,"The operation could not be completed")))})),p(l,pv.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Iv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){xv(dx,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=O_[e];if(void 0!==t)return q_(t)}(s),c=o.message;void 0===u&&(u=Av.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Vo(new Pv(u,c)),l.close()}else xv(dx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,hv.STAT_EVENT,(function(t){t.stat===dv.PROXY?xv(dx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dv.NOPROXY&&xv(dx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){u(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return f(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=lx(),o=this.bo(e,t);xv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,o,s,n).then((function(t){return xv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Ev("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=fx[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}}]),e}());function vx(){return"undefined"!=typeof window?window:null}function mx(){return"undefined"!=typeof document?document:null}function yx(e){return new uk(e,!0)}var gx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;u(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return f(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&xv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),_x=function(){function e(t,n,r,i,a,o,s,c){u(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new gx(t,n)}return f(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===Av.RESOURCE_EXHAUSTED?(Sv(n.toString()),Sv("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Av.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,o.Z)(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new Pv(Av.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return xv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(xv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),kx=function(e){d(n,e);var t=g(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c}return f(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Iv(void 0===t||"string"==typeof t),py.fromBase64String(t||"")):(Iv(void 0===t||t instanceof Uint8Array),py.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Av.UNKNOWN:q_(e.code);return new Pv(t,e.message||"")}(o);n=new ek(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=yk(e,u.document.name),l=dk(u.document.updateTime),f=u.document.createTime?dk(u.document.createTime):Gv.min(),h=new Ky({mapValue:{fields:u.document.fields}}),d=Gy.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new J_(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=yk(e,m.document),g=m.readTime?dk(m.readTime):Gv.min(),_=Gy.newNoDocument(y,g),k=m.removedTargetIds||[];n=new J_([],k,_.key,_)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=yk(e,w.document),x=w.removedTargetIds||[];n=new J_([],x,b,null)}else{if(!("filter"in t))return Cv();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,C=S.unchangedNames,I=new V_(T,C),N=S.targetId;n=new X_(N,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Gv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gv.min():t.readTime?dk(t.readTime):Gv.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=kk(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=bg(r)?{documents:Ck(e,r)}:{query:Ik(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=fk(e,t.resumeToken);var i=ck(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Gv.min())>0){n.readTime=lk(e,t.snapshotVersion.toTimestamp());var a=ck(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Cv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=kk(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(_x),wx=function(e){d(n,e);var t=g(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,c.h_=!1,c}return f(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,mr(p(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(Iv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(Iv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?dk(e.updateTime):dk(t);return n.isEqual(Gv.min())&&(n=dk(t)),new __(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=dk(e.commitTime);return this.listener.T_(n,t)}return Iv(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=kk(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ek(t.serializer,e)}))};this.t_(n)}}]),n}(_x),bx=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return f(n,[{key:"R_",value:function(){if(this.A_)throw new Pv(Av.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n){var r=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,o.Z)(i,2),s=a[0],u=a[1];return r.connection.So(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Av.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Pv(Av.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=(0,o.Z)(a,2),u=s[0],c=s[1];return i.connection.vo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Av.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Pv(Av.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0}}]),n}(f((function e(){u(this,e)})));var xx=function(){function e(t,n){u(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return f(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Sv(t),this.g_=!1):xv("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),Sx=f((function e(t,n,r,i,a){var o=this;u(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Lx(o),!e.t0){e.next=5;break}return xv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nv(t)).v_.add(4),e.next=4,Cx(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,Ex(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new xx(r,i)}));function Ex(e){return Tx.apply(this,arguments)}function Tx(){return Tx=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lx(t)){e.next=18;break}n=C(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Tx.apply(this,arguments)}function Cx(e){return Ix.apply(this,arguments)}function Ix(){return Ix=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ix.apply(this,arguments)}function Nx(e,t){var n=Nv(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Dx(n)?Ox(n):lS(n).Jo()&&Px(n,t))}function Ax(e,t){var n=Nv(e),r=lS(n);n.C_.delete(t),r.Jo()&&Rx(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Lx(n)&&n.x_.set("Unknown"))}function Px(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lS(e).c_(t)}function Rx(e,t){e.O_.Ne(t),lS(e).l_(t)}function Ox(e){e.O_=new nk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.C_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),lS(e).start(),e.x_.p_()}function Dx(e){return Lx(e)&&!lS(e).Ho()&&e.C_.size>0}function Lx(e){return 0===Nv(e).v_.size}function Mx(e){e.O_=void 0}function jx(e){return Fx.apply(this,arguments)}function Fx(){return Fx=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){Px(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mx(t),Dx(t)?(t.x_.S_(n),Ox(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Bx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=Ut(jt().mark((function e(t,n,r){var i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof ek&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),xv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,zx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof J_?t.O_.Ue(n):n instanceof X_?t.O_.Ye(n):t.O_.ze(n),r.isEqual(Gv.min())){e.next=29;break}return e.prev=14,e.next=17,Mb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(py.EMPTY_BYTE_STRING,r.snapshotVersion)),Rx(e,t);var i=new Uk(r.target,t,n,r.sequenceNumber);Px(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),xv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,zx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),qx.apply(this,arguments)}function zx(e,t,n){return Wx.apply(this,arguments)}function Wx(){return Wx=Ut(jt().mark((function e(t,n,r){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ym(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,Cx(t);case 5:t.x_.set("Offline"),r||(r=function(){return Mb(t.localStore)}),t.asyncQueue.enqueueRetryable(Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,Ex(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(e,t){return t().catch((function(n){return zx(e,n,t)}))}function Hx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Ut(jt().mark((function e(t){var n,r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nv(t),r=fS(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!Zx(n)){e.next=19;break}return e.prev=3,e.next=6,Ub(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,Qx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,zx(n,e.t0);case 17:e.next=2;break;case 19:$x(n)&&Yx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Gx.apply(this,arguments)}function Zx(e){return Lx(e)&&e.D_.length<10}function Qx(e,t){e.D_.push(t);var n=fS(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function $x(e){return Lx(e)&&!fS(e).Ho()&&e.D_.length>0}function Yx(e){fS(e).start()}function Jx(e){return Xx.apply(this,arguments)}function Xx(){return Xx=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fS(t).d_();case 1:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function eS(e){return tS.apply(this,arguments)}function tS(){return tS=Ut(jt().mark((function e(t){var n,r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fS(t),r=C(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t,n){return rS.apply(this,arguments)}function rS(){return rS=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=F_.from(i,n,r),e.next=3,Kx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Hx(t);case 5:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return aS=Ut(jt().mark((function e(t,n){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fS(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return B_(e)&&e!==Av.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),fS(t).Zo(),e.next=5,Kx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Hx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$x(t)&&Yx(t);case 5:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e,t){return sS.apply(this,arguments)}function sS(){return sS=Ut(jt().mark((function e(t,n){var r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Nv(t)).asyncQueue.verifyOperationInProgress(),xv("RemoteStore","RemoteStore received new credentials"),i=Lx(r),r.v_.add(3),e.next=6,Cx(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,Ex(r);case 12:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function uS(e,t){return cS.apply(this,arguments)}function cS(){return cS=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nv(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,Ex(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,Cx(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(e){return e.N_||(e.N_=function(e,t,n){var r=Nv(e);return r.R_(),new kx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:jx.bind(null,e),To:Ux.bind(null,e),u_:Bx.bind(null,e)}),e.F_.push(function(){var t=Ut(jt().mark((function t(n){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),Dx(e)?Ox(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:Mx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function fS(e){return e.B_||(e.B_=function(e,t,n){var r=Nv(e);return r.R_(),new wx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Jx.bind(null,e),To:iS.bind(null,e),E_:eS.bind(null,e),T_:nS.bind(null,e)}),e.F_.push(function(){var t=Ut(jt().mark((function t(n){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.B_.Zo(),t.next=4,Hx(e);case 4:t.next=9;break;case 6:return t.next=8,e.B_.stop();case 8:e.D_.length>0&&(xv("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}var hS=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return f(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pv(Av.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function dS(e,t){if(Sv("AsyncQueue","".concat(t,": ").concat(e)),ym(e))return new Pv(Av.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var pS=function(){function e(t){u(this,e),this.comparator=t?function(e,n){return t(e,n)||Jv.comparator(e.key,n.key)}:function(e,t){return Jv.comparator(e.key,t.key)},this.keyedMap=Gg(),this.sortedSet=new oy(this.comparator)}return f(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vS=function(){function e(){u(this,e),this.L_=new oy(Jv.comparator)}return f(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Cv():this.L_=this.L_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.L_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),mS=function(){function e(t,n,r,i,a,o,s,c,l){u(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=l}return f(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,pS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),yS=f((function e(){u(this,e),this.q_=void 0,this.listeners=[]})),gS=f((function e(){u(this,e),this.queries=new zg((function(e){return jg(e)}),Mg),this.onlineState="Unknown",this.Q_=new Set}));function _S(e,t){return kS.apply(this,arguments)}function kS(){return kS=Ut(jt().mark((function e(t,n){var r,i,a,o,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new yS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=dS(e.t0,"Initialization of query '".concat(Fg(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.K_(r.onlineState),o.q_&&n.U_(o.q_)&&ES(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),kS.apply(this,arguments)}function wS(e,t){return bS.apply(this,arguments)}function bS(){return bS=Ut(jt().mark((function e(t,n){var r,i,a,o,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function xS(e,t){var n,r=Nv(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=C(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.U_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&ES(r)}function SS(e,t,n){var r=Nv(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function ES(e){e.Q_.forEach((function(e){e.next()}))}var TS=function(){function e(t,n,r){u(this,e),this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}return f(e,[{key:"U_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new mS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.G_?this.j_(e)&&(this.W_.next(e),a=!0):this.H_(e,this.onlineState)&&(this.J_(e),a=!0),this.z_=e,a}},{key:"onError",value:function(e){this.W_.error(e)}},{key:"K_",value:function(e){this.onlineState=e;var t=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),t=!0),t}},{key:"H_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Y_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"j_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"J_",value:function(e){e=mS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}]),e}(),CS=function(){function e(t,n){u(this,e),this.Z_=t,this.byteLength=n}return f(e,[{key:"X_",value:function(){return"metadata"in this.Z_}}]),e}(),IS=function(){function e(t){u(this,e),this.serializer=t}return f(e,[{key:"Ps",value:function(e){return yk(this.serializer,e)}},{key:"Is",value:function(e){return e.metadata.exists?xk(this.serializer,e.document,!1):Gy.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return dk(e)}}]),e}(),NS=function(){function e(t,n,r){u(this,e),this.ea=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AS(t)}return f(e,[{key:"ta",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Z_.namedQuery)this.queries.push(e.Z_.namedQuery);else if(e.Z_.documentMetadata){this.documents.push({metadata:e.Z_.documentMetadata}),e.Z_.documentMetadata.exists||++t;var n=Qv.fromString(e.Z_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Z_.document&&(this.documents[this.documents.length-1].document=e.Z_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"na",value:function(e){var t,n=new Map,r=new IS(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ps(a.metadata.name),u=C(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||e_()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gb(this.localStore,new IS(this.serializer),this.documents,this.ea.id);case 2:t=e.sent,n=this.na(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Qb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ra:this.collectionGroups,ia:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function AS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var PS=f((function e(t){u(this,e),this.key=t})),RS=f((function e(t){u(this,e),this.key=t})),OS=function(){function e(t,n){u(this,e),this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=e_(),this.mutatedKeys=e_(),this.aa=Bg(t),this.ua=new pS(this.aa)}return f(e,[{key:"ca",get:function(){return this.sa}},{key:"la",value:function(e,t){var n=this,r=t?t.ha:new vS,i=t?t.ua:this.ua,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ug(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Pa(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.aa(f,u)>0||c&&n.aa(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ua:o,ha:r,Xi:s,mutatedKeys:a}}},{key:"Pa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;var a=e.ha.k_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cv()}};return n(e)-n(t)}(e.type,t.type)||r.aa(e.doc,t.doc)})),this.Ia(n);var o=t?this.Ta():[],s=0===this._a.size&&this.current?1:0,u=s!==this.oa;return this.oa=s,0!==a.length||u?{snapshot:new mS(this.query,e.ua,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"K_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ua:this.ua,ha:new vS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}},{key:"da",value:function(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}},{key:"Ia",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.sa=t.sa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.sa=t.sa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this._a;this._a=e_(),this.ua.forEach((function(t){e.da(t.key)&&(e._a=e._a.add(t.key))}));var n=[];return t.forEach((function(t){e._a.has(t)||n.push(new RS(t))})),this._a.forEach((function(e){t.has(e)||n.push(new PS(e))})),n}},{key:"Aa",value:function(e){this.sa=e.hs,this._a=e_();var t=this.la(e.documents);return this.applyChanges(t,!0)}},{key:"Ra",value:function(){return mS.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,0===this.oa,this.hasCachedResults)}}]),e}(),DS=f((function e(t,n,r){u(this,e),this.query=t,this.targetId=n,this.view=r})),LS=f((function e(t){u(this,e),this.key=t,this.Va=!1})),MS=function(){function e(t,n,r,i,a,o){u(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new zg((function(e){return jg(e)}),Mg),this.ga=new Map,this.pa=new Set,this.ya=new oy(Jv.comparator),this.wa=new Map,this.Sa=new hb,this.ba={},this.Da=new Map,this.Ca=Bw.Bn(),this.onlineState="Unknown",this.va=void 0}return f(e,[{key:"isPrimaryClient",get:function(){return!0===this.va}}]),e}();function jS(e,t){return FS.apply(this,arguments)}function FS(){return FS=Ut(jt().mark((function e(t,n){var r,i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AE(t),!(o=r.fa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ra(),e.next=15;break;case 6:return e.next=8,Vb(r.localStore,Rg(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,US(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Nx(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function US(e,t,n,r,i){return VS.apply(this,arguments)}function VS(){return VS=Ut(jt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fa=function(e,n,r){return function(){var e=Ut(jt().mark((function e(t,n,r,i){var a,o,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.la(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,zb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.la(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(oE(t,n.targetId,s.Ea),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,zb(t.localStore,n,!0);case 3:return o=e.sent,s=new OS(n,o.hs),u=s.la(o.documents),c=Y_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),oE(t,r,l.Ea),f=new DS(n,r,s),e.abrupt("return",(t.fa.set(n,f),t.ga.has(r)?t.ga.get(r).push(n):t.ga.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function BS(e,t){return qS.apply(this,arguments)}function qS(){return qS=Ut(jt().mark((function e(t,n){var r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nv(t),i=r.fa.get(n),!((a=r.ga.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ga.set(i.targetId,a.filter((function(e){return!Mg(e,n)}))),void r.fa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Bb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ax(r.remoteStore,i.targetId),iE(r,i.targetId)})).catch(lm);case 9:e.next=14;break;case 11:return iE(r,i.targetId),e.next=14,Bb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function zS(e,t,n){return WS.apply(this,arguments)}function WS(){return WS=Ut(jt().mark((function e(t,n,r){var i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Nv(e),a=Hv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),e_());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Kg(),u=e_();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=T_(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new N_(c.key,l,Hy(l.value.mapValue),k_.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Zg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ba[e.currentUser.toKey()];r||(r=new oy(zv)),r=r.insert(t,n),e.ba[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,cE(i,a.changes);case 9:return e.next=11,Hx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=dS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),WS.apply(this,arguments)}function KS(e,t){return HS.apply(this,arguments)}function HS(){return HS=Ut(jt().mark((function e(t,n){var r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),e.prev=1,e.next=4,jb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.wa.get(t);n&&(Iv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Va=!0:e.modifiedDocuments.size>0?Iv(n.Va):e.removedDocuments.size>0&&(Iv(n.Va),n.Va=!1))})),e.next=8,cE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,lm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),HS.apply(this,arguments)}function GS(e,t,n){var r=Nv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.fa.forEach((function(e,n){var r=n.view.K_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Nv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.K_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ES(n)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ZS(e,t,n){return QS.apply(this,arguments)}function QS(){return QS=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u,c;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Nv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.wa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new oy(Jv.comparator)).insert(o,Gy.newNoDocument(o,Gv.min())),u=e_().add(o),c=new $_(Gv.min(),new Map,new oy(zv),s,u),e.next=9,KS(i,c);case 9:i.ya=i.ya.remove(o),i.wa.delete(n),uE(i),e.next=16;break;case 14:return e.next=16,Bb(i.localStore,n,!1).then((function(){return iE(i,n,r)})).catch(lm);case 16:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function $S(e,t){return YS.apply(this,arguments)}function YS(){return YS=Ut(jt().mark((function e(t,n){var r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),i=n.batch.batchId,e.prev=1,e.next=4,Lb(r.localStore,n);case 4:return a=e.sent,rE(r,i,null),nE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,cE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),YS.apply(this,arguments)}function JS(e,t,n){return XS.apply(this,arguments)}function XS(){return XS=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nv(t),e.prev=1,e.next=4,function(e,t){var n=Nv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Iv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,rE(i,n,r),nE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,cE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),XS.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=Ut(jt().mark((function e(t,n){var r,i,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lx((r=Nv(t)).remoteStore)||xv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Nv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Da.get(i)||[]).push(n),r.Da.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=dS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),tE.apply(this,arguments)}function nE(e,t){(e.Da.get(t)||[]).forEach((function(e){e.resolve()})),e.Da.delete(t)}function rE(e,t,n){var r=Nv(e),i=r.ba[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function iE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.ga.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fa.delete(a),n&&e.ma.Ma(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach((function(t){e.Sa.containsKey(t)||aE(e,t)}))}function aE(e,t){e.pa.delete(t.path.canonicalString());var n=e.ya.get(t);null!==n&&(Ax(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),uE(e))}function oE(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof PS?(e.Sa.addReference(a.key,t),sE(e,a)):a instanceof RS?(xv("SyncEngine","Document no longer in limbo: "+a.key),e.Sa.removeReference(a.key,t),e.Sa.containsKey(a.key)||aE(e,a.key)):Cv()}}catch(o){i.e(o)}finally{i.f()}}function sE(e,t){var n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(xv("SyncEngine","New document in limbo: "+n),e.pa.add(r),uE(e))}function uE(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){var t=e.pa.values().next().value;e.pa.delete(t);var n=new Jv(Qv.fromString(t)),r=e.Ca.next();e.wa.set(r,new LS(n)),e.ya=e.ya.insert(n,r),Nx(e.remoteStore,new Uk(Rg(Ig(n.path)),r,"TargetPurposeLimboResolution",Sm.ae))}}function cE(e,t,n){return lE.apply(this,arguments)}function lE(){return lE=Ut(jt().mark((function e(t,n,r){var i,a,o,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nv(t),a=[],o=[],s=[],e.t0=i.fa.isEmpty(),e.t0){e.next=9;break}return i.fa.forEach((function(e,t){s.push(i.Fa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Ib.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ma.u_(a),e.next=9,function(){var e=Ut(jt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return hm.forEach(n,(function(t){return hm.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return hm.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ym(e.t0)){e.next=10;break}throw e.t0;case 10:xv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ns.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ns=r.ns.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=Ut(jt().mark((function e(t,n){var r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Nv(t)).currentUser.isEqual(n)){e.next=11;break}return xv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ob(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Da.forEach((function(e){e.forEach((function(e){e.reject(new Pv(Av.CANCELLED,t))}))})),e.Da.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,cE(r,i.us);case 11:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t){var n=Nv(e),r=n.wa.get(t);if(r&&r.Va)return e_().add(r.key);var i=e_(),a=n.ga.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.fa.get(u);i=i.unionWith(c.view.ca)}}catch(l){s.e(l)}finally{s.f()}return i}function pE(e,t){return vE.apply(this,arguments)}function vE(){return vE=Ut(jt().mark((function e(t,n){var r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),e.next=3,zb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Aa(i),e.abrupt("return",(r.isPrimaryClient&&oE(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Ut(jt().mark((function e(t,n){var r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),e.abrupt("return",Kb(r.localStore,n).then((function(e){return cE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e,t,n,r){return _E.apply(this,arguments)}function _E(){return _E=Ut(jt().mark((function e(t,n,r,i){var a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nv(t),e.next=3,function(e,t){var n=Nv(e),r=Nv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):hm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Hx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(rE(a,n,i||null),nE(a,n),function(e,t){Nv(Nv(e).mutationQueue).Mn(t)}(a.localStore,n)):Cv();case 11:return e.next=13,cE(a,o);case 13:e.next=16;break;case 15:xv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function kE(e,t){return wE.apply(this,arguments)}function wE(){return wE=Ut(jt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(AE(r=Nv(t)),PE(r),!0!==n||!0===r.va){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,bE(r,i.toArray());case 5:return a=e.sent,r.va=!0,e.next=9,uS(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Nx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.va){e.next=25;break}return c=[],l=Promise.resolve(),r.ga.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return iE(r,t),Bb(r.localStore,t,!0)})),Ax(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,bE(r,c);case 21:return function(e){var t=Nv(e);t.wa.forEach((function(e,n){Ax(t.remoteStore,n)})),t.Sa.mr(),t.wa=new Map,t.ya=new oy(Jv.comparator)}(r),r.va=!1,e.next=25,uS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function bE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Nv(t),a=[],o=[],s=C(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ga.get(c))||0===f.length){e.next=34;break}return e.next=11,Vb(i.localStore,Rg(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.fa.get(p),e.next=20,pE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Wb(i.localStore,c);case 36:return y=e.sent,e.next=39,Vb(i.localStore,y);case 39:return l=e.sent,e.next=42,US(i,SE(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.ma.u_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),xE.apply(this,arguments)}function SE(e){return Cg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function EE(e){return function(e){return Nv(Nv(e).persistence).Li()}(Nv(e).localStore)}function TE(e,t,n,r){return CE.apply(this,arguments)}function CE(){return CE=Ut(jt().mark((function e(t,n,r,i){var a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Nv(t)).va){e.next=3;break}return e.abrupt("return",void xv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ga.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Kb(a.localStore,Vg(o[0]));case 10:return s=e.sent,u=$_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,py.EMPTY_BYTE_STRING),e.next=14,cE(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Bb(a.localStore,n,!0);case 17:return iE(a,n,i),e.abrupt("break",20);case 19:Cv();case 20:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function IE(e,t,n){return NE.apply(this,arguments)}function NE(){return NE=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=AE(t)).va){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ga.has(s)){e.next=10;break}return xv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Wb(i.localStore,s);case 12:return u=e.sent,e.next=15,Vb(i.localStore,u);case 15:return c=e.sent,e.next=18,US(i,SE(u),c.targetId,!1,c.resumeToken);case 18:Nx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ga.has(t),!e.t0){e.next=5;break}return e.next=5,Bb(i.localStore,t,!1).then((function(){Ax(i.remoteStore,t),iE(i,t)})).catch(lm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),NE.apply(this,arguments)}function AE(e){var t=Nv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZS.bind(null,t),t.ma.u_=xS.bind(null,t.eventManager),t.ma.Ma=SS.bind(null,t.eventManager),t}function PE(e){var t=Nv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$S.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JS.bind(null,t),t}function RE(e,t,n){var r=Nv(e);(function(){var e=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Nv(e),r=dk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(AS(i)),a=new NS(i,t.localStore,n.serializer),e.next=15,n.xa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ta(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.xa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,cE(t,u.ia,void 0);case 31:return e.next=33,function(e,t){var n=Nv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.ra));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ev("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var OE=function(){function e(){u(this,e),this.synchronizeTabs=!1}return f(e,[{key:"initialize",value:function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=yx(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Rb(this.persistence,new Ab,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new gb(kb.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new ox}},{key:"terminate",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DE=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).Oa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return f(n,[{key:"initialize",value:function(){var e=Ut(jt().mark((function e(t){var r=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr(p(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Oa.initialize(this,t);case 4:return e.next=6,PE(this.Oa.syncEngine);case 6:return e.next=8,Hx(this.Oa.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Rb(this.persistence,new Ab,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Zw(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new xm(t,this.persistence);return new bm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Cb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ow.withCacheSize(this.cacheSizeBytes):Ow.DEFAULT;return new Sb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,vx(),mx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new ox}}]),n}(OE),LE=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r,!1)).Oa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return f(n,[{key:"initialize",value:function(){var e=Ut(jt().mark((function e(t){var r,i=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr(p(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Oa.syncEngine,e.t0=this.sharedClientState instanceof ax,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Zs:gE.bind(null,r),Xs:TE.bind(null,r),eo:IE.bind(null,r),Li:EE.bind(null,r),Ys:mE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kE(i.Oa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=vx();if(!ax.C(t))throw new Pv(Av.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ax(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(DE),ME=function(){function e(){u(this,e)}return f(e,[{key:"initialize",value:function(){var e=Ut(jt().mark((function e(t,n){var r=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return GS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fE.bind(null,this.syncEngine),e.next=12,uS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gS}},{key:"createDatastore",value:function(e){var t=yx(e.databaseInfo.databaseId),n=function(e){return new px(e)}(e.databaseInfo);return function(e,t,n,r){return new bx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Sx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return GS(t.syncEngine,e,0)}),ux.C()?new ux:new sx)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new MS(e,t,n,r,i,a);return o&&(s.va=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nv(t),xv("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,Cx(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ut(jt().mark((function r(){var i;return jt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var FE=function(){function e(t){u(this,e),this.observer=t,this.muted=!1}return f(e,[{key:"next",value:function(e){this.observer.next&&this.Na(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Na(this.observer.error,e):Sv("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ba",value:function(){this.muted=!0}},{key:"Na",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),UE=function(){function e(t,n){var r=this;u(this,e),this.La=t,this.serializer=n,this.metadata=new Rv,this.buffer=new Uint8Array,this.ka=new TextDecoder("utf-8"),this.qa().then((function(e){e&&e.X_()?r.metadata.resolve(e.Z_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Z_))))}),(function(e){return r.metadata.reject(e)}))}return f(e,[{key:"close",value:function(){return this.La.cancel()}},{key:"getMetadata",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xa",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.qa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"qa",value:function(){var e=Ut(jt().mark((function e(){var t,n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ka.decode(t),r=Number(n),isNaN(r)&&this.Ka("length string (".concat(n,") is not valid number")),e.next=9,this.$a(r);case 9:return i=e.sent,e.abrupt("return",new CS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Qa",value:function(){var e=Ut(jt().mark((function e(){var t,n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Ua()<0)){e.next=7;break}return e.next=3,this.Wa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Ua())<0&&this.Ka("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Wa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ka("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ka.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ka",value:function(e){throw this.La.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Wa",value:function(){var e=Ut(jt().mark((function e(){var t,n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.La.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VE=function(){function e(t){u(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return f(e,[{key:"lookup",value:function(){var e=Ut(jt().mark((function e(t){var n,r=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Pv(Av.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ut(jt().mark((function e(t,n){var r,i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),i=kk(r.serializer)+"/documents",a={documents:n.map((function(e){return mk(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Sk(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Iv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new L_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ut(jt().mark((function e(){var t,n=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Jv.fromPath(t);n.mutations.push(new M_(r,n.precondition(r)))})),e.next=7,function(){var e=Ut(jt().mark((function e(t,n){var r,i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nv(t),i=kk(r.serializer)+"/documents",a={writes:n.map((function(e){return Ek(r.serializer,e)}))},e.next=3,r.So("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Cv();t=Gv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Pv(Av.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Gv.min())?k_.exists(!1):k_.updateTime(t):k_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gv.min()))throw new Pv(Av.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return k_.updateTime(t)}return k_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),BE=function(){function e(t,n,r,i,a){u(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ga=r.maxAttempts,this.jo=new gx(this.asyncQueue,"transaction_retry")}return f(e,[{key:"run",value:function(){this.Ga-=1,this.za()}},{key:"za",value:function(){var e=this;this.jo.qo(Ut(jt().mark((function t(){var n,r;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new VE(e.datastore),(r=e.ja(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ha(t)}))}))})).catch((function(t){e.Ha(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ja",value:function(e){try{var t=this.updateFunction(e);return!Em(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ha",value:function(e){var t=this;this.Ga>0&&this.Ja(e)?(this.Ga-=1,this.asyncQueue.enqueueAndForget((function(){return t.za(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ja",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!B_(t)}return!1}}]),e}(),qE=function(){function e(t,n,r,i){var a=this;u(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_v.UNAUTHENTICATED,this.clientId=qv.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return xv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return f(e,[{key:"getConfiguration",value:function(){var e=Ut(jt().mark((function e(){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Pv(Av.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Rv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ut(jt().mark((function n(){var r;return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=dS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zE(e,t){return WE.apply(this,arguments)}function WE(){return WE=Ut(jt().mark((function e(t,n){var r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),xv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ob(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e,t){return HE.apply(this,arguments)}function HE(){return HE=Ut(jt().mark((function e(t,n){var r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ZE(t);case 3:return r=e.sent,xv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return oS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return oS(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function GE(e){return"FirebaseError"===e.name?e.code===Av.FAILED_PRECONDITION||e.code===Av.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ZE(e){return QE.apply(this,arguments)}function QE(){return QE=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return xv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,zE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),GE(n=e.t0)){e.next=13;break}throw n;case 13:return Ev("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,zE(t,new OE);case 16:e.next=21;break;case 18:return xv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,zE(t,new OE);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),QE.apply(this,arguments)}function $E(e){return YE.apply(this,arguments)}function YE(){return YE=Ut(jt().mark((function e(t){return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return xv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,KE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return xv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,KE(t,new ME);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function JE(e){return ZE(e).then((function(e){return e.persistence}))}function XE(e){return ZE(e).then((function(e){return e.localStore}))}function eT(e){return $E(e).then((function(e){return e.remoteStore}))}function tT(e){return $E(e).then((function(e){return e.syncEngine}))}function nT(e){return $E(e).then((function(e){return e.datastore}))}function rT(e){return iT.apply(this,arguments)}function iT(){return iT=Ut(jt().mark((function e(t){var n,r;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$E(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jS.bind(null,n.syncEngine),r.onUnlisten=BS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rv;return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function i(){return jt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FE({next:function(a){t.enqueueAndForget((function(){return wS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Pv(Av.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Pv(Av.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new TS(Ig(n.path),a,{includeMetadataChanges:!0,Y_:!0});return _S(e,o)},i.next=3,rT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function oT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rv;return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function i(){return jt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FE({next:function(n){t.enqueueAndForget((function(){return wS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Pv(Av.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new TS(n,a,{includeMetadataChanges:!0,Y_:!0});return _S(e,o)},i.next=3,rT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function sT(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var uT=new Map;function cT(e,t,n){if(!n)throw new Pv(Av.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function lT(e,t,n,r){if(!0===t&&!0===r)throw new Pv(Av.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function fT(e){if(!Jv.isDocumentKey(e))throw new Pv(Av.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hT(e){if(Jv.isDocumentKey(e))throw new Pv(Av.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function dT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Cv()}function pT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pv(Av.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dT(e);throw new Pv(Av.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function vT(e,t){if(t<=0)throw new Pv(Av.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var mT=function(){function e(t){var n,r;if(u(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Pv(Av.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pv(Av.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Pv(Av.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Pv(Av.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Pv(Av.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return f(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),yT=function(){function e(t,n,r,i){u(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1}return f(e,[{key:"app",get:function(){if(!this._app)throw new Pv(Av.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Pv(Av.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Dv;switch(e.type){case"firstParty":return new Fv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pv(Av.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=uT.get(e);t&&(xv("ComponentProvider","Removing Datastore"),uT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function gT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=pT(e,yT))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Ev("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=_v.MOCK_USER;else{s=rt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Pv(Av.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _v(c)}e._authCredentials=new Lv(new Ov(s,u))}}var _T=function(){function e(t,n,r){u(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return f(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),kT=function(){function e(t,n,r){u(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return f(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new wT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),wT=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,e,r,Ig(i)))._path=i,a.type="collection",a}return f(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new kT(this.firestore,null,new Jv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(_T);function bT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Mt(e),cT("collection","path",t),e instanceof yT){var a=Qv.fromString.apply(Qv,[t].concat(r));return hT(a),new wT(e,null,a)}if(!(e instanceof kT||e instanceof wT))throw new Pv(Av.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qv.fromString.apply(Qv,[t].concat(r)));return hT(o),new wT(e.firestore,null,o)}function xT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Mt(e),1===arguments.length&&(t=qv.V()),cT("doc","path",t),e instanceof yT){var a=Qv.fromString.apply(Qv,[t].concat(r));return fT(a),new kT(e,null,new Jv(a))}if(!(e instanceof kT||e instanceof wT))throw new Pv(Av.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qv.fromString.apply(Qv,[t].concat(r)));return fT(o),new kT(e.firestore,e instanceof wT?e.converter:null,new Jv(o))}function ST(e,t){return e=Mt(e),t=Mt(t),(e instanceof kT||e instanceof wT)&&(t instanceof kT||t instanceof wT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ET(e,t){return e=Mt(e),t=Mt(t),e instanceof _T&&t instanceof _T&&e.firestore===t.firestore&&Mg(e._query,t._query)&&e.converter===t.converter}var TT=function(){function e(){var t=this;u(this,e),this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new gx(this,"async_queue_retry"),this.su=function(){var e=mx();e&&xv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=mx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.su)}return f(e,[{key:"isShuttingDown",get:function(){return this.Xa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ou(),this._u(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;var t=mx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.su)}}},{key:"enqueue",value:function(e){var t=this;if(this.ou(),this.Xa)return new Promise((function(){}));var n=new Rv;return this._u((function(){return t.Xa&&t.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Za.push(e),t.au()}))}},{key:"au",value:function(){var e=Ut(jt().mark((function e(){var t=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Za.length){e.next=14;break}return e.prev=1,e.next=4,this.Za[0]();case 4:this.Za.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ym(e.t0)){e.next=12;break}throw e.t0;case 12:xv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Za.length>0&&this.jo.qo((function(){return t.au()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t=this,n=this.Ya.then((function(){return t.nu=!0,e().catch((function(e){t.tu=e,t.nu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Sv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.nu=!1,e}))}));return this.Ya=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ou(),this.iu.indexOf(e)>-1&&(t=0);var i=hS.createAndSchedule(this,e,t,n,(function(e){return r.uu(e)}));return this.eu.push(i),i}},{key:"ou",value:function(){this.tu&&Cv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"cu",value:function(){var e=Ut(jt().mark((function e(){var t;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ya,e.next=3,t;case 3:if(t!==this.Ya){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lu",value:function(e){var t,n=C(this.eu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"hu",value:function(e){var t=this;return this.cu().then((function(){t.eu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.eu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.cu()}))}},{key:"Pu",value:function(e){this.iu.push(e)}},{key:"uu",value:function(e){var t=this.eu.indexOf(e);this.eu.splice(t,1)}}]),e}();function CT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var IT=function(){function e(){u(this,e),this._progressObserver={},this._taskCompletionResolver=new Rv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return f(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),NT=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new TT,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return f(n,[{key:"_terminate",value:function(){return this._firestoreClient||PT(this),this._firestoreClient.terminate()}}]),n}(yT);function AT(e){return e._firestoreClient||PT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function PT(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new by(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,sT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qE(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function RT(e,t,n){var r=new Rv;return e.asyncQueue.enqueue(Ut(jt().mark((function i(){var a;return jt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,zE(e,n);case 3:return i.next=5,KE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),GE(a=i.t0)){i.next=13;break}throw a;case 13:Ev("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function OT(e){return function(e){var t=new Rv;return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function n(){return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=eE,n.next=3,tT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(AT(e=pT(e,NT)))}function DT(e){return function(e){return e.asyncQueue.enqueue(Ut(jt().mark((function t(){var n,r;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JE(e);case 2:return n=t.sent,t.next=5,eT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Nv(e);return t.v_.delete(0),Ex(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(AT(e=pT(e,NT)))}function LT(e){return function(e){return e.asyncQueue.enqueue(Ut(jt().mark((function t(){var n,r;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JE(e);case 2:return n=t.sent,t.next=5,eT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nv(t)).v_.add(0),e.next=4,Cx(n);case 4:n.x_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(AT(e=pT(e,NT)))}function MT(e,t){var n=AT(e=pT(e,NT)),r=new IT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new UE(e,t)}(function(e,t){if(e instanceof Uint8Array)return jE(e,t);if(e instanceof ArrayBuffer)return jE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?W_().encode(e):e),t)}(n,yx(t));e.asyncQueue.enqueueAndForget(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RE,t.next=3,tT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function jT(e,t){return function(e,t){return e.asyncQueue.enqueue(Ut(jt().mark((function n(){return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Nv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,XE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(AT(e=pT(e,NT)),t).then((function(t){return t?new _T(e,null,t.query):null}))}function FT(e){if(e._initialized||e._terminated)throw new Pv(Av.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var UT=function(){function e(t){u(this,e),this._byteString=t}return f(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(py.fromBase64String(t))}catch(t){throw new Pv(Av.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(py.fromUint8Array(t))}}]),e}(),VT=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Pv(Av.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yv(n)}return f(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var BT=f((function e(t){u(this,e),this._methodName=t})),qT=function(){function e(t,n){if(u(this,e),!isFinite(t)||t<-90||t>90)throw new Pv(Av.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Pv(Av.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return f(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zv(this._lat,e._lat)||zv(this._long,e._long)}}]),e}(),zT=/^__.*__$/,WT=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new N_(e,this.data,this.fieldMask,t,this.fieldTransforms):new I_(e,this.data,t,this.fieldTransforms)}}]),e}(),KT=function(){function e(t,n,r){u(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return new N_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function HT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cv()}}var GT=function(){function e(t,n,r,i,a,o){u(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Iu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return f(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Ru(e),r}},{key:"Vu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Au:!1});return r.Iu(),r}},{key:"mu",value:function(e){return this.Eu({path:void 0,Au:!0})}},{key:"fu",value:function(e){return dC(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Iu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}},{key:"Ru",value:function(e){if(0===e.length)throw this.fu("Document fields must not be empty");if(HT(this.Tu)&&zT.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}]),e}(),ZT=function(){function e(t,n,r){u(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||yx(t)}return f(e,[{key:"yu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new GT({Tu:e,methodName:t,pu:n,path:Yv.emptyPath(),Au:!1,gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function QT(e){var t=e._freezeSettings(),n=yx(e._databaseId);return new ZT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $T(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.yu(a.merge||a.mergeFields?2:0,t,n,i);cC("Data must be an object, but it was:",o,r);var s,u,c=sC(r,o);if(a.merge)s=new hy(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=lC(t,l.value,n);if(!o.contains(d))throw new Pv(Av.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));pC(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new hy(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new WT(new Ky(c),s,u)}var YT=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.fu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(BT);function JT(e,t,n){return new GT({Tu:3,pu:t.settings.pu,methodName:e._methodName,Au:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var XT=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){return new g_(e.path,new l_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(BT),eC=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).wu=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=JT(this,e,!0),n=this.wu.map((function(e){return oC(e,t)})),r=new f_(n);return new g_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BT),tC=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).wu=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=JT(this,e,!0),n=this.wu.map((function(e){return oC(e,t)})),r=new d_(n);return new g_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BT),nC=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).Su=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=new v_(e.serializer,a_(e.serializer,this.Su));return new g_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(BT);function rC(e,t,n,r){var i=e.yu(1,t,n);cC("Data must be an object, but it was:",i,r);var a=[],o=Ky.empty();iy(r,(function(e,r){var s=hC(t,e,n);r=Mt(r);var u=i.Vu(s);if(r instanceof YT)a.push(s);else{var c=oC(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new hy(a);return new KT(o,s,i.fieldTransforms)}function iC(e,t,n,r,i,a){var o=e.yu(1,t,n),s=[lC(t,r,n)],u=[i];if(a.length%2!=0)throw new Pv(Av.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(lC(t,a[c])),u.push(a[c+1]);for(var l=[],f=Ky.empty(),h=s.length-1;h>=0;--h)if(!pC(l,s[h])){var d=s[h],p=u[h];p=Mt(p);var v=o.Vu(d);if(p instanceof YT)l.push(d);else{var m=oC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new hy(l);return new KT(f,y,o.fieldTransforms)}function aC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return oC(n,e.yu(r?4:3,t))}function oC(e,t){if(uC(e=Mt(e)))return cC("Unsupported field value:",t,e),sC(e,t);if(e instanceof BT)return function(e,t){if(!HT(t.Tu))throw t.fu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&4!==t.Tu)throw t.fu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=oC(n.value,t.mu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Mt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return a_(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hv.fromDate(e);return{timestampValue:lk(t.serializer,n)}}if(e instanceof Hv){var r=new Hv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lk(t.serializer,r)}}if(e instanceof qT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof UT)return{bytesValue:fk(t.serializer,e._byteString)};if(e instanceof kT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:pk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fu("Unsupported field value: ".concat(dT(e)))}(e,t)}function sC(e,t){var n={};return ay(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):iy(e,(function(e,r){var i=oC(r,t.du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function uC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hv||e instanceof qT||e instanceof UT||e instanceof kT||e instanceof BT)}function cC(e,t,n){if(!uC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=dT(n);throw"an object"===r?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function lC(e,t,n){if((t=Mt(t))instanceof VT)return t._internalPath;if("string"==typeof t)return hC(e,t);throw dC("Field path arguments must be of type string or ",e,!1,void 0,n)}var fC=new RegExp("[~\\*/\\[\\]]");function hC(e,t,n){if(t.search(fC)>=0)throw dC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(VT,(0,s.Z)(t.split(".")))._internalPath}catch(ff){throw dC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Pv(Av.INVALID_ARGUMENT,s+e+u)}function pC(e,t){return e.some((function(e){return e.isEqual(t)}))}var vC=function(){function e(t,n,r,i,a){u(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return f(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new kT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new mC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),mC=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){return mr(p(n.prototype),"data",this).call(this)}}]),n}(vC);function yC(e,t){return"string"==typeof t?hC(e,t):t instanceof VT?t._internalPath:t._delegate._internalPath}function gC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Pv(Av.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _C=f((function e(){u(this,e)})),kC=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n)}(_C);function wC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof _C&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof xC})).length,n=e.filter((function(e){return e instanceof bC})).length;if(t>1||t>0&&n>0)throw new Pv(Av.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var bC=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return f(n,[{key:"_apply",value:function(e){var t=this._parse(e);return LC(e._query,t),new _T(e.firestore,e.converter,Dg(e._query,t))}},{key:"_parse",value:function(e){var t=QT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Pv(Av.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){DC(o,a);var u,c=[],l=C(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(OC(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=OC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||DC(o,a),s=aC(n,t,o,"in"===a||"not-in"===a);return eg.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kC);var xC=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return f(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:tg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;LC(r,a),r=Dg(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new _T(e.firestore,e.converter,Dg(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_C);var SC=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return f(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yy(t,n)}(e._query,this._field,this._direction);return new _T(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Tg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(kC);var EC=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return f(n,[{key:"_apply",value:function(e){return new _T(e.firestore,e.converter,Lg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kC);var TC=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return f(n,[{key:"_apply",value:function(e){var t=RC(e,this.type,this._docOrFields,this._inclusive);return new _T(e.firestore,e.converter,function(e,t){return new Tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kC);function CC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TC._create("startAt",t,!0)}function IC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TC._create("startAfter",t,!1)}var NC=function(e){d(n,e);var t=g(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return f(n,[{key:"_apply",value:function(e){var t=RC(e,this.type,this._docOrFields,this._inclusive);return new _T(e.firestore,e.converter,function(e,t){return new Tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kC);function AC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return NC._create("endBefore",t,!1)}function PC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return NC._create("endAt",t,!0)}function RC(e,t,n,r){if(n[0]=Mt(n[0]),n[0]instanceof vC)return function(e,t,n,r,i){if(!r)throw new Pv(Av.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=C(Pg(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Oy(t,r.key));else{var c=r.data.field(u.field);if(_y(c))throw new Pv(Av.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Zy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=QT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Pv(Av.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ag(e)&&-1!==c.indexOf("/"))throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Qv.fromString(c));if(!Jv.isDocumentKey(l))throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Jv(l);s.push(Oy(t,f))}else{var h=aC(n,r,c);s.push(h)}}return new Zy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function OC(e,t,n){if("string"==typeof(n=Mt(n))){if(""===n)throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ag(t)&&-1!==n.indexOf("/"))throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Qv.fromString(n));if(!Jv.isDocumentKey(r))throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Oy(e,new Jv(r))}if(n instanceof kT)return Oy(e,n._key);throw new Pv(Av.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(dT(n),"."))}function DC(e,t){if(!Array.isArray(e)||0===e.length)throw new Pv(Av.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function LC(e,t){var n=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Pv(Av.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Pv(Av.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var MC=function(){function e(){u(this,e)}return f(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ty(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return iy(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new qT(yy(e.latitude),yy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ky(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=my(e);return new Hv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Qv.fromString(e);Iv(Fk(n));var r=new xy(n.get(1),n.get(3)),i=new Jv(n.popFirst(5));return r.isEqual(t)||Sv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function jC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var FC=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new UT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kT(this.firestore,null,t)}}]),n}(MC);var UC=function(){function e(t,n){u(this,e),this.hasPendingWrites=t,this.fromCache=n}return f(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),VC=function(e){d(n,e);var t=g(n);function n(e,r,i,a,o,s){var c;return u(this,n),(c=t.call(this,e,r,i,a,s))._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return f(n,[{key:"exists",value:function(){return mr(p(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new BC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(vC),BC=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mr(p(n.prototype),"data",this).call(this,e)}}]),n}(VC),qC=function(){function e(t,n,r,i){u(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new UC(i.hasPendingWrites,i.fromCache),this.query=r}return f(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new BC(n._firestore,n._userDataWriter,r.key,r,new UC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pv(Av.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new BC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new BC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function zC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cv()}}function WC(e,t){return e instanceof VC&&t instanceof VC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof qC&&t instanceof qC&&e._firestore===t._firestore&&ET(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var KC=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new UT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kT(this.firestore,null,t)}}]),n}(MC);function HC(e){e=pT(e,kT);var t=pT(e.firestore,NT),n=AT(t),r=new KC(t);return function(e,t){var n=new Rv;return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function r(){return jt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ut(jt().mark((function e(t,n,r){var i,a;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Nv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Pv(Av.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=dS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,XE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new VC(t,r,e._key,n,new UC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function GC(e){e=pT(e,_T);var t=pT(e.firestore,NT),n=AT(t),r=new KC(t);return gC(e._query),oT(n,e._query).then((function(n){return new qC(t,r,e,n)}))}function ZC(e){e=pT(e,_T);var t=pT(e.firestore,NT),n=AT(t),r=new KC(t);return function(e,t){var n=new Rv;return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function r(){return jt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ut(jt().mark((function e(t,n,r){var i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zb(t,n,!0);case 3:i=e.sent,a=new OS(n,i.hs),o=a.la(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=dS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,XE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new qC(t,r,e,n)}))}function QC(e){e=pT(e,_T);var t=pT(e.firestore,NT),n=AT(t),r=new KC(t);return oT(n,e._query,{source:"server"}).then((function(n){return new qC(t,r,e,n)}))}function $C(e,t,n){e=pT(e,kT);var r=pT(e.firestore,NT),i=jC(e.converter,t,n);return eI(r,[$T(QT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,k_.none())])}function YC(e,t,n){e=pT(e,kT);for(var r=pT(e.firestore,NT),i=QT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return eI(r,[("string"==typeof(t=Mt(t))||t instanceof VT?iC(i,"updateDoc",e._key,t,n,o):rC(i,"updateDoc",e._key,t)).toMutation(e._key,k_.exists(!0))])}function JC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Mt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||CT(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(CT(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof kT)l=pT(e.firestore,NT),f=Ig(e._key.path),c={next:function(t){n[u]&&n[u](tI(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=pT(e,_T);l=pT(p.firestore,NT),f=p._query;var v=new KC(l);c={next:function(e){n[u]&&n[u](new qC(l,v,p,e))},error:n[u+1],complete:n[u+2]},gC(e._query)}return function(e,t,n,r){var i=new FE(r),a=new TS(t,i,n);return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_S,t.next=3,rT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ba(),e.asyncQueue.enqueueAndForget(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wS,t.next=3,rT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(AT(l),f,h,c)}function XC(e,t){return function(e,t){var n=new FE(t);return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nv(e).Q_.add(t),t.next()},t.next=3,rT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ba(),e.asyncQueue.enqueueAndForget(Ut(jt().mark((function t(){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nv(e).Q_.delete(t)},t.next=3,rT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(AT(e=pT(e,NT)),CT(t)?t:{next:t})}function eI(e,t){return function(e,t){var n=new Rv;return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function r(){return jt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=zS,r.next=3,tT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(AT(e),t)}function tI(e,t,n){var r=n.docs.get(t._key),i=new KC(e);return new VC(e,i,t._key,r,new UC(n.hasPendingWrites,n.fromCache),t.converter)}var nI={maxAttempts:5},rI=function(){function e(t,n){u(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=QT(t)}return f(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=iI(e,this._firestore),i=jC(r.converter,t,n),a=$T(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,k_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=iI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Mt(t))||t instanceof VT?iC(this._dataReader,"WriteBatch.update",i._key,t,n,o):rC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,k_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=iI(e,this._firestore);return this._mutations=this._mutations.concat(new L_(t._key,k_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Pv(Av.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function iI(e,t){if((e=Mt(e)).firestore!==t)throw new Pv(Av.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var aI=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r))._firestore=e,i}return f(n,[{key:"get",value:function(e){var t=this,r=iI(e,this._firestore),i=new KC(this._firestore);return mr(p(n.prototype),"get",this).call(this,e).then((function(e){return new VC(t._firestore,i,r._key,e._document,new UC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){u(this,e),this._firestore=t,this._transaction=n,this._dataReader=QT(t)}return f(e,[{key:"get",value:function(e){var t=this,n=iI(e,this._firestore),r=new FC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Cv();var i=e[0];if(i.isFoundDocument())return new vC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new vC(t._firestore,r,n._key,null,n.converter);throw Cv()}))}},{key:"set",value:function(e,t,n){var r=iI(e,this._firestore),i=jC(r.converter,t,n),a=$T(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=iI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Mt(t))||t instanceof VT?iC(this._dataReader,"Transaction.update",i._key,t,n,o):rC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=iI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function oI(e,t,n){e=pT(e,NT);var r=Object.assign(Object.assign({},nI),n);return function(e){if(e.maxAttempts<1)throw new Pv(Av.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Rv;return e.asyncQueue.enqueueAndForget(Ut(jt().mark((function i(){var a;return jt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nT(e);case 2:a=i.sent,new BE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(AT(e),(function(n){return t(new aI(e,n))}),r)}function sI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eC("arrayUnion",t)}function uI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tC("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){kv=e}(jn),An(new Vt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new NT(new Mv(e.getProvider("auth-internal")),new Vv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pv(Av.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),zn(gv,"4.3.0",e),zn(gv,"4.3.0","esm2017")}();function cI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lI(){if("undefined"===typeof Uint8Array)throw new Pv("unimplemented","Uint8Arrays are not available in this environment.")}function fI(){if("undefined"==typeof atob)throw new Pv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hI=function(){function e(t){u(this,e),this._delegate=t}return f(e,[{key:"toBase64",value:function(){return fI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fI(),new e(UT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lI(),new e(UT.fromUint8Array(t))}}]),e}();function dI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pI=function(){function e(){u(this,e)}return f(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){FT(e=pT(e,NT));var n=AT(e);if(n._uninitializedComponentsProvider)throw new Pv(Av.FAILED_PRECONDITION,"SDK cache is already specified.");Ev("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new ME;return RT(n,i,new DE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){FT(e=pT(e,NT));var t=AT(e);if(t._uninitializedComponentsProvider)throw new Pv(Av.FAILED_PRECONDITION,"SDK cache is already specified.");Ev("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new ME;return RT(t,r,new LE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Pv(Av.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Rv;return e._queue.enqueueAndForgetEvenWhileRestricted(Ut(jt().mark((function n(){return jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ut(jt().mark((function e(t){var n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,pm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Cb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),vI=function(){function e(t,n,r){var i=this;u(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xy||(this._appCompat=t)}return f(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ev("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return DT(this._delegate)}},{key:"disableNetwork",value:function(){return LT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&lT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return OT(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return XC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Pv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new NI(this,bT(this._delegate,e))}catch(t){throw wI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new kI(this,xT(this._delegate,e))}catch(t){throw wI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new TI(this,function(e,t){if(e=pT(e,yT),cT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pv(Av.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new _T(e,null,function(e){return new Tg(Qv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw wI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return oI(this._delegate,(function(n){return e(new yI(t,n))}))}},{key:"batch",value:function(){var e=this;return AT(this._delegate),new gI(new rI(this._delegate,(function(t){return eI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return MT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return jT(this._delegate,e).then((function(e){return e?new TI(t,e):null}))}}]),e}(),mI=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new hI(new UT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return kI.forKey(t,this.firestore,null)}}]),n}(MC);var yI=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new mI(t)}return f(e,[{key:"get",value:function(e){var t=this,n=AI(e);return this._delegate.get(n).then((function(e){return new SI(t._firestore,new VC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=AI(e);return n?(cI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=AI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AI(e);return this._delegate.delete(t),this}}]),e}(),gI=function(){function e(t){u(this,e),this._delegate=t}return f(e,[{key:"set",value:function(e,t,n){var r=AI(e);return n?(cI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=AI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),_I=function(){function e(t,n,r){u(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return f(e,[{key:"fromFirestore",value:function(e,t){var n=new BC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new EI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new mI(t),n),i.set(n,a)),a}}]),e}();_I.INSTANCES=new WeakMap;var kI=function(){function e(t,n){u(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mI(t)}return f(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new NI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new NI(this.firestore,bT(this._delegate,e))}catch(t){throw wI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Mt(e))instanceof kT&&ST(this._delegate,e)}},{key:"set",value:function(e,t){t=cI("DocumentReference.set",t);try{return t?$C(this._delegate,e,t):$C(this._delegate,e)}catch(n){throw wI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?YC(this._delegate,e):YC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw wI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return eI(pT(e.firestore,NT),[new L_(e._key,k_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bI(n),a=xI(n,(function(t){return new SI(e.firestore,new VC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return JC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?HC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=pT(e,kT);var t=pT(e.firestore,NT);return aT(AT(t),e._key,{source:"server"}).then((function(n){return tI(t,e,n)}))}(this._delegate):function(e){e=pT(e,kT);var t=pT(e.firestore,NT);return aT(AT(t),e._key).then((function(n){return tI(t,e,n)}))}(this._delegate),t.then((function(e){return new SI(n.firestore,new VC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_I.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Pv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new kT(n._delegate,r,new Jv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new kT(n._delegate,r,t))}}]),e}();function wI(e,t,n){return e.message=e.message.replace(t,n),e}function bI(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!dI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function xI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dI(e[0])?e[0]:dI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var SI=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"ref",get:function(){return new kI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return WC(this._delegate,e._delegate)}}]),e}(),EI=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Cv()}(void 0!==t),t}}]),n}(SI),TI=function(){function e(t,n){u(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mI(t)}return f(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,wC(this._delegate,function(e,t,n){var r=t,i=yC("where",e);return bC._create(i,r,n)}(t,n,r)))}catch(i){throw wI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,wC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yC("orderBy",e);return SC._create(n,t)}(t,n)))}catch(r){throw wI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,wC(this._delegate,function(e){return vT("limit",e),EC._create("limit",e,"F")}(t)))}catch(n){throw wI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,wC(this._delegate,function(e){return vT("limitToLast",e),EC._create("limitToLast",e,"L")}(t)))}catch(n){throw wI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,wC(this._delegate,CC.apply(void 0,arguments)))}catch(t){throw wI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,wC(this._delegate,IC.apply(void 0,arguments)))}catch(t){throw wI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,wC(this._delegate,AC.apply(void 0,arguments)))}catch(t){throw wI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,wC(this._delegate,PC.apply(void 0,arguments)))}catch(t){throw wI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return ET(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ZC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?QC(this._delegate):GC(this._delegate)).then((function(e){return new II(t.firestore,new qC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bI(n),a=xI(n,(function(t){return new II(e.firestore,new qC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return JC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_I.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),CI=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new EI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),II=function(){function e(t,n){u(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"query",get:function(){return new TI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new EI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new CI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new EI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return WC(this._delegate,e._delegate)}}]),e}(),NI=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return f(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new kI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new kI(this.firestore,void 0===e?xT(this._delegate):xT(this._delegate,e))}catch(t){throw wI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=pT(e.firestore,NT),r=xT(e),i=jC(e.converter,t);return eI(n,[$T(QT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,k_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new kI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return ST(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(_I.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(TI);function AI(e){return pT(e,kT)}var PI=function(){function e(){u(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(VT,n)}return f(e,[{key:"isEqual",value:function(e){return(e=Mt(e))instanceof VT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Yv.keyField().canonicalString())}}]),e}(),RI=function(){function e(t){u(this,e),this._delegate=t}return f(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new XT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new YT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=sI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=uI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new nC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),OI={Firestore:vI,GeoPoint:qT,Timestamp:Hv,Blob:hI,Transaction:yI,WriteBatch:gI,DocumentReference:kI,DocumentSnapshot:SI,Query:TI,QueryDocumentSnapshot:EI,QuerySnapshot:II,CollectionReference:NI,FieldPath:PI,FieldValue:RI,setLogLevel:function(e){!function(e){wv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Vt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},OI)))}(e,(function(e,t){return new vI(e,t,new pI)})),e.registerVersion("@firebase/firestore-compat","0.3.19")}(vr);var DI="@firebase/database",LI="1.0.1",MI="";function jI(e){MI=e}var FI=function(){function e(t){u(this,e),this.domStorage_=t,this.prefix_="firebase:"}return f(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:vt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),UI=function(){function e(){u(this,e),this.cache_={},this.isInMemoryStorage=!0}return f(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return gt(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),VI=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new FI(t)}}catch(n){}return new UI},BI=VI("localStorage"),qI=VI("sessionStorage"),zI=new Yt("@firebase/database"),WI=function(){var e=1;return function(){return e++}}(),KI=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,We(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ct;n.update(t);var r=n.digest();return Ge.encodeByteArray(r)},HI=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?mt(r):r,t+=" "}return t},GI=null,ZI=!0,QI=function(e,t){We(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(zI.logLevel=Wt.VERBOSE,GI=zI.log.bind(zI),t&&qI.set("logging_enabled",!0)):"function"===typeof e?GI=e:(GI=null,qI.remove("logging_enabled"))},$I=function(){if(!0===ZI&&(ZI=!1,null===GI&&!0===qI.get("logging_enabled")&&QI(!0)),GI){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=HI.apply(null,t);GI(r)}},YI=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];$I.apply(void 0,[e].concat(n))}},JI=function(){var e="FIREBASE INTERNAL ERROR: "+HI.apply(void 0,arguments);zI.error(e)},XI=function(){var e="FIREBASE FATAL ERROR: ".concat(HI.apply(void 0,arguments));throw zI.error(e),new Error(e)},eN=function(){var e="FIREBASE WARNING: "+HI.apply(void 0,arguments);zI.warn(e)},tN=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},nN="[MIN_NAME]",rN="[MAX_NAME]",iN=function(e,t){if(e===t)return 0;if(e===nN||t===rN)return-1;if(t===nN||e===rN)return 1;var n=hN(e),r=hN(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},aN=function(e,t){return e===t?0:e<t?-1:1},oN=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+mt(t))},sN=function e(t){if("object"!==typeof t||null===t)return mt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=mt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},uN=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function cN(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var lN=function(e){We(!tN(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var fN=new RegExp("^-?(0*)\\d{1,10}$"),hN=function(e){if(fN.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},dN=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw eN("Exception was thrown by user callback.",e),t}),Math.floor(0))}},pN=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},vN=function(){function e(t,n){var r=this;u(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return f(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){eN('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),mN=function(){function e(t,n,r){var i=this;u(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return f(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?($I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',eN(e)}}]),e}(),yN=function(){function e(t){u(this,e),this.accessToken=t}return f(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();yN.OWNER="owner";var gN="5",_N=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kN="ac",wN="websocket",bN="long_polling",xN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];u(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=BI.get("host:"+t)||this._host}return f(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&BI.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function SN(e,t,n){var r;if(We("string"===typeof t,"typeof type must == string"),We("object"===typeof n,"typeof params must == object"),t===wN)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==bN)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return cN(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var EN=function(){function e(){u(this,e),this.counters_={}}return f(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;gt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Je(void 0,this.counters_)}}]),e}(),TN={},CN={};function IN(e){var t=e.toString();return TN[t]||(TN[t]=new EN),TN[t]}var NN=function(){function e(t){u(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return f(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&dN((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),1;n.currentResponseNum++};this.pendingResponses[this.currentResponseNum]&&!r(););}}]),e}(),AN="start",PN=function(){function e(t,n,r,i,a,o,s){var c=this;u(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=YI(t),this.stats_=IN(n),this.urlFn=function(e){return c.appCheckToken&&(e[kN]=c.appCheckToken),SN(n,bN,e)}}return f(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new NN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(lt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new RN((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===AN)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[AN]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=gN,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[kN]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&_N.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=mt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Qe(t),r=uN(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!lt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=mt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!lt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),RN=function(){function e(t,n,r,i){if(u(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,lt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=WI(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){$I("frame writing exception"),s.stack&&$I(s.stack),$I(s)}}}return f(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;lt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){$I("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$I("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),ON=null;"undefined"!==typeof MozWebSocket?ON=MozWebSocket:"undefined"!==typeof WebSocket&&(ON=WebSocket);var DN=function(){function e(t,n,r,i,a,o,s){u(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=YI(this.connId),this.stats_=IN(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return f(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,BI.set("previous_websocket_failure",!0);try{var r;if(lt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(gN,"/").concat(MI,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"ns08s33m38e5xxpc3387v2blopa9hp",REACT_APP_AUTHORIZATION_TOKEN:"nm1szcocbwgr6x35efttsncviwqjep"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new ON(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){BI.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=vt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(We(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=mt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=uN(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=gN,!lt()&&"undefined"!==typeof location&&location.hostname&&_N.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[kN]=r),i&&(a.p=i),SN(e,wN,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ON&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return BI.isInMemoryStorage||!0===BI.get("previous_websocket_failure")}}]),e}();DN.responsesRequiredToBeHealthy=2,DN.healthyTimeout=3e4;var LN=function(){function e(t){u(this,e),this.initTransports_(t)}return f(e,[{key:"initTransports_",value:function(t){var n=DN&&DN.isAvailable(),r=n&&!DN.previouslyFailed();if(t.webSocketOnly&&(n||eN("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[DN];else{var i,a=this.transports_=[],o=C(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[PN,DN]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();LN.globalTransportInitialized_=!1;var MN=function(){function e(t,n,r,i,a,o,s,c,l,f){u(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=YI("c:"+this.id+":"),this.transportManager_=new LN(n),this.log_("Connection created"),this.start_()}return f(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=pN((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=oN("t",e),n=oN("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=oN("t",e),n=oN("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=oN("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?JI("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):JI("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),gN!==n&&eN("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pN((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pN((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(BI.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),jN=function(){function e(){u(this,e)}return f(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),FN=function(){function e(t){u(this,e),this.allowedEvents_=t,this.listeners_={},We(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return f(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,s.Z)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){We(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),UN=function(e){d(n,e);var t=g(n);function n(){var e;return u(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||at()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return f(n,[{key:"getInitialEvent",value:function(e){return We("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(FN),VN=32,BN=768,qN=function(){function e(t,n){if(u(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return f(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function zN(){return new qN("")}function WN(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function KN(e){return e.pieces_.length-e.pieceNum_}function HN(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new qN(e.pieces_,t)}function GN(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ZN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function QN(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new qN(t,0)}function $N(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof qN)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new qN(n,0)}function YN(e){return e.pieceNum_>=e.pieces_.length}function JN(e,t){var n=WN(e),r=WN(t);if(null===n)return t;if(n===r)return JN(HN(e),HN(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function XN(e,t){for(var n=ZN(e,0),r=ZN(t,0),i=0;i<n.length&&i<r.length;i++){var a=iN(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function eA(e,t){if(KN(e)!==KN(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function tA(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(KN(e)>KN(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var nA=f((function e(t,n){u(this,e),this.errorPrefix_=n,this.parts_=ZN(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Lt(this.parts_[r]);rA(this)}));function rA(e){if(e.byteLength_>BN)throw new Error(e.errorPrefix_+"has a key path longer than "+BN+" bytes ("+e.byteLength_+").");if(e.parts_.length>VN)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VN+") or object contains a cycle "+iA(e))}function iA(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var aA=function(e){d(n,e);var t=g(n);function n(){var e,r,i;return u(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return f(n,[{key:"getInitialEvent",value:function(e){return We("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(FN),oA=1e3,sA=function(e){d(n,e);var t=g(n);function n(e,r,i,a,o,s,c,l){var f;if(u(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=YI("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=oA,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!lt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return aA.getInstance().on("visible",f.onVisible_,y(f)),-1===e.host.indexOf("fblocal")&&UN.getInstance().on("online",f.onOnline_,y(f)),f}return f(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(mt(i)),We(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new nt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),We(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),We(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=yt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=yt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),We(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+mt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):JI("Unrecognized action received from server: "+mt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;We(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oA,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oA,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=oA),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Ut(jt().mark((function e(){var t,r,i,a,s,u,c,l,f,h,d,p,v,m,y=this;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())},f=function(e){We(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=(0,o.Z)(d,2),v=p[0],m=p[1],u?$I("getToken() completed but was canceled"):($I("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,c=new MN(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){eN(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&eN(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){$I("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){$I("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kt(this.interruptReasons_)&&(this.reconnectDelay_=oA,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return sN(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new qN(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){$I("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){$I("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=C(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=C(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";lt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+MI.replace(/\./g,"-")]=1,at()?e["framework.cordova"]=1:ut()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=UN.getInstance().currentlyOnline();return kt(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&gt(e,"w")){var n=_t(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();eN("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(jN);sA.nextPersistentConnectionId_=0,sA.nextConnectionId_=0;var uA,cA=function(){function e(t,n){u(this,e),this.name=t,this.node=n}return f(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),lA=function(){function e(){u(this,e)}return f(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new cA(nN,e),r=new cA(nN,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return cA.MIN}}]),e}(),fA=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"compare",value:function(e,t){return iN(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Ke("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return cA.MIN}},{key:"maxPost",value:function(){return new cA(rN,uA)}},{key:"makePost",value:function(e,t){return We("string"===typeof e,"KeyIndex indexValue must always be a string."),new cA(e,uA)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return uA},set:function(e){uA=e}}]),n}(lA),hA=new fA,dA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;u(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return f(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),pA=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:yA.EMPTY_NODE,this.right=null!=a?a:yA.EMPTY_NODE}return f(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return yA.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return yA.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();pA.RED=!0,pA.BLACK=!1;var vA,mA=function(){function e(){u(this,e)}return f(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pA(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),yA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;u(this,e),this.comparator_=t,this.root_=n}return f(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,pA.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,pA.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new dA(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new dA(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new dA(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new dA(this.root_,null,this.comparator_,!0,e)}}]),e}();function gA(e,t){return iN(e.name,t.name)}function _A(e,t){return iN(e,t)}yA.EMPTY_NODE=new mA;var kA,wA,bA,xA=function(e){return"number"===typeof e?"number:"+lN(e):"string:"+e},SA=function(e){if(e.isLeafNode()){var t=e.val();We("string"===typeof t||"number"===typeof t||"object"===typeof t&&gt(t,".sv"),"Priority must be a string or number.")}else We(e===vA||e.isEmpty(),"priority of unexpected type.");We(e===vA||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},EA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;u(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,We(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),SA(this.priorityNode_)}return f(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return YN(t)?this:".priority"===WN(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=WN(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(We(".priority"!==r||1===KN(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(HN(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+xA(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?lN(this.value_):this.value_,this.lazyHash_=KI(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(We(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return We(i>=0,"Unknown leaf type: "+n),We(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return kA},set:function(e){kA=e}}]),e}();EA.VALUE_TYPE_ORDER=["object","boolean","number","string"];var TA,CA,IA=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?iN(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return cA.MIN}},{key:"maxPost",value:function(){return new cA(rN,new EA("[PRIORITY-POST]",bA))}},{key:"makePost",value:function(e,t){var n=wA(e);return new cA(t,new EA("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(lA),NA=new IA,AA=Math.log(2),PA=function(){function e(t){u(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/AA,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return f(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),RA=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new pA(o,a.node,pA.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new pA(o,a.node,pA.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new pA(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,pA.BLACK):(s(f,pA.BLACK),s(f,pA.RED))}return a}(new PA(e.length));return new yA(r||t,a)},OA={},DA=function(){function e(t,n){u(this,e),this.indexes_=t,this.indexSet_=n}return f(e,[{key:"get",value:function(e){var t=_t(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yA?t:null}},{key:"hasIndex",value:function(e){return gt(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){We(t!==hA,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(cA.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?RA(i,t.getCompare()):OA;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(wt(this.indexes_,(function(e,i){var a=_t(r.indexSet_,i);if(We(a,"Missing index implementation for "+i),e===OA){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(cA.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),RA(o,a.getCompare())}return OA}var c=n.get(t.name),l=e;return c&&(l=l.remove(new cA(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(wt(this.indexes_,(function(e){if(e===OA)return e;var r=n.get(t.name);return r?e.remove(new cA(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return We(OA&&NA,"ChildrenNode.ts has not been loaded"),TA=TA||new e({".priority":OA},{".priority":NA})}}]),e}(),LA=function(){function e(t,n,r){u(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SA(this.priorityNode_),this.children_.isEmpty()&&We(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return f(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||CA}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?CA:t}},{key:"getChild",value:function(e){var t=WN(e);return null===t?this:this.getImmediateChild(t).getChild(HN(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(We(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new cA(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?CA:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=WN(e);if(null===n)return t;We(".priority"!==WN(e)||1===KN(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(HN(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(NA,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+xA(this.getPriority().val())+":"),this.forEachChild(NA,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":KI(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new cA(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new cA(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new cA(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,cA.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,cA.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===MA?-1:0}},{key:"withIndex",value:function(t){if(t===hA||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===hA||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(NA),r=t.getIterator(NA),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===hA?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return CA||(CA=new e(new yA(_A),null,DA.Default))}}]),e}();LA.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var MA=new(function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.call(this,new yA(_A),LA.EMPTY_NODE,DA.Default)}return f(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return LA.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(LA));Object.defineProperties(cA,{MIN:{value:new cA(nN,LA.EMPTY_NODE)},MAX:{value:new cA(rN,MA)}}),fA.__EMPTY_NODE=LA.EMPTY_NODE,EA.__childrenNodeConstructor=LA,vA=MA,function(e){bA=e}(MA);var jA=!0;function FA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return LA.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),We(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new EA(e,FA(t));if(e instanceof Array||!jA){var n=LA.EMPTY_NODE;return cN(e,(function(t,r){if(gt(e,t)&&"."!==t.substring(0,1)){var i=FA(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(FA(t))}var r=[],i=!1;if(cN(e,(function(e,t){if("."!==e.substring(0,1)){var n=FA(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new cA(e,n)))}})),0===r.length)return LA.EMPTY_NODE;var a=RA(r,gA,(function(e){return e.name}),_A);if(i){var o=RA(r,NA.getCompare());return new LA(a,FA(t),new DA({".priority":o},{".priority":NA}))}return new LA(a,FA(t),DA.Default)}!function(e){wA=e}(FA);var UA=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this)).indexPath_=e,We(!YN(e)&&".priority"!==WN(e),"Can't create PathIndex with empty path or .priority key"),r}return f(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?iN(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=FA(e),r=LA.EMPTY_NODE.updateChild(this.indexPath_,n);return new cA(t,r)}},{key:"maxPost",value:function(){var e=LA.EMPTY_NODE.updateChild(this.indexPath_,MA);return new cA(rN,e)}},{key:"toString",value:function(){return ZN(this.indexPath_,0).join("/")}}]),n}(lA),VA=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?iN(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return cA.MIN}},{key:"maxPost",value:function(){return cA.MAX}},{key:"makePost",value:function(e,t){var n=FA(e);return new cA(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(lA),BA=new VA;function qA(e){return{type:"value",snapshotNode:e}}function zA(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function WA(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function KA(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var HA=function(){function e(t){u(this,e),this.index_=t}return f(e,[{key:"updateChild",value:function(e,t,n,r,i,a){We(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(WA(t,o)):We(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(zA(t,n)):a.trackChildChange(KA(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(NA,(function(e,r){t.hasChild(e)||n.trackChildChange(WA(e,r))})),t.isLeafNode()||t.forEachChild(NA,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(KA(t,r,i))}else n.trackChildChange(zA(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?LA.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),GA=function(){function e(t){u(this,e),this.indexedFilter_=new HA(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return f(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new cA(t,n))||(n=LA.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=LA.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(LA.EMPTY_NODE);var i=this;return t.forEachChild(NA,(function(e,t){i.matches(new cA(e,t))||(r=r.updateImmediateChild(e,LA.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),ZA=function(){function e(t){var n=this;u(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new GA(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return f(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new cA(t,n))||(n=LA.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=LA.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=LA.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(LA.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,LA.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;We(s.numChildren()===this.limit_,"");var u=new cA(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(KA(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(WA(t,f));var p=s.updateImmediateChild(t,LA.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(zA(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(WA(c.name,c.node)),i.trackChildChange(zA(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,LA.EMPTY_NODE)):e}}]),e}(),QA=function(){function e(){u(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=NA}return f(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return We(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return We(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nN}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return We(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return We(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rN}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return We(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===NA}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function $A(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function YA(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function JA(e,t){var n=e.copy();return n.index_=t,n}function XA(e){var t,n={};if(e.isDefault())return n;if(e.index_===NA?t="$priority":e.index_===BA?t="$value":e.index_===hA?t="$key":(We(e.index_ instanceof UA,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=mt(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=mt(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+mt(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=mt(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+mt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function eP(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==NA&&(t.i=e.index_.toString()),t}var tP=function(e){d(n,e);var t=g(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=YI("p:rest:"),o.listens_={},o}return f(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=XA(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),_t(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=XA(e._queryParams),r=e._path.toString(),i=new nt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=(0,o.Z)(i,2),s=a[0],u=a[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+St(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=vt(l.responseText)}catch(n){eN("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&eN("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(We(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(jN),nP=function(){function e(){u(this,e),this.rootNode_=LA.EMPTY_NODE}return f(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function rP(){return{value:null,children:new Map}}function iP(e,t,n){if(YN(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=WN(t);e.children.has(r)||e.children.set(r,rP()),iP(e.children.get(r),t=HN(t),n)}}function aP(e,t){if(YN(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(NA,(function(t,n){iP(e,new qN(t),n)})),aP(e,t)}if(e.children.size>0){var r=WN(t);if(t=HN(t),e.children.has(r))aP(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function oP(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){oP(r,new qN(t.toString()+"/"+e),n)}))}var sP,uP=function(){function e(t){u(this,e),this.collection_=t,this.last_=null}return f(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&cN(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),cP=function(){function e(t,n){u(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new uP(t);var r=1e4+2e4*Math.random();pN(this.reportStats_.bind(this),Math.floor(r))}return f(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;cN(t,(function(t,i){i>0&&gt(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),pN(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function lP(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(sP||(sP={}));var fP,hP=function(){function e(t,n,r){u(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=sP.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return f(e,[{key:"operationForChild",value:function(t){if(YN(this.path)){if(null!=this.affectedTree.value)return We(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new qN(t));return new e(zN(),n,this.revert)}return We(WN(this.path)===t,"operationForChild called for unrelated child."),new e(HN(this.path),this.affectedTree,this.revert)}}]),e}(),dP=function(){function e(t,n){u(this,e),this.source=t,this.path=n,this.type=sP.LISTEN_COMPLETE}return f(e,[{key:"operationForChild",value:function(t){return YN(this.path)?new e(this.source,zN()):new e(this.source,HN(this.path))}}]),e}(),pP=function(){function e(t,n,r){u(this,e),this.source=t,this.path=n,this.snap=r,this.type=sP.OVERWRITE}return f(e,[{key:"operationForChild",value:function(t){return YN(this.path)?new e(this.source,zN(),this.snap.getImmediateChild(t)):new e(this.source,HN(this.path),this.snap)}}]),e}(),vP=function(){function e(t,n,r){u(this,e),this.source=t,this.path=n,this.children=r,this.type=sP.MERGE}return f(e,[{key:"operationForChild",value:function(t){if(YN(this.path)){var n=this.children.subtree(new qN(t));return n.isEmpty()?null:n.value?new pP(this.source,zN(),n.value):new e(this.source,zN(),n)}return We(WN(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,HN(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),mP=function(){function e(t,n,r){u(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return f(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(YN(e))return this.isFullyInitialized()&&!this.filtered_;var t=WN(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),yP=f((function e(t){u(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function gP(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Ke("Should only compare child_ events.");var r=new cA(t.childName,t.snapshotNode),i=new cA(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function _P(e,t){return{eventCache:e,serverCache:t}}function kP(e,t,n,r){return _P(new mP(t,n,r),e.serverCache)}function wP(e,t,n,r){return _P(e.eventCache,new mP(t,n,r))}function bP(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function xP(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var SP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(fP||(fP=new yA(aN)),fP);u(this,e),this.value=t,this.children=n}return f(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:zN(),value:this.value};if(YN(e))return null;var n=WN(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(HN(e),t);return null!=i?{path:$N(new qN(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(YN(t))return this;var n=WN(t),r=this.children.get(n);return null!==r?r.subtree(HN(t)):new e(null)}},{key:"set",value:function(t,n){if(YN(t))return new e(n,this.children);var r=WN(t),i=(this.children.get(r)||new e(null)).set(HN(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(YN(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=WN(t),r=this.children.get(n);if(r){var i,a=r.remove(HN(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(YN(e))return this.value;var t=WN(e),n=this.children.get(t);return n?n.get(HN(e)):null}},{key:"setTree",value:function(t,n){if(YN(t))return n;var r,i=WN(t),a=(this.children.get(i)||new e(null)).setTree(HN(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(zN(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_($N(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,zN(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(YN(e))return null;var i=WN(e),a=this.children.get(i);return a?a.findOnPath_(HN(e),$N(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,zN(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(YN(t))return this;this.value&&r(n,this.value);var i=WN(t),a=this.children.get(i);return a?a.foreachOnPath_(HN(t),$N(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(zN(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_($N(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return cN(t,(function(e,t){n=n.set(new qN(e),t)})),n}}]),e}(),EP=function(){function e(t){u(this,e),this.writeTree_=t}return f(e,null,[{key:"empty",value:function(){return new e(new SP(null))}}]),e}();function TP(e,t,n){if(YN(t))return new EP(new SP(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=JN(i,t);return a=a.updateChild(o,n),new EP(e.writeTree_.set(i,a))}var s=new SP(n),u=e.writeTree_.setTree(t,s);return new EP(u)}function CP(e,t,n){var r=e;return cN(n,(function(e,n){r=TP(r,$N(t,e),n)})),r}function IP(e,t){if(YN(t))return EP.empty();var n=e.writeTree_.setTree(t,new SP(null));return new EP(n)}function NP(e,t){return null!=AP(e,t)}function AP(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(JN(n.path,t)):null}function PP(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(NA,(function(e,n){t.push(new cA(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new cA(e,n.value))})),t}function RP(e,t){if(YN(t))return e;var n=AP(e,t);return new EP(null!=n?new SP(n):e.writeTree_.subtree(t))}function OP(e){return e.writeTree_.isEmpty()}function DP(e,t){return LP(zN(),e.writeTree_,t)}function LP(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(We(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=LP($N(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild($N(e,".priority"),r)),n}function MP(e,t){return QP(t,e)}function jP(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));We(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&FP(s,r.path)?i=!1:tA(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=VP(e.allWrites,UP,zN()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=IP(e.visibleWrites,r.path):cN(r.children,(function(t){e.visibleWrites=IP(e.visibleWrites,$N(r.path,t))}));return!0}return!1}function FP(e,t){if(e.snap)return tA(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&tA($N(e.path,n),t))return!0;return!1}function UP(e){return e.visible}function VP(e,t,n){for(var r=EP.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)tA(n,o)?r=TP(r,s=JN(n,o),a.snap):tA(o,n)&&(s=JN(o,n),r=TP(r,zN(),a.snap.getChild(s)));else{if(!a.children)throw Ke("WriteRecord should have .snap or .children");if(tA(n,o))r=CP(r,s=JN(n,o),a.children);else if(tA(o,n))if(YN(s=JN(o,n)))r=CP(r,zN(),a.children);else{var u=_t(a.children,WN(s));if(u){var c=u.getChild(HN(s));r=TP(r,zN(),c)}}}}}return r}function BP(e,t,n,r,i){if(r||i){var a=RP(e.visibleWrites,t);if(!i&&OP(a))return n;if(i||null!=n||NP(a,zN())){return DP(VP(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(tA(e.path,t)||tA(t,e.path))}),t),n||LA.EMPTY_NODE)}return null}var o=AP(e.visibleWrites,t);if(null!=o)return o;var s=RP(e.visibleWrites,t);return OP(s)?n:null!=n||NP(s,zN())?DP(s,n||LA.EMPTY_NODE):null}function qP(e,t,n,r){return BP(e.writeTree,e.treePath,t,n,r)}function zP(e,t){return function(e,t,n){var r=LA.EMPTY_NODE,i=AP(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(NA,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=RP(e.visibleWrites,t);return n.forEachChild(NA,(function(e,t){var n=DP(RP(a,new qN(e)),t);r=r.updateImmediateChild(e,n)})),PP(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return PP(RP(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function WP(e,t,n,r){return function(e,t,n,r,i){We(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=$N(t,n);if(NP(e.visibleWrites,a))return null;var o=RP(e.visibleWrites,a);return OP(o)?i.getChild(n):DP(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function KP(e,t){return function(e,t){return AP(e.visibleWrites,t)}(e.writeTree,$N(e.treePath,t))}function HP(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=RP(e.visibleWrites,t),c=AP(u,zN());if(null!=c)s=c;else{if(null==n)return[];s=DP(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function GP(e,t,n){return function(e,t,n,r){var i=$N(t,n),a=AP(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?DP(RP(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ZP(e,t){return QP($N(e.treePath,t),e.writeTree)}function QP(e,t){return{treePath:e,writeTree:t}}var $P=function(){function e(){u(this,e),this.changeMap=new Map}return f(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;We("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),We(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,KA(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,WA(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,zA(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ke("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,KA(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),YP=new(function(){function e(){u(this,e)}return f(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),JP=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return f(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new mP(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return GP(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xP(this.viewCache_),i=HP(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function XP(e,t,n,r,i){var a,o,s=new $P;if(n.type===sP.OVERWRITE){var u=n;u.source.fromUser?a=nR(e,t,u.path,u.snap,r,i,s):(We(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!YN(u.path),a=tR(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===sP.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=$N(n,r);rR(t,WN(c))&&(s=nR(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=$N(n,r);rR(t,WN(c))||(s=nR(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(We(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=aR(e,t,c.path,c.children,r,i,o,s))}else if(n.type===sP.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=KP(r,n))return t;var s,u=new JP(r,t,i),c=t.eventCache.getNode();if(YN(n)||".priority"===WN(n)){var l;if(t.serverCache.isFullyInitialized())l=qP(r,xP(t));else{var f=t.serverCache.getNode();We(f instanceof LA,"serverChildren would be complete if leaf node"),l=zP(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=WN(n),d=GP(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,HN(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,LA.EMPTY_NODE,HN(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=qP(r,xP(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=KP(r,zN()),kP(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=KP(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(YN(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return tR(e,t,n,u.getNode().getChild(n),i,a,s,o);if(YN(n)){var c=new SP(null);return u.getNode().forEachChild(hA,(function(e,t){c=c.set(new qN(e),t)})),aR(e,t,n,c,i,a,s,o)}return t}var l=new SP(null);return r.foreach((function(e,t){var r=$N(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),aR(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==sP.LISTEN_COMPLETE)throw Ke("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=wP(t,a.getNode(),a.isFullyInitialized()||YN(n),a.isFiltered());return eR(e,o,n,r,YP,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=bP(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(qA(bP(t)))}}(t,a,f),{viewCache:a,changes:f}}function eR(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=KP(r,n))return t;if(YN(n))if(We(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=xP(t),l=zP(r,c instanceof LA?c:LA.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=qP(r,xP(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=WN(n);if(".priority"===h){We(1===KN(n),"Can't have a priority with additional path components");var d=u.getNode(),p=WP(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=HN(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=WP(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=GP(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return kP(t,o,u.isFullyInitialized()||YN(n),e.filter.filtersNodes())}function tR(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(YN(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=WN(n);if(!c.isCompleteForPath(n)&&KN(n)>1)return t;var d=HN(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,YP,null)}var v=wP(t,u,c.isFullyInitialized()||YN(n),l.filtersNodes());return eR(e,v,n,i,new JP(i,v,a),s)}function nR(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new JP(i,t,a);if(YN(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=kP(t,u,!0,e.filter.filtersNodes());else{var f=WN(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=kP(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=HN(n),p=c.getNode().getImmediateChild(f);if(YN(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===GN(d)&&v.getChild(QN(d)).isEmpty()?v:v.updateChild(d,r):LA.EMPTY_NODE}if(p.equals(h))s=t;else s=kP(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function rR(e,t){return e.eventCache.isCompleteForChild(t)}function iR(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function aR(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=YN(n)?r:new SP(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=iR(0,t.serverCache.getNode().getImmediateChild(n),r);c=tR(e,c,new qN(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=iR(0,t.serverCache.getNode().getImmediateChild(n),r);c=tR(e,c,new qN(n),f,i,a,o,s)}})),c}var oR,sR=function(){function e(t,n){u(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new HA(i.getIndex()),o=(r=i).loadsAllData()?new HA(r.getIndex()):r.hasLimit()?new ZA(r):new GA(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,c=n.eventCache,l=a.updateFullNode(LA.EMPTY_NODE,s.getNode(),null),f=o.updateFullNode(LA.EMPTY_NODE,c.getNode(),null),h=new mP(l,s.isFullyInitialized(),a.filtersNodes()),d=new mP(f,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=_P(d,h),this.eventGenerator_=new yP(this.query_)}return f(e,[{key:"query",get:function(){return this.query_}}]),e}();function uR(e,t){var n=xP(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!YN(t)&&!n.getImmediateChild(WN(t)).isEmpty())?n.getChild(t):null}function cR(e){return 0===e.eventRegistrations_.length}function lR(e,t,n){var r=[];if(n){We(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function fR(e,t,n,r){t.type===sP.MERGE&&null!==t.source.queryId&&(We(xP(e.viewCache_),"We should always have a full cache before handling merges"),We(bP(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=XP(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,We(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),We(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),We(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,hR(e,s.changes,s.viewCache.eventCache.getNode(),null)}function hR(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),gP(e,i,"child_removed",t,r,n),gP(e,i,"child_added",t,r,n),gP(e,i,"child_moved",a,r,n),gP(e,i,"child_changed",t,r,n),gP(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var dR,pR=f((function e(){u(this,e),this.views=new Map}));function vR(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return We(null!=a,"SyncTree gave us an op for an invalid query."),fR(a,t,n,r)}var o,s=[],u=C(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(fR(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function mR(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=qP(n,i?r:null),u=!1;s?u=!0:r instanceof LA?(s=zP(n,r),u=!1):(s=LA.EMPTY_NODE,u=!1);var c=_P(new mP(s,u,!1),new mP(r,i,!1));return new sR(t,c)}return o}function yR(e,t,n,r,i,a){var o=mR(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(NA,(function(e,t){r.push(zA(e,t))})),n.isFullyInitialized()&&r.push(qA(n.getNode())),hR(e,r,n.getNode(),t)}(o,n)}function gR(e,t,n,r){var i=t._queryIdentifier,a=[],s=[],u=xR(e);if("default"===i){var c,l=C(e.views.entries());try{for(l.s();!(c=l.n()).done;){var f=(0,o.Z)(c.value,2),h=f[0],d=f[1];s=s.concat(lR(d,n,r)),cR(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(s=s.concat(lR(p,n,r)),cR(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return u&&!xR(e)&&a.push(new(We(oR,"Reference.ts has not been loaded"),oR)(t._repo,t._path)),{removed:a,events:s}}function _R(e){var t,n=[],r=C(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function kR(e,t){var n,r=null,i=C(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||uR(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function wR(e,t){if(t._queryParams.loadsAllData())return SR(e);var n=t._queryIdentifier;return e.views.get(n)}function bR(e,t){return null!=wR(e,t)}function xR(e){return null!=SR(e)}function SR(e){var t,n=C(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var ER=1,TR=f((function e(t){u(this,e),this.listenProvider_=t,this.syncPointTree_=new SP(null),this.pendingWriteTree_={visibleWrites:EP.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function CR(e,t,n,r,i){return function(e,t,n,r,i){We(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=TP(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?MR(e,new pP({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function IR(e,t,n,r){!function(e,t,n,r){We(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=CP(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=SP.fromObject(n);return MR(e,new vP({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function NR(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(jP(e.pendingWriteTree_,t)){var i=new SP(null);return null!=r.snap?i=i.set(zN(),!0):cN(r.children,(function(e){i=i.set(new qN(e),!0)})),MR(e,new hP(r.path,i,n))}return[]}function AR(e,t,n){return MR(e,new pP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function PR(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||bR(o,t))){var u=gR(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return xR(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&xR(t))return[SR(t)];var r=[];return t&&(r=_R(t)),cN(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],m=v.query,y=UR(e,v);e.listenProvider_.startListening(KR(m),VR(e,m),y.hashFn,y.onComplete)}}if(!f&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(KR(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(BR(t));e.listenProvider_.stopListening(KR(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=BR(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function RR(e,t,n,r){var i=qR(e,r);if(null!=i){var a=zR(i),o=a.path,s=a.queryId,u=JN(o,t);return WR(e,o,new pP(lP(s),u,n))}return[]}function OR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=JN(e,i);a=a||kR(t,n),o=o||xR(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||xR(u),a=a||kR(u,zN())):(u=new pR,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=LA.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=kR(t,zN());n&&(a=a.updateImmediateChild(e,n))})));var c=bR(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=BR(t);We(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=ER++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=yR(u,t,n,MP(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=wR(u,t);h=h.concat(function(e,t,n){var r=t._path,i=VR(e,t),a=UR(e,n),o=e.listenProvider_.startListening(KR(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)We(!xR(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!YN(e)&&t&&xR(t))return[SR(t).query];var r=[];return t&&(r=r.concat(_R(t).map((function(e){return e.query})))),cN(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(KR(l),VR(e,l))}return o}(e,t,d))}return h}function DR(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=kR(n,JN(e,t));if(r)return r}));return BP(r,t,i,n,!0)}function LR(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=JN(e,n);r=r||kR(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||kR(i,zN()):(i=new pR,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new mP(r,!0,!1):null;return function(e){return bP(e.viewCache_)}(mR(i,t,MP(e.pendingWriteTree_,t._path),a?o.getNode():LA.EMPTY_NODE,a))}function MR(e,t){return jR(t,e.syncPointTree_,null,MP(e.pendingWriteTree_,zN()))}function jR(e,t,n,r){if(YN(e.path))return FR(e,t,n,r);var i=t.get(zN());null==n&&null!=i&&(n=kR(i,zN()));var a=[],o=WN(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=ZP(r,o);a=a.concat(jR(s,u,c,l))}return i&&(a=a.concat(vR(i,e,r,n))),a}function FR(e,t,n,r){var i=t.get(zN());null==n&&null!=i&&(n=kR(i,zN()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=ZP(r,t),u=e.operationForChild(t);u&&(a=a.concat(FR(u,i,o,s)))})),i&&(a=a.concat(vR(i,e,r,n))),a}function UR(e,t){var n=t.query,r=VR(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||LA.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=qR(e,n);if(r){var i=zR(r),a=i.path,o=i.queryId,s=JN(a,t);return WR(e,a,new dP(lP(o),s))}return[]}(e,n._path,r):function(e,t){return MR(e,new dP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return PR(e,n,null,i)}}}function VR(e,t){var n=BR(t);return e.queryToTagMap.get(n)}function BR(e){return e._path.toString()+"$"+e._queryIdentifier}function qR(e,t){return e.tagToQueryMap.get(t)}function zR(e){var t=e.indexOf("$");return We(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new qN(e.substr(0,t))}}function WR(e,t,n){var r=e.syncPointTree_.get(t);return We(r,"Missing sync point for query tag that we're tracking"),vR(r,n,MP(e.pendingWriteTree_,t),null)}function KR(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(We(dR,"Reference.ts has not been loaded"),dR)(e._repo,e._path):e}var HR=function(){function e(t){u(this,e),this.node_=t}return f(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),GR=function(){function e(t,n){u(this,e),this.syncTree_=t,this.path_=n}return f(e,[{key:"getImmediateChild",value:function(t){var n=$N(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return DR(this.syncTree_,this.path_)}}]),e}(),ZR=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},QR=function(e,t,n){return e&&"object"===typeof e?(We(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?$R(e[".sv"],t,n):"object"===typeof e[".sv"]?YR(e[".sv"],t):void We(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},$R=function(e,t,n){if("timestamp"===e)return n.timestamp;We(!1,"Unexpected server value: "+e)},YR=function(e,t,n){e.hasOwnProperty("increment")||We(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&We(!1,"Unexpected increment value: "+r);var i=t.node();if(We(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},JR=function(e,t,n,r){return eO(t,new GR(n,e),r)},XR=function(e,t,n){return eO(e,new HR(t),n)};function eO(e,t,n){var r,i=e.getPriority().val(),a=QR(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=QR(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new EA(s,FA(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new EA(a))),u.forEachChild(NA,(function(e,i){var a=eO(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var tO=f((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};u(this,e),this.name=t,this.parent=n,this.node=r}));function nO(e,t){for(var n=t instanceof qN?t:new qN(t),r=e,i=WN(n);null!==i;){var a=_t(r.node.children,i)||{children:{},childCount:0};r=new tO(i,r,a),i=WN(n=HN(n))}return r}function rO(e){return e.node.value}function iO(e,t){e.node.value=t,cO(e)}function aO(e){return e.node.childCount>0}function oO(e,t){cN(e.node.children,(function(n,r){t(new tO(n,e,r))}))}function sO(e,t,n,r){n&&!r&&t(e),oO(e,(function(e){sO(e,t,!0,r)})),n&&r&&t(e)}function uO(e){return new qN(null===e.parent?e.name:uO(e.parent)+"/"+e.name)}function cO(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===rO(e)&&!aO(e)}(n),i=gt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,cO(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,cO(e))}(e.parent,e.name,e)}var lO=/[\[\].#$\/\u0000-\u001F\u007F]/,fO=/[\[\].#$\u0000-\u001F\u007F]/,hO=10485760,dO=function(e){return"string"===typeof e&&0!==e.length&&!lO.test(e)},pO=function(e){return"string"===typeof e&&0!==e.length&&!fO.test(e)},vO=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!tN(e)||e&&"object"===typeof e&&gt(e,".sv")},mO=function(e,t,n,r){r&&void 0===t||yO(Rt(e,"value"),t,n)},yO=function e(t,n,r){var i=r instanceof qN?new nA(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+iA(i));if("function"===typeof n)throw new Error(t+"contains a function "+iA(i)+" with contents = "+n.toString());if(tN(n))throw new Error(t+"contains "+n.toString()+" "+iA(i));if("string"===typeof n&&n.length>hO/3&&Lt(n)>hO)throw new Error(t+"contains a string greater than "+hO+" utf8 bytes "+iA(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(cN(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!dO(n)))throw new Error(t+" contains an invalid key ("+n+") "+iA(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Lt(t),rA(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Lt(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+iA(i)+" in addition to actual children.")}},gO=function(e,t,n,r){if(!r||void 0!==t){var i=Rt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];cN(t,(function(e,t){var r=new qN(e);if(yO(i,t,$N(n,r)),".priority"===GN(r)&&!vO(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ZN(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!dO(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(XN);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&tA(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},_O=function(e,t,n){if(!n||void 0!==t){if(tN(t))throw new Error(Rt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vO(t))throw new Error(Rt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},kO=function(e,t,n,r){if((!r||void 0!==n)&&!dO(n))throw new Error(Rt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wO=function(e,t,n,r){if((!r||void 0!==n)&&!pO(n))throw new Error(Rt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},bO=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wO(e,t,n,r)},xO=function(e,t){if(".info"===WN(t))throw new Error(e+" failed = Can't modify data under /.info/")},SO=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!dO(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pO(e)}(n))throw new Error(Rt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},EO=f((function e(){u(this,e),this.eventLists_=[],this.recursionDepth_=0}));function TO(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||eA(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function CO(e,t,n){TO(e,n),NO(e,(function(e){return eA(e,t)}))}function IO(e,t,n){TO(e,n),NO(e,(function(e){return tA(e,t)||tA(t,e)}))}function NO(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(AO(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function AO(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();GI&&$I("event: "+n.toString()),dN(r)}}}var PO="repo_interrupt",RO=25,OO=function(){function e(t,n,r,i){u(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rP(),this.transactionQueueTree_=new tO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return f(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function DO(e,t,n){if(e.stats_=IN(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new tP(e.repoInfo_,(function(t,n,r,i){jO(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return FO(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new sA(e.repoInfo_,t,(function(t,n,r,i){jO(e,t,n,r,i)}),(function(t){FO(e,t)}),(function(t){!function(e,t){cN(t,(function(t,n){UO(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return CN[n]||(CN[n]=t()),CN[n]}(e.repoInfo_,(function(){return new cP(e.stats_,e.server_)})),e.infoData_=new nP,e.infoSyncTree_=new TR({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=AR(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),UO(e,"connected",!1),e.serverSyncTree_=new TR({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);IO(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function LO(e){var t=e.infoData_.getNode(new qN(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function MO(e){return ZR({timestamp:LO(e)})}function jO(e,t,n,r,i){e.dataUpdateCount++;var a=new qN(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=wt(n,(function(e){return FA(e)}));o=function(e,t,n,r){var i=qR(e,r);if(i){var a=zR(i),o=a.path,s=a.queryId,u=JN(o,t),c=SP.fromObject(n);return WR(e,o,new vP(lP(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=FA(n);o=RR(e.serverSyncTree_,a,u,i)}else if(r){var c=wt(n,(function(e){return FA(e)}));o=function(e,t,n){var r=SP.fromObject(n);return MR(e,new vP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=FA(n);o=AR(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=$O(e,a)),IO(e.eventQueue_,f,o)}function FO(e,t){UO(e,"connected",t),!1===t&&function(e){HO(e,"onDisconnectEvents");var t=MO(e),n=rP();oP(e.onDisconnect_,zN(),(function(r,i){var a=JR(r,i,e.serverSyncTree_,t);iP(n,r,a)}));var r=[];oP(n,zN(),(function(t,n){r=r.concat(AR(e.serverSyncTree_,t,n));var i=tD(e,t);$O(e,i)})),e.onDisconnect_=rP(),IO(e.eventQueue_,zN(),r)}(e)}function UO(e,t,n){var r=new qN("/.info/"+t),i=FA(n);e.infoData_.updateSnapshot(r,i);var a=AR(e.infoSyncTree_,r,i);IO(e.eventQueue_,r,a)}function VO(e){return e.nextWriteId_++}function BO(e,t,n,r,i){HO(e,"set",{path:t.toString(),value:n,priority:r});var a=MO(e),o=FA(n,r),s=DR(e.serverSyncTree_,t),u=XR(o,s,a),c=VO(e),l=CR(e.serverSyncTree_,t,u,c,!0);TO(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||eN("set at "+t+" failed: "+n);var o=NR(e.serverSyncTree_,c,!a);IO(e.eventQueue_,t,o),GO(e,i,n,r)}));var f=tD(e,t);$O(e,f),IO(e.eventQueue_,f,[])}function qO(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&aP(e.onDisconnect_,t),GO(e,n,r,i)}))}function zO(e,t,n,r){var i=FA(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&iP(e.onDisconnect_,t,i),GO(e,r,n,a)}))}function WO(e,t,n){var r;r=".info"===WN(t._path)?PR(e.infoSyncTree_,t,n):PR(e.serverSyncTree_,t,n),CO(e.eventQueue_,t._path,r)}function KO(e){e.persistentConnection_&&e.persistentConnection_.interrupt(PO)}function HO(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];$I.apply(void 0,[t].concat(r))}function GO(e,t,n,r){t&&dN((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function ZO(e,t,n){return DR(e.serverSyncTree_,t,n)||LA.EMPTY_NODE}function QO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||eD(e,t),rO(t)){var n=JO(e,t);We(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ZO(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];We(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=JN(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){HO(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(NR(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);eD(e,nO(e.transactionQueueTree_,t)),QO(e,e.transactionQueueTree_),IO(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)dN(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{eN("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}$O(e,t)}}),o)}(e,uO(t),n)}else aO(t)&&oO(t,(function(t){QO(e,t)}))}function $O(e,t){var n=YO(e,t),r=uO(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=JN(n,c.path),f=!1;if(We(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(NR(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=RO)f=!0,s="maxretry",i=i.concat(NR(e.serverSyncTree_,c.currentWriteId,!0));else{var h=ZO(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){yO("transaction failed: Data returned ",d,c.path);var p=FA(d);"object"===typeof d&&null!=d&&gt(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,m=MO(e),y=XR(p,h,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=VO(e),o.splice(o.indexOf(v),1),i=(i=i.concat(CR(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(NR(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(NR(e.serverSyncTree_,c.currentWriteId,!0))}IO(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);eD(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)dN(r[c]);QO(e,e.transactionQueueTree_)}(e,JO(e,n),r),r}function YO(e,t){var n,r=e.transactionQueueTree_;for(n=WN(t);null!==n&&void 0===rO(r);)r=nO(r,n),n=WN(t=HN(t));return r}function JO(e,t){var n=[];return XO(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function XO(e,t,n){var r=rO(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);oO(t,(function(t){XO(e,t,n)}))}function eD(e,t){var n=rO(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,iO(t,n.length>0?n:void 0)}oO(t,(function(t){eD(e,t)}))}function tD(e,t){var n=uO(YO(e,t)),r=nO(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){nD(e,t)})),nD(e,r),sO(r,(function(t){nD(e,t)})),n}function nD(e,t){var n=rO(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(We(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(We(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(NR(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?iO(t,void 0):n.length=a+1,IO(e.eventQueue_,uO(t),i);for(var s=0;s<r.length;s++)dN(r[s])}}var rD=function(e,t){var n=iD(e),r=n.namespace;"firebase.com"===n.domain&&XI(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||XI("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&eN("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new xN(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new qN(n.pathString)}},iD=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=C(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):eN("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},aD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oD=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=aD.charAt(n%64),n=Math.floor(n/64);We(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=aD.charAt(t[r]);return We(20===o.length,"nextPushId: Length should be 20."),o}}(),sD=function(){function e(t,n,r,i){u(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return f(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+mt(this.snapshot.exportVal())}}]),e}(),uD=function(){function e(t,n,r){u(this,e),this.eventRegistration=t,this.error=n,this.path=r}return f(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),cD=function(){function e(t,n){u(this,e),this.snapshotCallback=t,this.cancelCallback=n}return f(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return We(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),lD=function(){function e(t,n){u(this,e),this._repo=t,this._path=n}return f(e,[{key:"cancel",value:function(){var e=new nt;return qO(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){xO("OnDisconnect.remove",this._path);var e=new nt;return zO(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){xO("OnDisconnect.set",this._path),mO("OnDisconnect.set",e,this._path,!1);var t=new nt;return zO(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){xO("OnDisconnect.setWithPriority",this._path),mO("OnDisconnect.setWithPriority",e,this._path,!1),_O("OnDisconnect.setWithPriority",t,!1);var n=new nt;return function(e,t,n,r,i){var a=FA(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&iP(e.onDisconnect_,t,a),GO(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){xO("OnDisconnect.update",this._path),gO("OnDisconnect.update",e,this._path,!1);var t=new nt;return function(e,t,n,r){if(kt(n))return $I("onDisconnect().update() called with empty data.  Don't do anything."),void GO(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&cN(n,(function(n,r){var i=FA(r);iP(e.onDisconnect_,$N(t,n),i)})),GO(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),fD=function(){function e(t,n,r,i){u(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return f(e,[{key:"key",get:function(){return YN(this._path)?null:GN(this._path)}},{key:"ref",get:function(){return new vD(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=eP(this._queryParams),t=sN(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return eP(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Mt(t))instanceof e))return!1;var n=this._repo===t._repo,r=eA(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function hD(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function dD(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===hA){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==nN)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==rN)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===NA){if(null!=t&&!vO(t)||null!=n&&!vO(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(We(e.getIndex()instanceof UA||e.getIndex()===BA,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pD(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var vD=function(e){d(n,e);var t=g(n);function n(e,r){return u(this,n),t.call(this,e,r,new QA,!1)}return f(n,[{key:"parent",get:function(){var e=QN(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(fD),mD=function(){function e(t,n,r){u(this,e),this._node=t,this.ref=n,this._index=r}return f(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new qN(t),r=_D(this.ref,t);return new e(this._node.getChild(n),r,NA)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,_D(n.ref,r),NA))}))}},{key:"hasChild",value:function(e){var t=new qN(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function yD(e,t){return(e=Mt(e))._checkNotDeleted("ref"),void 0!==t?_D(e._root,t):e._root}function gD(e,t){(e=Mt(e))._checkNotDeleted("refFromURL");var n=rD(t,e._repo.repoInfo_.nodeAdmin);SO("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||XI("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),yD(e,n.path.toString())}function _D(e,t){return null===WN((e=Mt(e))._path)?bO("child","path",t,!1):wO("child","path",t,!1),new vD(e._repo,$N(e._path,t))}function kD(e,t){e=Mt(e),xO("set",e._path),mO("set",t,e._path,!1);var n=new nt;return BO(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function wD(e,t){gO("update",t,e._path,!1);var n=new nt;return function(e,t,n,r){HO(e,"update",{path:t.toString(),value:n});var i=!0,a=MO(e),o={};if(cN(n,(function(n,r){i=!1,o[n]=JR($N(t,n),FA(r),e.serverSyncTree_,a)})),i)$I("update() called with empty data.  Don't do anything."),GO(0,r,"ok",void 0);else{var s=VO(e),u=IR(e.serverSyncTree_,t,o,s);TO(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||eN("update at "+t+" failed: "+n);var o=NR(e.serverSyncTree_,s,!a),u=o.length>0?$O(e,t):t;IO(e.eventQueue_,u,o),GO(0,r,n,i)})),cN(n,(function(n){var r=tD(e,$N(t,n));$O(e,r)})),IO(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function bD(e){e=Mt(e);var t=new cD((function(){})),n=new xD(t);return function(e,t,n){var r=LR(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=FA(r).withIndex(t._queryParams.getIndex());if(OR(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=AR(e.serverSyncTree_,t._path,a);else{var o=VR(e.serverSyncTree_,t);i=RR(e.serverSyncTree_,t._path,a,o)}return IO(e.eventQueue_,t._path,i),PR(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return HO(e,"get for query "+mt(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new mD(t,new vD(e._repo,e._path),e._queryParams.getIndex())}))}var xD=function(){function e(t){u(this,e),this.callbackContext=t}return f(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new sD("value",this,new mD(e.snapshotNode,new vD(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new uD(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),SD=function(){function e(t,n){u(this,e),this.eventType=t,this.callbackContext=n}return f(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new uD(this,e,t):null}},{key:"createEvent",value:function(e,t){We(null!=e.childName,"Child events should have a childName.");var n=_D(new vD(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new sD(e.type,this,new mD(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function ED(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){WO(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new cD(n,a||void 0),c="value"===t?new xD(u):new SD(t,u);return function(e,t,n){var r;r=".info"===WN(t._path)?OR(e.infoSyncTree_,t,n):OR(e.serverSyncTree_,t,n),CO(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return WO(e._repo,e,c)}}function TD(e,t,n,r){return ED(e,"value",t,n,r)}function CD(e,t,n,r){return ED(e,"child_added",t,n,r)}function ID(e,t,n,r){return ED(e,"child_changed",t,n,r)}function ND(e,t,n,r){return ED(e,"child_moved",t,n,r)}function AD(e,t,n,r){return ED(e,"child_removed",t,n,r)}function PD(e,t,n){var r=null,i=n?new cD(n):null;"value"===t?r=new xD(i):t&&(r=new SD(t,i)),WO(e._repo,e,r)}var RD=f((function e(){u(this,e)})),OD=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return f(n,[{key:"_apply",value:function(e){mO("endAt",this._value,e._path,!0);var t=YA(e._queryParams,this._value,this._key);if(pD(t),dD(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fD(e._repo,e._path,t,e._orderByCalled)}}]),n}(RD);var DD=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return f(n,[{key:"_apply",value:function(e){mO("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===hA||n?YA(e,t,n):YA(e,t,nN)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(pD(t),dD(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fD(e._repo,e._path,t,e._orderByCalled)}}]),n}(RD);var LD=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return f(n,[{key:"_apply",value:function(e){mO("startAt",this._value,e._path,!0);var t=$A(e._queryParams,this._value,this._key);if(pD(t),dD(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fD(e._repo,e._path,t,e._orderByCalled)}}]),n}(RD);var MD=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return f(n,[{key:"_apply",value:function(e){mO("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===hA||n?$A(e,t,n):$A(e,t,rN)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(pD(t),dD(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new fD(e._repo,e._path,t,e._orderByCalled)}}]),n}(RD);var jD=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this))._limit=e,r}return f(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fD(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(RD);var FD=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this))._limit=e,r}return f(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new fD(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(RD);var UD=function(e){d(n,e);var t=g(n);function n(e){var r;return u(this,n),(r=t.call(this))._path=e,r}return f(n,[{key:"_apply",value:function(e){hD(e,"orderByChild");var t=new qN(this._path);if(YN(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new UA(t),r=JA(e._queryParams,n);return dD(r),new fD(e._repo,e._path,r,!0)}}]),n}(RD);var VD=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"_apply",value:function(e){hD(e,"orderByKey");var t=JA(e._queryParams,hA);return dD(t),new fD(e._repo,e._path,t,!0)}}]),n}(RD);var BD=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"_apply",value:function(e){hD(e,"orderByPriority");var t=JA(e._queryParams,NA);return dD(t),new fD(e._repo,e._path,t,!0)}}]),n}(RD);var qD=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"_apply",value:function(e){hD(e,"orderByValue");var t=JA(e._queryParams,BA);return dD(t),new fD(e._repo,e._path,t,!0)}}]),n}(RD);var zD=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return f(n,[{key:"_apply",value:function(e){if(mO("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new OD(this._value,this._key)._apply(new LD(this._value,this._key)._apply(e))}}]),n}(RD);function WD(e){for(var t=Mt(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){We(!oR,"__referenceConstructor has already been defined"),oR=e}(vD),function(e){We(!dR,"__referenceConstructor has already been defined"),dR=e}(vD);var KD="FIREBASE_DATABASE_EMULATOR_HOST",HD={},GD=!1;function ZD(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||XI("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$I("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=rD(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"ns08s33m38e5xxpc3387v2blopa9hp",REACT_APP_AUTHORIZATION_TOKEN:"nm1szcocbwgr6x35efttsncviwqjep"}[KD]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=rD(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new yN(yN.OWNER):new mN(e.name,e.options,t);SO("Invalid Firebase Database URL",s),YN(s.path)||XI("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=HD[t.name];i||(i={},HD[t.name]=i);var a=i[e.toURLString()];a&&XI("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new OO(e,GD,n,r),i[e.toURLString()]=a,a}(u,e,l,new vN(e.name,n));return new QD(f,e)}var QD=function(){function e(t,n){u(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return f(e,[{key:"_repo",get:function(){return this._instanceStarted||(DO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new vD(this._repo,zN())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=HD[t];n&&n[e.key]===e||XI("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),KO(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&XI("Cannot call "+e+" on a deleted database.")}}]),e}();function $D(){LN.IS_TRANSPORT_INITIALIZED&&eN("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function YD(){$D(),PN.forceDisallow()}function JD(){$D(),DN.forceDisallow(),PN.forceAllow()}function XD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Mt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&XI("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&XI('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new yN(yN.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:rt(r.mockUserToken,e.app.options.projectId);a=new yN(o)}!function(e,t,n,r){e.repoInfo_=new xN("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function eL(e){var t;(e=Mt(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(PO)}function tL(e,t){QI(e,t)}var nL={".sv":"timestamp"};var rL=function(){function e(t,n){u(this,e),this.committed=t,this.snapshot=n}return f(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function iL(e,t,n){var r;if(e=Mt(e),xO("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new nt,o=TD(e,(function(){}));return function(e,t,n,r,i,a){HO(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:WI(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=ZO(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{yO("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=nO(e.transactionQueueTree_,t),f=rO(l)||[];f.push(o),iO(l,f),"object"===typeof u&&null!==u&&gt(u,".priority")?(c=_t(u,".priority"),We(vO(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(DR(e.serverSyncTree_,t)||LA.EMPTY_NODE).getPriority().val();var h=MO(e),d=FA(u,c),p=XR(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=VO(e);var v=CR(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);IO(e.eventQueue_,t,v),QO(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new mD(r,new vD(e._repo,e._path),NA),a.resolve(new rL(n,i)))}),o,i),a.promise}sA.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},sA.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){jI(jn),An(new Vt("database",(function(e,t){var n=t.instanceIdentifier;return ZD(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),zn(DI,LI,e),zn(DI,LI,"esm2017")}();var aL=new Yt("@firebase/database-compat"),oL=function(e){var t="FIREBASE WARNING: "+e;aL.warn(t)},sL=function(){function e(t){u(this,e),this._delegate=t}return f(e,[{key:"cancel",value:function(e){Pt("OnDisconnect.cancel",0,1,arguments.length),Ot("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Pt("OnDisconnect.remove",0,1,arguments.length),Ot("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Pt("OnDisconnect.set",1,2,arguments.length),Ot("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Pt("OnDisconnect.setWithPriority",2,3,arguments.length),Ot("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Pt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,oL("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ot("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),uL=function(){function e(t,n){u(this,e),this.committed=t,this.snapshot=n}return f(e,[{key:"toJSON",value:function(){return Pt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),cL=function(){function e(t,n){u(this,e),this._database=t,this._delegate=n}return f(e,[{key:"val",value:function(){return Pt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Pt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Pt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Pt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Pt("DataSnapshot.child",0,1,arguments.length),t=String(t),wO("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Pt("DataSnapshot.hasChild",1,1,arguments.length),wO("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Pt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Pt("DataSnapshot.forEach",1,1,arguments.length),Ot("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Pt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Pt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Pt("DataSnapshot.ref",0,0,arguments.length),new fL(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),lL=function(){function e(t,n){u(this,e),this.database=t,this._delegate=n}return f(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Pt("Query.on",2,4,arguments.length),Ot("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new cL(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return TD(this._delegate,u,c),n;case"child_added":return CD(this._delegate,u,c),n;case"child_removed":return AD(this._delegate,u,c),n;case"child_changed":return ID(this._delegate,u,c),n;case"child_moved":return ND(this._delegate,u,c),n;default:throw new Error(Rt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Pt("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Rt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Ot("Query.off","callback",t,!0),Dt("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,PD(this._delegate,e,r)}else PD(this._delegate,e)}},{key:"get",value:function(){var e=this;return bD(this._delegate).then((function(t){return new cL(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Pt("Query.once",1,4,arguments.length),Ot("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new nt,u=function(e,t){var r=new cL(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":TD(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":CD(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":AD(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":ID(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":ND(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Rt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Pt("Query.limitToFirst",1,1,arguments.length),new e(this.database,WD(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jD(e)}(t)))}},{key:"limitToLast",value:function(t){return Pt("Query.limitToLast",1,1,arguments.length),new e(this.database,WD(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new FD(e)}(t)))}},{key:"orderByChild",value:function(t){return Pt("Query.orderByChild",1,1,arguments.length),new e(this.database,WD(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wO("orderByChild","path",e,!1),new UD(e)}(t)))}},{key:"orderByKey",value:function(){return Pt("Query.orderByKey",0,0,arguments.length),new e(this.database,WD(this._delegate,new VD))}},{key:"orderByPriority",value:function(){return Pt("Query.orderByPriority",0,0,arguments.length),new e(this.database,WD(this._delegate,new BD))}},{key:"orderByValue",value:function(){return Pt("Query.orderByValue",0,0,arguments.length),new e(this.database,WD(this._delegate,new qD))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Pt("Query.startAt",0,2,arguments.length),new e(this.database,WD(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return kO("startAt","key",t,!0),new LD(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Pt("Query.startAfter",0,2,arguments.length),new e(this.database,WD(this._delegate,function(e,t){return kO("startAfter","key",t,!0),new MD(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Pt("Query.endAt",0,2,arguments.length),new e(this.database,WD(this._delegate,function(e,t){return kO("endAt","key",t,!0),new OD(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Pt("Query.endBefore",0,2,arguments.length),new e(this.database,WD(this._delegate,function(e,t){return kO("endBefore","key",t,!0),new DD(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return Pt("Query.equalTo",1,2,arguments.length),new e(this.database,WD(this._delegate,function(e,t){return kO("equalTo","key",t,!0),new zD(e,t)}(t,n)))}},{key:"toString",value:function(){return Pt("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Pt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Pt("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new fL(this.database,new vD(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Ot(e,"cancel",r.cancel,!0),r.context=n,Dt(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Rt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),fL=function(e){d(n,e);var t=g(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,new fD(r._repo,r._path,new QA,!1))).database=e,i._delegate=r,i}return f(n,[{key:"getKey",value:function(){return Pt("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Pt("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,_D(this._delegate,e))}},{key:"getParent",value:function(){Pt("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Pt("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Pt("Reference.set",1,2,arguments.length),Ot("Reference.set","onComplete",t,!0);var n=kD(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Pt("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,oL("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xO("Reference.update",this._delegate._path),Ot("Reference.update","onComplete",t,!0);var i=wD(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Pt("Reference.setWithPriority",2,3,arguments.length),Ot("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(xO("setWithPriority",e._path),mO("setWithPriority",t,e._path,!1),_O("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new nt;return BO(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Pt("Reference.remove",0,1,arguments.length),Ot("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,xO("remove",t._path),kD(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;Pt("Reference.transaction",1,3,arguments.length),Ot("Reference.transaction","transactionUpdate",e,!1),Ot("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Rt(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=iL(this._delegate,e,{applyLocally:n}).then((function(e){return new uL(e.committed,new cL(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Pt("Reference.setPriority",1,2,arguments.length),Ot("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=Mt(e),xO("setPriority",e._path),_O("setPriority",t,!1);var n=new nt;return BO(e._repo,$N(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Pt("Reference.push",0,2,arguments.length),Ot("Reference.push","onComplete",t,!0);var i=function(e,t){e=Mt(e),xO("push",e._path),mO("push",t,e._path,!0);var n,r=LO(e._repo),i=oD(r),a=_D(e,i),o=_D(e,i);return n=null!=t?kD(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return xO("Reference.onDisconnect",this._delegate._path),new sL(new lD(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(lL),hL=function(){function e(t,n){var r=this;u(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:YD,forceLongPolling:JD}}return f(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};XD(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Pt("database.ref",0,1,arguments.length),e instanceof fL){var t=gD(this._delegate,e.toString());return new fL(this,t)}var n=yD(this._delegate,e);return new fL(this,n)}},{key:"refFromURL",value:function(e){Pt("database.refFromURL",1,1,arguments.length);var t=gD(this._delegate,e);return new fL(this,t)}},{key:"goOffline",value:function(){return Pt("database.goOffline",0,0,arguments.length),function(e){(e=Mt(e))._checkNotDeleted("goOffline"),KO(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return Pt("database.goOnline",0,0,arguments.length),eL(this._delegate)}}]),e}();hL.ServerValue={TIMESTAMP:nL,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var dL=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.customAppCheckImpl,o=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;jI(r);var c=new Kt("database-standalone"),l=new qt("auth-internal",c);l.setComponent(new Vt("auth-internal",(function(){return i}),"PRIVATE"));var f=void 0;return a&&(f=new qt("app-check-internal",c)).setComponent(new Vt("app-check-internal",(function(){return a}),"PRIVATE")),{instance:new hL(ZD(t,l,f,n,u),t),namespace:o}}}),pL=hL.ServerValue;!function(e){e.INTERNAL.registerComponent(new Vt("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new hL(i,r)}),"PUBLIC").setServiceProps({Reference:fL,Query:lL,Database:hL,DataSnapshot:cL,enableLogging:tL,INTERNAL:dL,ServerValue:pL}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.1")}(vr);var vL=vr.initializeApp({apiKey:"AIzaSyB9ZV0BRlgNDZhJO_ob3rhLL4uL4thUEOk",authDomain:"mustplaygame.firebaseapp.com",projectId:"mustplaygame",databaseURL:"https://mustplaygame-default-rtdb.firebaseio.com",storageBucket:"mustplaygame.appspot.com",messagingSenderId:"84110381925",appId:"1:84110381925:web:94a91a358c4674a50fc78c"}),mL=function(){function e(){u(this,e)}return f(e,[{key:"login",value:function(){var e=new vr.auth.GoogleAuthProvider;return vL.auth().signInWithPopup(e)}},{key:"getUserEmail",value:function(){var e=vL.auth().currentUser;return e?e.email:null}}]),e}(),yL={footer:"footer_footer__XXj-R",container:"footer_container__tTpaG",textcenter:"footer_textcenter__9a3Gu",logoContent:"footer_logoContent__9+AOP",grid:"footer_grid__T8FVW",links:"footer_links__PHNZq",social:"footer_social__eGScn",brands:"footer_brands__tuPHe",footer_container:"footer_footer_container__Inu5B"};function gL(){return gL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gL.apply(this,arguments)}function _L(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var kL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];var wL=i.startTransition;function bL(e){var t,n=e.basename,i=e.children,a=e.future,s=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:s,v5Compat:!0})&&(t={}),j((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var c=u.current,l=r.useState({action:c.action,location:c.location}),f=(0,o.Z)(l,2),h=f[0],d=f[1],p=(a||{}).v7_startTransition,v=r.useCallback((function(e){p&&wL?wL((function(){return d(e)})):d(e)}),[d,p]);return r.useLayoutEffect((function(){return c.listen(v)}),[c,v]),r.createElement(Le,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:c})}var xL="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,SL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EL=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=_L(e,kL),p=r.useContext(pe).basename,v=!1;if("string"===typeof l&&SL.test(l)&&(n=l,xL))try{var m=new URL(window.location.href),y=l.startsWith("//")?new URL(m.protocol+l):new URL(l),g=J(y.pathname,p);y.origin===m.origin&&null!=g?l=g+y.search+y.hash:v=!0}catch(w){}var _=function(e,t){var n=(void 0===t?{}:t).relative;ge()||P(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=be(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=n.unstable_viewTransition,l=we(),f=_e(),h=be(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(f)===L(h);l(e,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:c})}}),[f,l,h,a,o,i,e,s,u,c])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a,unstable_viewTransition:h});return r.createElement("a",gL({},d,{href:n||_,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var TL,CL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(TL||(TL={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(CL||(CL={}));var IL=n(854),NL=n(93),AL=n(880),PL=n(184),RL=function(){var e=(0,r.useState)(null),t=(0,o.Z)(e,2),n=t[0],i=t[1];return(0,PL.jsx)("div",{children:(0,PL.jsx)("footer",{className:yL.footer,children:(0,PL.jsxs)("div",{className:yL.container,children:[(0,PL.jsx)("div",{className:yL.textcenter,children:(0,PL.jsxs)("div",{className:yL.logoContent,children:[(0,PL.jsx)("img",{src:"".concat("","/img/logo.png"),alt:"Logo"}),(0,PL.jsx)("h1",{children:"MUST PLAY GAME"})]})}),(0,PL.jsxs)("div",{className:"".concat(yL.grid," ").concat(yL.footer_container),children:[(0,PL.jsxs)("div",{className:"".concat(yL.links),children:[(0,PL.jsx)("h2",{children:"Overview"}),(0,PL.jsx)("ul",{children:(0,PL.jsx)("li",{onClick:function(){i(3)},className:3===n?"".concat(yL.active):null,children:(0,PL.jsx)(EL,{to:"/About",children:(0,PL.jsx)("em",{children:"About & Contact"})})})})]}),(0,PL.jsxs)("div",{className:yL.social,children:[(0,PL.jsx)("h2",{children:"Follow us"}),(0,PL.jsx)("span",{children:(0,PL.jsx)("a",{href:"https://www.youtube.com/hashtag/metacritic",target:"_blank",rel:"noreferrer",children:(0,PL.jsx)(IL.Z,{})})}),(0,PL.jsx)("span",{children:(0,PL.jsx)("a",{href:"https://www.facebook.com/Metacritic/",target:"_blank",rel:"noreferrer",children:(0,PL.jsx)(NL.Z,{})})}),(0,PL.jsx)("span",{children:(0,PL.jsx)("a",{href:"https://www.instagram.com/metacritic/",target:"_blank",rel:"noreferrer",children:(0,PL.jsx)(AL.Z,{})})})]}),(0,PL.jsxs)("div",{className:yL.brands,children:[(0,PL.jsx)("h2",{children:"Explore Other"}),(0,PL.jsx)("span",{children:(0,PL.jsx)("a",{href:"https://www.metacritic.com",target:"_blank",rel:"noreferrer",children:"metacritic"})}),(0,PL.jsx)("span",{children:(0,PL.jsx)("a",{href:"https://kr.ign.com/",target:"_blank",rel:"noreferrer",children:"IGN"})}),(0,PL.jsx)("span",{children:(0,PL.jsx)("a",{href:"https://www.gamespot.com/",target:"_blank",rel:"noreferrer",children:"gamespot"})}),(0,PL.jsx)("span",{children:(0,PL.jsx)("a",{href:"https://store.steampowered.com/",target:"_blank",rel:"noreferrer",children:"steam"})})]})]})]})})})},OL="nav_nav__vmLZW",DL="nav_container__MA+FC",LL="nav_logo__PkUTb",ML="nav_logoContent__iI+vJ",jL="nav_slideMenu__3CHz1",FL="nav_active__uG2eW",UL="nav_userStatus__Ci4Dk",VL="nav_login__JXOb5",BL="nav_userProfileContainer__qp+KY",qL="nav_login_btt__Ml+m-",zL="nav_hamburger__W8quI",WL=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useState)(null),a=(0,o.Z)(i,2),s=a[0],u=a[1];function c(){n.current.classList.remove("".concat(FL)),t.current.classList.remove("".concat(FL))}return(0,PL.jsx)("div",{children:(0,PL.jsx)("nav",{className:OL,children:(0,PL.jsxs)("div",{className:DL,children:[(0,PL.jsxs)("div",{className:jL,ref:t,children:[(0,PL.jsx)("div",{className:LL,children:(0,PL.jsx)(EL,{to:"/",onClick:function(){u(null)},children:(0,PL.jsxs)("div",{className:ML,children:[(0,PL.jsx)("img",{src:"".concat("","/img/logo.png"),width:30,height:30,alt:"Logo"}),(0,PL.jsx)("h1",{children:"MUST PLAY GAME"})]})})}),(0,PL.jsxs)("ul",{children:[(0,PL.jsx)("li",{onClick:function(){u(0),c()},className:0===s?"".concat(FL):null,children:(0,PL.jsx)(EL,{to:"/PC",children:(0,PL.jsx)("em",{children:"PC"})})}),(0,PL.jsx)("li",{onClick:function(){u(1),c()},className:1===s?"".concat(FL):null,children:(0,PL.jsx)(EL,{to:"/Switch",children:(0,PL.jsx)("em",{children:"Switch"})})}),(0,PL.jsx)("li",{onClick:function(){u(2),c()},className:2===s?"".concat(FL):null,children:(0,PL.jsx)(EL,{to:"/PlayStation",children:(0,PL.jsx)("em",{children:"Playstation"})})})]})]}),(0,PL.jsx)("div",{className:UL,children:!1===e.emailCheck?(0,PL.jsx)("div",{}):(0,PL.jsxs)("div",{className:BL,children:[(0,PL.jsx)("img",{src:localStorage.getItem("userPhotoURL"),alt:"Profile"}),(0,PL.jsx)("span",{children:localStorage.getItem("userDisplayName")})]})}),(0,PL.jsx)("div",{className:VL,children:(0,PL.jsxs)("ul",{children:[!1===e.emailCheck?(0,PL.jsx)("li",{className:qL,onClick:e.onLogin,children:(0,PL.jsx)("em",{children:"LOGIN"})}):(0,PL.jsx)("li",{className:qL,children:(0,PL.jsx)("em",{onClick:e.onLogout,children:"LOGOUT"})}),(0,PL.jsxs)("li",{className:"".concat(zL," hamburger"),onClick:function(e){return e.currentTarget,n.current.classList.toggle("".concat(FL)),void t.current.classList.toggle("".concat(FL))},ref:n,children:[(0,PL.jsx)("span",{}),(0,PL.jsx)("span",{}),(0,PL.jsx)("span",{}),(0,PL.jsx)("span",{})]})]})})]})})})},KL="main_vid__-Lci5",HL="main_separator__EM5FU",GL={container:"showbox_container__UnfVZ",textContainer:"showbox_textContainer__TZqrR",imgContainer:"showbox_imgContainer__gGanm",commentsR:"showbox_commentsR__27dh3",commentsL:"showbox_commentsL__YKjA-",scoreOverlay:"showbox_scoreOverlay__95q+y",show:"showbox_show__kmUPt",hide:"showbox_hide__UPuj8",translateRTL:"showbox_translateRTL__X9cVK",translateLTR:"showbox_translateLTR__tAVgt",show_itemL:"showbox_show_itemL__w6ydc",show_itemR:"showbox_show_itemR__yIYfV",translateRTL_item:"showbox_translateRTL_item__KGsrk",translateLTR_item:"showbox_translateLTR_item__KfHE8"},ZL=n(366);var QL=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"],$L=Object.defineProperty,YL=function(e,t,n){return function(e,t,n){t in e?$L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},JL=new Map,XL=new WeakMap,eM=0,tM=void 0;function nM(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?function(e){return e?(XL.has(e)||(eM+=1,XL.set(e,eM.toString())),XL.get(e)):"0"}(e.root):e[t])})).toString()}function rM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tM;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=function(e){var t=nM(e),n=JL.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},JL.set(t,n)}return n}(n),o=a.id,s=a.observer,u=a.elements,c=u.get(e)||[];return u.has(e)||u.set(e,c),c.push(t),s.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(u.delete(e),s.unobserve(e)),0===u.size&&(s.disconnect(),JL.delete(o))}}r.Component;function iM(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.threshold,i=t.delay,a=t.trackVisibility,s=t.rootMargin,u=t.root,c=t.triggerOnce,l=t.skip,f=t.initialInView,h=t.fallbackInView,d=t.onChange,p=r.useState(null),v=(0,o.Z)(p,2),m=v[0],y=v[1],g=r.useRef(),_=r.useState({inView:!!f,entry:void 0}),k=(0,o.Z)(_,2),w=k[0],b=k[1];g.current=d,r.useEffect((function(){var e;if(!l&&m)return e=rM(m,(function(t,n){b({inView:t,entry:n}),g.current&&g.current(t,n),n.isIntersecting&&c&&e&&(e(),e=void 0)}),{root:u,rootMargin:s,threshold:n,trackVisibility:a,delay:i},h),function(){e&&e()}}),[Array.isArray(n)?n.toString():n,m,u,s,c,l,a,h,i]);var x=null==(e=w.entry)?void 0:e.target,S=r.useRef();m||!x||c||l||S.current===x||(S.current=x,b({inView:!!f,entry:void 0}));var E=[y,w.inView,w.entry];return E.ref=E[0],E.inView=E[1],E.entry=E[2],E}var aM,oM=function(){var e=iM({threshold:.8,triggerOnce:"true"}),t=(0,o.Z)(e,2),n=t[0],r=t[1],i=iM({threshold:.8,triggerOnce:"true"}),a=(0,o.Z)(i,2),s=a[0],u=a[1],c=iM({threshold:.8,triggerOnce:"true"}),l=(0,o.Z)(c,2),f=l[0],h=l[1],d=iM({threshold:.4,triggerOnce:"true"}),p=(0,o.Z)(d,2),v=p[0],m=p[1],y=iM({threshold:.4,triggerOnce:"true"}),g=(0,o.Z)(y,2),_=g[0],k=g[1],w=iM({threshold:.4,triggerOnce:"true"}),b=(0,o.Z)(w,2),x=b[0],S=b[1];return(0,PL.jsx)("div",{children:(0,PL.jsxs)("div",{className:GL.container,children:[(0,PL.jsxs)("div",{className:GL.textContainer,children:[(0,PL.jsx)("h1",{ref:n,className:r?GL.show:GL.hide,children:"Games to Play Right Now !!"}),(0,PL.jsx)("p",{ref:s,className:u?GL.show:"".concat(GL.hide," ").concat(GL.translateLTR),children:"metacritic\uc5d0\uc11c \uc120\uc815\ud55c \ucd5c\uace0\uc758 \uac8c\uc784\ub4e4\uc785\ub2c8\ub2e4."}),(0,PL.jsx)("p",{ref:f,className:h?GL.show:"".concat(GL.hide," ").concat(GL.translateRTL),children:"\uc9c4\uc815\ud55c \uac8c\uc774\uba38\uac00 \ub418\uae30\uc704\ud55c \uc5ec\uc815\uc744 \uc900\ube44\ud558\uc138\uc694."})]}),(0,PL.jsxs)("div",{className:GL.gameContainer,children:[(0,PL.jsxs)("div",{className:GL.imgContainer,children:[(0,PL.jsxs)("div",{ref:v,className:m?GL.show_itemL:"".concat(GL.hide," ").concat(GL.translateLTR_item),children:[(0,PL.jsx)("img",{src:"".concat("","/img/game3.jpeg")}),(0,PL.jsx)("div",{className:GL.scoreOverlay,children:"97"})]}),(0,PL.jsxs)("div",{className:GL.commentsR,children:[(0,PL.jsx)("p",{children:"GTA 5"}),(0,PL.jsx)("p",{children:"PS \ucd5c\uace0\uc758 \uba85\uc791"}),(0,PL.jsx)("p",{children:"\ub2e4\uc591\ud55c \ud65c\ub3d9"}),(0,PL.jsx)("p",{children:"\ub9e4\uc6b0 \ubc1c\uc804\ub41c \uadf8\ub798\ud53d"})]})]}),(0,PL.jsxs)("div",{className:GL.imgContainer,children:[(0,PL.jsxs)("div",{ref:_,className:k?GL.show_itemR:"".concat(GL.hide," ").concat(GL.translateRTL_item),children:[(0,PL.jsx)("img",{src:"".concat("","/img/game2.jpeg")}),(0,PL.jsx)("div",{className:GL.scoreOverlay,children:"97"})]}),(0,PL.jsxs)("div",{className:GL.commentsL,children:[(0,PL.jsx)("p",{children:"\uc824\ub2e4 BOTW"}),(0,PL.jsx)("p",{children:"\ud765\ubbf8\uc9c4\uc9c4\ud55c \uc2a4\ud1a0\ub9ac"}),(0,PL.jsx)("p",{children:"\uc5c4\uccad\ub09c \uc790\uc720\ub3c4"}),(0,PL.jsx)("p",{children:"\ub3c5\ucc3d\uc801 \ud37c\uc990 \uc694\uc18c"})]})]}),(0,PL.jsxs)("div",{className:GL.imgContainer,children:[(0,PL.jsxs)("div",{ref:x,className:S?GL.show_itemL:"".concat(GL.hide," ").concat(GL.translateLTR_item),children:[(0,PL.jsx)("img",{src:"".concat("","/img/game1.jpeg")}),(0,PL.jsx)("div",{className:GL.scoreOverlay,children:"95"})]}),(0,PL.jsxs)("div",{className:GL.commentsR,children:[(0,PL.jsx)("p",{children:"PORTAL 2"}),(0,PL.jsx)("p",{children:"\ucd5c\uace0\uc758 \ud37c\uc990 \uac8c\uc784"}),(0,PL.jsx)("p",{children:"\ud765\ubbf8\uc9c4\uc9c4\ud55c \ud50c\ub86f"}),(0,PL.jsx)("p",{children:"\ub9e4\ud639\uc801\uc778 \uc74c\uc545"})]})]})]})]})})},sM="best_container__Rj6M7",uM="best_textContainer__f5DPD",cM="best_gameContainer__3Orsa",lM="best_cardContainer__zTwxN",fM="best_card__0DeIE",hM="best_background__bRE7W",dM="best_cardContent__vsI2T",pM="best_profileImage__ml8FV",vM="best_title__OxSne",mM="best_backdrop__ZTwgI",yM="best_show__OLFrz",gM="best_hide__iLoVI",_M="best_showLocate__2XAQy",kM="best_hideLocate__84-8k",wM=function(){var e=(0,r.useState)([]),t=(0,o.Z)(e,2),n=t[0],i=t[1],a=iM({threshold:.8,triggerOnce:"true"}),s=(0,o.Z)(a,2),u=s[0],c=s[1],l=iM({threshold:.8,triggerOnce:"true"}),f=(0,o.Z)(l,2),h=f[0],d=f[1],p=iM({threshold:.2,triggerOnce:"true"}),v=(0,o.Z)(p,2),m=v[0],y=v[1];return(0,r.useEffect)((function(){vr.apps.length||vr.initializeApp(vL);var e=vr.database().ref("reviews"),t=vr.database().ref("games");return e.once("value").then((function(e){var n=e.val();if(n){var r=Object.keys(n).map(function(){var e=Ut(jt().mark((function e(r){var i,a,o,s,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.values(n[r]),a=i.reduce((function(e,t){return e+t.rating}),0)/i.length,e.next=4,t.orderByChild("gameTitle").equalTo(r).once("value");case 4:return o=e.sent,s=o.val(),u=Object.keys(s)[0],e.abrupt("return",{key:u,game:s[u].gameTitle,devel:s[u].develop,metaScore:s[u].score,averageRate:a,gameCover:s[u].gameCover||null});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all(r).then((function(e){var t=e.sort((function(e,t){return t.averageRate-e.averageRate})),n=t.slice(0,5);i(n)}))}})),function(){}}),[]),(0,PL.jsxs)("div",{className:sM,children:[(0,PL.jsxs)("div",{className:uM,children:[(0,PL.jsx)("h1",{ref:u,className:c?yM:gM,children:"\uc720\uc800 \uc120\uc815 TOP 5 \uac8c\uc784"}),(0,PL.jsx)("p",{ref:h,className:d?yM:gM,children:"\uc2e4\uc81c \ub4f1\ub85d\ub41c \uc720\uc800\ub9ac\ubdf0 \uae30\ubc18 \uc120\uc815 5\uac1c \ucd5c\uace0 \uac8c\uc784\ub4e4 \uc785\ub2c8\ub2e4."})]}),(0,PL.jsx)("div",{ref:m,className:"".concat(cM," ").concat(y?_M:kM),children:(0,PL.jsx)("ul",{children:n.map((function(e,t){return(0,PL.jsx)("li",{children:(0,PL.jsx)("div",{className:lM,children:e.gameCover&&(0,PL.jsxs)("div",{className:fM,children:[(0,PL.jsx)("img",{className:hM,src:e.gameCover,alt:"".concat(e.game," cover")}),(0,PL.jsxs)("div",{className:dM,children:[(0,PL.jsx)("div",{className:pM,children:(0,PL.jsx)("h2",{children:t+1})}),(0,PL.jsxs)("div",{className:vM,children:[(0,PL.jsx)("h3",{children:e.game}),(0,PL.jsxs)("h3",{children:["\uc720\uc800 \ud3c9\uc810: ",e.averageRate.toFixed(1)]})]})]}),(0,PL.jsx)("div",{className:mM})]})})},e.game)}))})})]})},bM=function(e){return(0,PL.jsxs)("div",{children:[(0,PL.jsx)("div",{className:KL,children:(0,PL.jsxs)("video",{autoPlay:!0,controls:!1,loop:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"auto"},children:[(0,PL.jsx)("source",{src:"https://firebasestorage.googleapis.com/v0/b/mustplaygame.appspot.com/o/video%2F2018-bestgame.mp4?alt=media&token=8084aa56-71b0-40f4-b8c9-72909fec71c2",type:"video/mp4"}),"Your browser dose not support the video tag."]})}),(0,PL.jsxs)("div",{children:[(0,PL.jsx)("div",{className:HL}),(0,PL.jsx)(oM,{})]}),(0,PL.jsx)("div",{children:(0,PL.jsx)("div",{className:HL})}),(0,PL.jsx)("div",{children:(0,PL.jsx)(wM,{})})]})},xM="firebasestorage.googleapis.com",SM="storageBucket",EM=function(e){d(n,e);var t=g(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return u(this,n),(i=t.call(this,TM(e),"Firebase Storage: ".concat(r," (").concat(TM(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(y(i),n.prototype),i}return f(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return TM(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(ht);function TM(e){return"storage/"+e}function CM(){return new EM(aM.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function IM(){return new EM(aM.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NM(){return new EM(aM.CANCELED,"User canceled the upload/download.")}function AM(){return new EM(aM.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PM(e){return new EM(aM.INVALID_ARGUMENT,e)}function RM(){return new EM(aM.APP_DELETED,"The Firebase app was deleted.")}function OM(e){return new EM(aM.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function DM(e,t){return new EM(aM.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function LM(e){throw new EM(aM.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(aM||(aM={}));var MM,jM=function(){function e(t,n){u(this,e),this.bucket=t,this.path_=n}return f(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new EM(aM.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===xM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new EM(aM.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),FM=function(){function e(t){u(this,e),this.promise_=Promise.reject(t)}return f(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function UM(e){return"string"===typeof e||e instanceof String}function VM(e){return BM()&&e instanceof Blob}function BM(){return"undefined"!==typeof Blob&&!ot()}function qM(e,t,n,r){if(r<t)throw PM("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw PM("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function zM(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function WM(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function KM(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(MM||(MM={}));var HM=function(){function e(t,n,r,i,a,o,s,c,l,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];u(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return f(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=CM();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?RM():NM());else i(IM())}};this.canceled_?t(0,new GM(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new GM(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===MM.NO_ERROR,a=r.getStatus();if(!n||KM(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===MM.ABORT;t(!1,new GM(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new GM(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),GM=f((function e(t,n,r){u(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function ZM(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function QM(){for(var e=ZM(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(BM())return new Blob(n);throw new EM(aM.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function $M(e){if("undefined"===typeof atob)throw t="base-64",new EM(aM.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var YM={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},JM=f((function e(t,n){u(this,e),this.data=t,this.contentType=n||null}));function XM(e,t){switch(e){case YM.RAW:return new JM(ej(t));case YM.BASE64:case YM.BASE64URL:return new JM(tj(e,t));case YM.DATA_URL:return new JM(function(e){var t=new nj(e);return t.base64?tj(YM.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw DM(YM.DATA_URL,"Malformed data URL.")}return ej(t)}(t.rest)}(t),new nj(t).contentType)}throw CM()}function ej(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function tj(e,t){switch(e){case YM.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw DM(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case YM.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw DM(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=$M(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw DM(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var nj=f((function e(t){u(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw DM(YM.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var rj=function(){function e(t,n){u(this,e);var r=0,i="";VM(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return f(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(VM(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(BM()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(QM.apply(null,i))}var a=n.map((function(e){return UM(e)?XM(YM.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function ij(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function aj(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function oj(e,t){return t}var sj=f((function e(t,n,r,i){u(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||oj})),uj=null;function cj(){if(uj)return uj;var e=[];e.push(new sj("bucket")),e.push(new sj("generation")),e.push(new sj("metageneration")),e.push(new sj("name","fullPath",!0));var t=new sj("name");t.xform=function(e,t){return function(e){return!UM(e)||e.length<2?e:aj(e)}(t)},e.push(t);var n=new sj("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new sj("timeCreated")),e.push(new sj("updated")),e.push(new sj("md5Hash",null,!0)),e.push(new sj("cacheControl",null,!0)),e.push(new sj("contentDisposition",null,!0)),e.push(new sj("contentEncoding",null,!0)),e.push(new sj("contentLanguage",null,!0)),e.push(new sj("contentType",null,!0)),e.push(new sj("metadata","customMetadata",!0)),uj=e}function lj(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new jM(n,r);return t._makeStorageReference(i)}})}(r,e),r}function fj(e,t,n){var r=ij(t);return null===r?null:lj(e,r,n)}function hj(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var dj="prefixes",pj="items";function vj(e,t,n){var r=ij(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[dj]){var i,a=C(n[dj]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new jM(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n[pj]){var u,c=C(n[pj]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new jM(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var mj=f((function e(t,n,r,i){u(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function yj(e){if(!e)throw CM()}function gj(e,t){return function(n,r){var i=fj(e,r,t);return yj(null!==i),i}}function _j(e,t){return function(n,r){var i=fj(e,r,t);return yj(null!==i),function(e,t,n,r){var i=ij(t);if(null===i)return null;if(!UM(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return zM("/b/"+o(i)+"/o/"+o(a),n,r)+WM({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function kj(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new EM(aM.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new EM(aM.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new EM(aM.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new EM(aM.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function wj(e){var t=kj(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new EM(aM.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function bj(e,t,n){var r=zM(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new mj(r,"GET",gj(e,n),i);return a.errorHandler=wj(t),a}function xj(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=zM(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new mj(o,"GET",function(e,t){return function(n,r){var i=vj(e,t,r);return yj(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=kj(t),u}function Sj(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ej(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Sj(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+hj(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=rj.getBlob(c,r,l);if(null===f)throw AM();var h={name:u.fullPath},d=zM(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new mj(d,"POST",gj(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=kj(t),v}var Tj=f((function e(t,n,r,i){u(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Cj(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){yj(!1)}return yj(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Ij=262144;function Nj(e,t,n,r,i,a,o,s){var u=new Tj(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new EM(aM.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw AM();var v=t.maxUploadRetryTime,m=new mj(n,"POST",(function(e,n){var i,o=Cj(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?gj(t,a)(e,n):null,new Tj(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=kj(e),m}var Aj={STATE_CHANGED:"state_changed"},Pj={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rj(e){switch(e){case"running":case"pausing":case"canceling":return Pj.RUNNING;case"paused":return Pj.PAUSED;case"success":return Pj.SUCCESS;case"canceled":return Pj.CANCELED;default:return Pj.ERROR}}var Oj=f((function e(t,n,r){u(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Dj(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Lj=null,Mj=function(){function e(){var t=this;u(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=MM.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=MM.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=MM.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return f(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw LM("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw LM("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw LM("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw LM("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw LM("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),jj=function(e){d(n,e);var t=g(n);function n(){return u(this,n),t.apply(this,arguments)}return f(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Mj);function Fj(){return Lj?Lj():new jj}var Uj=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=cj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(aM.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(KM(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=IM()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(aM.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return f(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,o.Z)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Sj(t,r,i),s={name:o.fullPath},u=zM(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=hj(o,n),f=e.maxUploadRetryTime,h=new mj(u,"POST",(function(e){var t;Cj(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){yj(!1)}return yj(UM(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=kj(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Fj,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new mj(n,"POST",(function(e){var t=Cj(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){yj(!1)}n||yj(!1);var i=Number(n);return yj(!isNaN(i)),new Tj(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=kj(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Fj,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Ij*this._chunkMultiplier,n=new Tj(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Nj(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Fj,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(Ij*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=bj(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Fj,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Ej(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Fj,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=NM(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Rj(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Oj(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Rj(this._state)){case Pj.SUCCESS:Dj(this._resolve.bind(null,this.snapshot))();break;case Pj.CANCELED:case Pj.ERROR:Dj(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Rj(this._state)){case Pj.RUNNING:case Pj.PAUSED:e.next&&Dj(e.next.bind(e,this.snapshot))();break;case Pj.SUCCESS:e.complete&&Dj(e.complete.bind(e))();break;default:e.error&&Dj(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Vj=function(){function e(t,n){u(this,e),this._service=t,this._location=n instanceof jM?n:jM.makeFromUrl(n,t.host)}return f(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new jM(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return aj(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new jM(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw OM(e)}}]),e}();function Bj(e,t,n){return qj.apply(this,arguments)}function qj(){return(qj=Ut(jt().mark((function e(t,n,r){var i,a,o,u;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,zj(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,(0,s.Z)(u.prefixes)),(a=n.items).push.apply(a,(0,s.Z)(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,Bj(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zj(e,t){null!=t&&"number"===typeof t.maxResults&&qM("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=xj(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Fj)}function Wj(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=zM(t.fullServerUrl(),e.host,e._protocol),a=hj(n,r),o=e.maxOperationRetryTime,s=new mj(i,"PATCH",gj(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=wj(t),s}(e.storage,e._location,t,cj());return e.storage.makeRequestWithTokens(n,Fj)}function Kj(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=zM(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new mj(r,"GET",_j(e,n),i);return a.errorHandler=wj(t),a}(e.storage,e._location,cj());return e.storage.makeRequestWithTokens(t,Fj).then((function(e){if(null===e)throw new EM(aM.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Hj(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=zM(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new mj(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=wj(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Fj)}function Gj(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new jM(e._location.bucket,n);return new Vj(e.storage,r)}function Zj(e,t){if(e instanceof Yj){var n=e;if(null==n._bucket)throw new EM(aM.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SM+"' property when initializing the app?");var r=new Vj(n,n._bucket);return null!=t?Zj(r,t):r}return void 0!==t?Gj(e,t):e}function Qj(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Yj)return new Vj(e,t);throw PM("To use ref(service, url), the first argument must be a Storage instance.")}return Zj(e,t)}function $j(e,t){var n=null===t||void 0===t?void 0:t[SM];return null==n?null:jM.makeFromBucketSpec(n,e)}var Yj=function(){function e(t,n,r,i,a){u(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=xM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?jM.makeFromBucketSpec(i,this._host):$j(this._host,this.app.options)}return f(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=jM.makeFromBucketSpec(this._url,e):this._bucket=$j(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){qM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){qM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ut(jt().mark((function e(){var t,n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ut(jt().mark((function e(){var t,n;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Vj(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new FM(RM());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=WM(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new HM(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Ut(jt().mark((function e(t,n){var r,i,a,s;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=(0,o.Z)(r,2),a=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Jj="@firebase/storage",Xj="0.11.2",eF="storage";function tF(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Uj(e,new rj(t),n)}(e=Mt(e),t,n)}function nF(e){return function(e){e._throwIfRoot("getMetadata");var t=bj(e.storage,e._location,cj());return e.storage.makeRequestWithTokens(t,Fj)}(e=Mt(e))}function rF(e){return function(e){var t={prefixes:[],items:[]};return Bj(e,t).then((function(){return t}))}(e=Mt(e))}function iF(e,t){return Qj(e=Mt(e),t)}function aF(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:rt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function oF(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Yj(r,i,a,n,jn)}An(new Vt(eF,oF,"PUBLIC").setMultipleInstances(!0)),zn(Jj,Xj,""),zn(Jj,Xj,"esm2017");var sF=function(){function e(t,n,r){u(this,e),this._delegate=t,this.task=n,this.ref=r}return f(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),uF=function(){function e(t,n){u(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return f(e,[{key:"snapshot",get:function(){return new sF(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new sF(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new sF(e,i,i._ref))}:{next:t.next?function(e){return t.next(new sF(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),cF=function(){function e(t,n){u(this,e),this._delegate=t,this._service=n}return f(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new lF(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new lF(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),lF=function(){function e(t,n){u(this,e),this._delegate=t,this.storage=n}return f(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Gj(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new uF(tF(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YM.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=XM(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new uF(new Uj(this._delegate,new rj(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return rF(this._delegate).then((function(t){return new cF(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return zj(e=Mt(e),t)}(this._delegate,e||void 0).then((function(e){return new cF(e,t.storage)}))}},{key:"getMetadata",value:function(){return nF(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Wj(e=Mt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Kj(Mt(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Hj(Mt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw OM(e)}}]),e}(),fF=function(){function e(t,n){u(this,e),this.app=t,this._delegate=n}return f(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(hF(e))throw PM("ref() expected a child path but got a URL, use refFromURL instead.");return new lF(iF(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!hF(e))throw PM("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jM.makeFromUrl(e,this._delegate.host)}catch(t){throw PM("refFromUrl() expected a valid full URL but got an invalid one.")}return new lF(iF(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aF(this._delegate,e,t,n)}}]),e}();function hF(e){return/^[A-Za-z]+:\/\//.test(e)}function dF(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new fF(r,i)}!function(e){var t={TaskState:Pj,TaskEvent:Aj,StringFormat:YM,Storage:fF,Reference:lF};e.INTERNAL.registerComponent(new Vt("storage-compat",dF,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(vr);var pF={bgColor:"pc_bgColor__N-wLW",container:"pc_container__zpYnu",separator:"pc_separator__FEERR",gameContainer:"pc_gameContainer__fa85h",textContainer:"pc_textContainer__GjHUd",grid:"pc_grid__MG+iz",gridContainer:"pc_gridContainer__K0ENF",gameItem:"pc_gameItem__ZfvXP",gameImg:"pc_gameImg__gtI6d",gameDetail:"pc_gameDetail__5N-JT",gameTitle:"pc_gameTitle__BtCAc",scoreContainer:"pc_scoreContainer__RhJ4J",cookie:"pc_cookie__G5Kpe",loadComponent:"pc_loadComponent__5wSuy",scoreBox:"pc_scoreBox__c3w3h"},vF=n(513),mF=n(248),yF=n(327),gF=n(164);var _F=function(e){e()},kF=function(){return _F},wF=Symbol.for("react-redux-context"),bF="undefined"!==typeof globalThis?globalThis:{};function xF(){var e;if(!r.createContext)return{};var t=null!=(e=bF[wF])?e:bF[wF]=new Map,n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var SF=xF();function EF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SF;return function(){return(0,r.useContext)(e)}}var TF=EF();n(110),n(900);var CF={notify:function(){},get:function(){return[]}};function IF(e,t){var n,r=CF,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=kF(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=CF)}var c={addNestedSub:function(e){s();var t=r.subscribe(e),n=!1;return function(){n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,u())},getListeners:function(){return r}};return c}var NF=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var AF=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,s=void 0===o?"once":o,u=e.noopCheck,c=void 0===u?"once":u,l=r.useMemo((function(){var e=IF(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:s,noopCheck:c}}),[t,a,s,c]),f=r.useMemo((function(){return t.getState()}),[t]);NF((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,f]);var h=n||SF;return r.createElement(h.Provider,{value:l},i)};function PF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SF,t=e===SF?TF:EF(e);return function(){return t().store}}var RF=PF();function OF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SF,t=e===SF?RF:PF(e);return function(){return t().dispatch}}var DF,LF=OF();function MF(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function jF(e){return!!e&&!!e[TU]}function FF(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===CU}(e)||Array.isArray(e)||!!e[EU]||!!(null===(t=e.constructor)||void 0===t?void 0:t[EU])||KF(e)||HF(e))}function UF(e,t,n){void 0===n&&(n=!1),0===VF(e)?(n?Object.keys:IU)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function VF(e){var t=e[TU];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:KF(e)?2:HF(e)?3:0}function BF(e,t){return 2===VF(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qF(e,t){return 2===VF(e)?e.get(t):e[t]}function zF(e,t,n){var r=VF(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function WF(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function KF(e){return wU&&e instanceof Map}function HF(e){return bU&&e instanceof Set}function GF(e){return e.o||e.t}function ZF(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=NU(e);delete t[TU];for(var n=IU(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function QF(e,t){return void 0===t&&(t=!1),YF(e)||jF(e)||!FF(e)||(VF(e)>1&&(e.set=e.add=e.clear=e.delete=$F),Object.freeze(e),t&&UF(e,(function(e,t){return QF(t,!0)}),!0)),e}function $F(){MF(2)}function YF(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function JF(e){var t=AU[e];return t||MF(18,e),t}function XF(e,t){AU[e]||(AU[e]=t)}function eU(){return _U}function tU(e,t){t&&(JF("Patches"),e.u=[],e.s=[],e.v=t)}function nU(e){rU(e),e.p.forEach(aU),e.p=null}function rU(e){e===_U&&(_U=e.l)}function iU(e){return _U={p:[],l:_U,h:e,m:!0,_:0}}function aU(e){var t=e[TU];0===t.i||1===t.i?t.j():t.g=!0}function oU(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||JF("ES5").S(t,e,r),r?(n[TU].P&&(nU(t),MF(4)),FF(e)&&(e=sU(t,e),t.l||cU(t,e)),t.u&&JF("Patches").M(n[TU].t,e,t.u,t.s)):e=sU(t,n,[]),nU(t),t.u&&t.v(t.u,t.s),e!==SU?e:void 0}function sU(e,t,n){if(YF(t))return t;var r=t[TU];if(!r)return UF(t,(function(i,a){return uU(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return cU(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=ZF(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),UF(a,(function(t,a){return uU(e,r,i,t,a,n,o)})),cU(e,i,!1),n&&e.u&&JF("Patches").N(r,n,e.u,e.s)}return r.o}function uU(e,t,n,r,i,a,o){if(jF(i)){var s=sU(e,i,a&&t&&3!==t.i&&!BF(t.R,r)?a.concat(r):void 0);if(zF(n,r,s),!jF(s))return;e.m=!1}else o&&n.add(i);if(FF(i)&&!YF(i)){if(!e.h.D&&e._<1)return;sU(e,i),t&&t.A.l||cU(e,i)}}function cU(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&QF(t,n)}function lU(e,t){var n=e[TU];return(n?GF(n):e)[t]}function fU(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function hU(e){e.P||(e.P=!0,e.l&&hU(e.l))}function dU(e){e.o||(e.o=ZF(e.t))}function pU(e,t,n){var r=KF(t)?JF("MapSet").F(t,n):HF(t)?JF("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:eU(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=PU;n&&(i=[r],a=RU);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):JF("ES5").J(t,n);return(n?n.A:eU()).p.push(r),r}function vU(e){return jF(e)||MF(22,e),function e(t){if(!FF(t))return t;var n,r=t[TU],i=VF(t);if(r){if(!r.P&&(r.i<4||!JF("ES5").K(r)))return r.t;r.I=!0,n=mU(t,i),r.I=!1}else n=mU(t,i);return UF(n,(function(t,i){r&&qF(r.t,t)===i||zF(n,t,e(i))})),3===i?new Set(n):n}(e)}function mU(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ZF(e)}function yU(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[TU];return PU.get(t,e)},set:function(t){var n=this[TU];PU.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][TU];if(!i.P)switch(i.i){case 5:r(i)&&hU(i);break;case 4:n(i)&&hU(i)}}}function n(e){for(var t=e.t,n=e.k,r=IU(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==TU){var o=t[a];if(void 0===o&&!BF(t,a))return!0;var s=n[a],u=s&&s[TU];if(u?u.t!==o:!WF(s,o))return!0}}var c=!!t[TU];return r.length!==IU(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};XF("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=NU(n);delete a[TU];for(var o=IU(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:eU(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,TU,{value:a,writable:!0}),i},S:function(e,n,i){i?jF(n)&&n[TU].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[TU];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)UF(a,(function(t){t!==TU&&(void 0!==i[t]||BF(i,t)?o[t]||e(a[t]):(o[t]=!0,hU(n)))})),UF(i,(function(e){void 0!==a[e]||BF(a,e)||(o[e]=!1,hU(n))}));else if(5===s){if(r(n)&&(hU(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){e}(yF.useSyncExternalStoreWithSelector),function(e){e}(mF.useSyncExternalStore),DF=gF.unstable_batchedUpdates,_F=DF;var gU,_U,kU="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),wU="undefined"!=typeof Map,bU="undefined"!=typeof Set,xU="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,SU=kU?Symbol.for("immer-nothing"):((gU={})["immer-nothing"]=!0,gU),EU=kU?Symbol.for("immer-draftable"):"__$immer_draftable",TU=kU?Symbol.for("immer-state"):"__$immer_state",CU=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),IU="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,NU=Object.getOwnPropertyDescriptors||function(e){var t={};return IU(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},AU={},PU={get:function(e,t){if(t===TU)return e;var n=GF(e);if(!BF(n,t))return function(e,t,n){var r,i=fU(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!FF(r)?r:r===lU(e.t,t)?(dU(e),e.o[t]=pU(e.A.h,r,e)):r},has:function(e,t){return t in GF(e)},ownKeys:function(e){return Reflect.ownKeys(GF(e))},set:function(e,t,n){var r=fU(GF(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=lU(GF(e),t),a=null==i?void 0:i[TU];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(WF(n,i)&&(void 0!==n||BF(e.t,t)))return!0;dU(e),hU(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==lU(e.t,t)||t in e.t?(e.R[t]=!1,dU(e),hU(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=GF(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){MF(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){MF(12)}},RU={};UF(PU,(function(e,t){RU[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),RU.deleteProperty=function(e,t){return RU.set.call(this,e,t,void 0)},RU.set=function(e,t,n){return PU.set.call(this,e[0],t,n,e[0])};var OU=function(){function e(e){var t=this;this.O=xU,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&MF(6),void 0!==r&&"function"!=typeof r&&MF(7),FF(e)){var s=iU(t),u=pU(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?nU(s):rU(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return tU(s,r),oU(e,s)}),(function(e){throw nU(s),e})):(tU(s,r),oU(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===SU&&(o=void 0),t.D&&QF(o,!0),r){var l=[],f=[];JF("Patches").M(e,o,l,f),r(l,f)}return o}MF(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){FF(e)||MF(8),jF(e)&&(e=vU(e));var t=iU(this),n=pU(this,e,void 0);return n[TU].C=!0,rU(t),n},t.finishDraft=function(e,t){var n=(e&&e[TU]).A;return tU(n,t),oU(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!xU&&MF(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=JF("Patches").$;return jF(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),DU=new OU,LU=DU.produce,MU=(DU.produceWithPatches.bind(DU),DU.setAutoFreeze.bind(DU),DU.setUseProxies.bind(DU),DU.applyPatches.bind(DU),DU.createDraft.bind(DU),DU.finishDraft.bind(DU),LU);function jU(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var FU="function"===typeof Symbol&&Symbol.observable||"@@observable",UU=function(){return Math.random().toString(36).substring(7).split("").join(".")},VU={INIT:"@@redux/INIT"+UU(),REPLACE:"@@redux/REPLACE"+UU(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+UU()}};function BU(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qU(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(jU(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(jU(1));return n(qU)(e,t)}if("function"!==typeof e)throw new Error(jU(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(jU(3));return a}function f(e){if("function"!==typeof e)throw new Error(jU(4));if(u)throw new Error(jU(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(jU(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!BU(e))throw new Error(jU(7));if("undefined"===typeof e.type)throw new Error(jU(8));if(u)throw new Error(jU(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:VU.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(jU(10));i=e,h({type:VU.REPLACE})}})[FU]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(jU(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[FU]=function(){return this},e},r}function zU(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:VU.INIT}))throw new Error(jU(12));if("undefined"===typeof n(void 0,{type:VU.PROBE_UNKNOWN_ACTION()}))throw new Error(jU(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(jU(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function WU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function KU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(jU(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=WU.apply(void 0,a)(n.dispatch),Xt(Xt({},n),{},{dispatch:r})}}}function HU(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var GU=HU();GU.withExtraArgument=HU;var ZU=GU,QU=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$U=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},YU=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},JU=Object.defineProperty,XU=Object.defineProperties,eV=Object.getOwnPropertyDescriptors,tV=Object.getOwnPropertySymbols,nV=Object.prototype.hasOwnProperty,rV=Object.prototype.propertyIsEnumerable,iV=function(e,t,n){return t in e?JU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},aV=function(e,t){for(var n in t||(t={}))nV.call(t,n)&&iV(e,n,t[n]);if(tV)for(var r=0,i=tV(t);r<i.length;r++){n=i[r];rV.call(t,n)&&iV(e,n,t[n])}return e},oV=function(e,t){return XU(e,eV(t))},sV=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},uV="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?WU:WU.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function cV(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function lV(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return aV(aV({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var fV=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return QU(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,YU([void 0],e[0].concat(this)))):new(t.bind.apply(t,YU([void 0],e.concat(this))))},t}(Array),hV=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return QU(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,YU([void 0],e[0].concat(this)))):new(t.bind.apply(t,YU([void 0],e.concat(this))))},t}(Array);function dV(e){return FF(e)?MU(e,(function(){})):e}function pV(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new fV);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ZU.withExtraArgument(n.extraArgument)):r.push(ZU));0;return r}(e)}}function vV(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var mV=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},yV=["name","message","stack","code"],gV=function(e,t){this.payload=e,this.meta=t},_V=function(e,t){this.payload=e,this.meta=t},kV=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=yV;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=lV(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:oV(aV({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=lV(e+"/pending",(function(e,t,n){return{payload:void 0,meta:oV(aV({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=lV(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||kV)(e||"Rejected"),meta:oV(aV({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):mV(),h=new o;function d(e){l=e,h.abort()}var p=function(){return sV(this,null,(function(){var o,p,v,m,y,g;return $U(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(k=m)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,m];case 1:m=_.sent(),_.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new gV(e,t)},fulfillWithValue:function(e,t){return new _V(e,t)}})).then((function(t){if(t instanceof gV)throw t;return t instanceof _V?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=_.sent(),[3,5];case 4:return g=_.sent(),v=g instanceof gV?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(wV)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function wV(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var bV="listenerMiddleware";lV(bV+"/add"),lV(bV+"/removeAll"),lV(bV+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var xV,SV=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:SV(10);yU();var EV=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:dV(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?vV(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=aV(aV({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?vV(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return dV(e())};else{var c=dV(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=YU([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(jF(e))return void 0===(r=n(e,t))?e:r;if(FF(e))return MU(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?lV(c,r):lV(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"detailData",initialState:{},reducers:{addDetailData:function(e,t){e.data=t.payload,localStorage.setItem("itemData",JSON.stringify(t.payload))}}}),TV=EV.actions.addDetailData,CV=function(e){var t,n=pV(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!cV(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=zU(a)}var p=s;"function"===typeof p&&(p=p(n));var v=KU.apply(void 0,p),m=WU;c&&(m=uV(aV({trace:!1},"object"===typeof c&&c)));var y=new hV(v),g=y;return Array.isArray(d)?g=YU([v],d):"function"===typeof d&&(g=d(y)),qU(t,f,m.apply(void 0,g))}({reducer:{detail:EV.reducer}}),IV=CV,NV=function(){var e=we(),t=(0,r.useState)(),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=(0,r.useState)(!1),u=(0,o.Z)(s,2),c=u[0],l=u[1],f=LF();(0,r.useEffect)((function(){vr.apps.length||vr.initializeApp(vL);var e=vr.database().ref("games"),t=setTimeout((function(){l(!0)}),5e3);return e.on("value",(function(e){var n=e.val(),r=Object.keys(n).reduce((function(e,t){var r=n[t];return r.platform.includes("PC")&&e.push(Xt({key:t},r)),e}),[]);a(r),clearTimeout(t)})),function(){e.off(),clearTimeout(t)}}),[]);return(0,PL.jsx)("div",{className:pF.bgColor,children:(0,PL.jsxs)("div",{className:pF.container,children:[(0,PL.jsxs)("div",{className:pF.textContainer,children:[(0,PL.jsx)("h1",{children:"Must Play PC Game"}),(0,PL.jsx)("h3",{children:"\ub2e4\uc74c\uc5d0 \ud50c\ub808\uc774\ud560 PC \ucd5c\uace0\uc758 \uba85\uc791\ub4e4\uc744 \uc18c\uac1c\ud574\ub4dc\ub9bd\ub2c8\ub2e4!"}),(0,PL.jsx)("div",{className:pF.separator})]}),(0,PL.jsxs)("div",{className:pF.listContainer,children:[(0,PL.jsx)("div",{className:pF.feature}),(0,PL.jsx)("div",{className:pF.gameContainer,children:i&&i.length>0?(0,PL.jsx)("div",{className:"".concat(pF.gridContainer," ").concat(pF.grid),children:i.map((function(t){return(0,PL.jsxs)("div",{onClick:function(){return function(t){f(TV(t)),e("/Detail/".concat(t.key))}(t)},className:pF.gameItem,children:[(0,PL.jsx)("div",{className:pF.gameImg,children:(0,PL.jsx)("img",{src:t.gameCover,alt:t.gameTitle})}),(0,PL.jsxs)("div",{className:pF.gameDetail,children:[(0,PL.jsx)("div",{className:pF.gameTitle,children:(0,PL.jsx)("h3",{children:t.gameTitle})}),(0,PL.jsxs)("div",{className:pF.scoreContainer,children:[(0,PL.jsx)("div",{className:pF.scoreBox,children:t.score}),(0,PL.jsx)("p",{children:"metascore"})]})]})]},t.key)}))}):(0,PL.jsx)("div",{children:c?(0,PL.jsxs)("div",{className:pF.loadComponent,children:[(0,PL.jsx)("img",{src:"".concat("","/img/load_fail.png"),alt:"load fail is failed!!!"}),(0,PL.jsx)("p",{children:"\ub85c\ub4dc \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694!"})]}):(0,PL.jsxs)("div",{className:pF.loadComponent,children:[(0,PL.jsx)("img",{src:"".concat("","/img/triforce_load.gif"),alt:"loading is going"}),(0,PL.jsx)("p",{children:"\uad00\ub828 \uac8c\uc784\ub4e4\uc744 \ub85c\ub529\uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694."})]})})})]}),(0,PL.jsxs)("div",{className:pF.cookie,children:[(0,PL.jsx)("p",{children:(0,PL.jsx)(vF.Z,{})}),(0,PL.jsx)("p",{children:"\ub9c8\uc74c\uc5d0 \ub4dc\ub294 \uac8c\uc784\uc744 \ucc3e\uc73c\uc168\uae38 \ubc14\ub798\uc694!"})]})]})})},AV={bgColor:"switch_bgColor__8vZwS",container:"switch_container__vZCXA",separator:"switch_separator__E3-A7",gameContainer:"switch_gameContainer__K7nQm",textContainer:"switch_textContainer__LCP-A",grid:"switch_grid__sVDyv",gridContainer:"switch_gridContainer__pjLUN",gameItem:"switch_gameItem__YZZ9i",gameImg:"switch_gameImg__vHn3m",gameDetail:"switch_gameDetail__XqNfi",gameTitle:"switch_gameTitle__OpLL1",scoreContainer:"switch_scoreContainer__NUCma",cookie:"switch_cookie__-1l-F",loadComponent:"switch_loadComponent__bIv+J",scoreBox:"switch_scoreBox__WOvzU"},PV=function(){var e=we(),t=(0,r.useState)(),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=(0,r.useState)(!1),u=(0,o.Z)(s,2),c=u[0],l=u[1],f=LF();(0,r.useEffect)((function(){vr.apps.length||vr.initializeApp(vL);var e=vr.database().ref("games"),t=setTimeout((function(){l(!0)}),5e3);return e.on("value",(function(e){var n=e.val(),r=Object.keys(n).reduce((function(e,t){var r=n[t];return r.platform.includes("Switch")&&e.push(Xt({key:t},r)),e}),[]);a(r),clearTimeout(t)})),function(){e.off(),clearTimeout(t)}}),[]);return(0,PL.jsx)("div",{className:AV.bgColor,children:(0,PL.jsxs)("div",{className:AV.container,children:[(0,PL.jsxs)("div",{className:AV.textContainer,children:[(0,PL.jsx)("h1",{children:"Must Play Switch Game"}),(0,PL.jsx)("h3",{children:"\ub2e4\uc74c\uc5d0 \ud50c\ub808\uc774\ud560 Switch \ucd5c\uace0\uc758 \uba85\uc791\ub4e4\uc744 \uc18c\uac1c\ud574\ub4dc\ub9bd\ub2c8\ub2e4!"}),(0,PL.jsx)("div",{className:AV.separator})]}),(0,PL.jsxs)("div",{className:AV.listContainer,children:[(0,PL.jsx)("div",{className:AV.feature}),(0,PL.jsx)("div",{className:AV.gameContainer,children:i&&i.length>0?(0,PL.jsx)("div",{className:"".concat(AV.gridContainer," ").concat(AV.grid),children:i.map((function(t){return(0,PL.jsxs)("div",{onClick:function(){return function(t){f(TV(t)),e("/Detail/".concat(t.key))}(t)},className:AV.gameItem,children:[(0,PL.jsx)("div",{className:AV.gameImg,children:(0,PL.jsx)("img",{src:t.gameCover,alt:t.gameTitle})}),(0,PL.jsxs)("div",{className:AV.gameDetail,children:[(0,PL.jsx)("div",{className:AV.gameTitle,children:(0,PL.jsx)("h3",{children:t.gameTitle})}),(0,PL.jsxs)("div",{className:AV.scoreContainer,children:[(0,PL.jsx)("div",{className:AV.scoreBox,children:t.score}),(0,PL.jsx)("p",{children:"metascore"})]})]})]},t.key)}))}):(0,PL.jsx)("div",{children:c?(0,PL.jsxs)("div",{className:AV.loadComponent,children:[(0,PL.jsx)("img",{src:"".concat("","/img/load_fail.png")}),(0,PL.jsx)("p",{children:"\ub85c\ub4dc \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694!"})]}):(0,PL.jsxs)("div",{className:AV.loadComponent,children:[(0,PL.jsx)("img",{src:"".concat("","/img/triforce_load.gif")}),(0,PL.jsx)("p",{children:"\uad00\ub828 \uac8c\uc784\ub4e4\uc744 \ub85c\ub529\uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694."})]})})})]}),(0,PL.jsxs)("div",{className:AV.cookie,children:[(0,PL.jsx)("p",{children:(0,PL.jsx)(vF.Z,{})}),(0,PL.jsx)("p",{children:"\ub9c8\uc74c\uc5d0 \ub4dc\ub294 \uac8c\uc784\uc744 \ucc3e\uc73c\uc168\uae38 \ubc14\ub798\uc694!"})]})]})})},RV={bgColor:"playstation_bgColor__M6I5Z",container:"playstation_container__PhW3z",separator:"playstation_separator__ugr4n",gameContainer:"playstation_gameContainer__WOcOD",textContainer:"playstation_textContainer__sr-JC",grid:"playstation_grid__luz65",gridContainer:"playstation_gridContainer__Eoxgh",gameItem:"playstation_gameItem__-W28a",gameImg:"playstation_gameImg__SfKL2",gameDetail:"playstation_gameDetail__kKsPA",gameTitle:"playstation_gameTitle__B1UpO",scoreContainer:"playstation_scoreContainer__FZdkQ",cookie:"playstation_cookie__qdhuv",loadComponent:"playstation_loadComponent__YCgVJ",scoreBox:"playstation_scoreBox__nM-f0"},OV=function(){var e=we(),t=(0,r.useState)(),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=(0,r.useState)(!1),u=(0,o.Z)(s,2),c=u[0],l=u[1],f=LF();(0,r.useEffect)((function(){vr.apps.length||vr.initializeApp(vL);var e=vr.database().ref("games"),t=setTimeout((function(){l(!0)}),5e3);return e.on("value",(function(e){var n=e.val(),r=Object.keys(n).reduce((function(e,t){var r=n[t];return r.platform.includes("PS")&&e.push(Xt({key:t},r)),e}),[]);a(r),clearTimeout(t)})),function(){e.off(),clearTimeout(t)}}),[]);return(0,PL.jsx)("div",{className:RV.bgColor,children:(0,PL.jsxs)("div",{className:RV.container,children:[(0,PL.jsxs)("div",{className:RV.textContainer,children:[(0,PL.jsx)("h1",{children:"Must Play Playstation Game"}),(0,PL.jsx)("h3",{children:"\ub2e4\uc74c\uc5d0 \ud50c\ub808\uc774\ud560 Playstation \ucd5c\uace0\uc758 \uba85\uc791\ub4e4\uc744 \uc18c\uac1c\ud574\ub4dc\ub9bd\ub2c8\ub2e4!"}),(0,PL.jsx)("div",{className:RV.separator})]}),(0,PL.jsxs)("div",{className:RV.listContainer,children:[(0,PL.jsx)("div",{className:RV.feature}),(0,PL.jsx)("div",{className:RV.gameContainer,children:i&&i.length>0?(0,PL.jsx)("div",{className:"".concat(RV.gridContainer," ").concat(RV.grid),children:i.map((function(t){return(0,PL.jsxs)("div",{onClick:function(){return function(t){f(TV(t)),e("/Detail/".concat(t.key))}(t)},className:RV.gameItem,children:[(0,PL.jsx)("div",{className:RV.gameImg,children:(0,PL.jsx)("img",{src:t.gameCover,alt:t.gameTitle})}),(0,PL.jsxs)("div",{className:RV.gameDetail,children:[(0,PL.jsx)("div",{className:RV.gameTitle,children:(0,PL.jsx)("h3",{children:t.gameTitle})}),(0,PL.jsxs)("div",{className:RV.scoreContainer,children:[(0,PL.jsx)("div",{className:RV.scoreBox,children:t.score}),(0,PL.jsx)("p",{children:"metascore"})]})]})]},t.key)}))}):(0,PL.jsx)("div",{children:c?(0,PL.jsxs)("div",{className:RV.loadComponent,children:[(0,PL.jsx)("img",{src:"".concat("","/img/load_fail.png")}),(0,PL.jsx)("p",{children:"\ub85c\ub4dc \uc2dc\uac04\uc774 \ucd08\uacfc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694!"})]}):(0,PL.jsxs)("div",{className:RV.loadComponent,children:[(0,PL.jsx)("img",{src:"".concat("","/img/triforce_load.gif")}),(0,PL.jsx)("p",{children:"\uad00\ub828 \uac8c\uc784\ub4e4\uc744 \ub85c\ub529\uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694."})]})})})]}),(0,PL.jsxs)("div",{className:RV.cookie,children:[(0,PL.jsx)("p",{children:(0,PL.jsx)(vF.Z,{})}),(0,PL.jsx)("p",{children:"\ub9c8\uc74c\uc5d0 \ub4dc\ub294 \uac8c\uc784\uc744 \ucc3e\uc73c\uc168\uae38 \ubc14\ub798\uc694!"})]})]})})},DV={pageContainer:"detail_pageContainer__wweB5",navCover:"detail_navCover__G7bhV",headContents:"detail_headContents__73mcm",grid:"detail_grid__qsrFS",fullContainer:"detail_fullContainer__xJffb",gridContainer:"detail_gridContainer__5f2Ct",gridContainerWide:"detail_gridContainerWide__2zQzQ",gameContainer:"detail_gameContainer__bVqeP",leftContainer:"detail_leftContainer__ECCsR",videoArea:"detail_videoArea__zsRJy",scoreboard:"detail_scoreboard__fsQaO",scoreboardText:"detail_scoreboardText__2RF+E",samerow:"detail_samerow__0hsty",scoreBox:"detail_scoreBox__gOe5T",rightContainer:"detail_rightContainer__4-BeY",textContents:"detail_textContents__D8sqC",withLink:"detail_withLink__N9Try",marginLeft:"detail_marginLeft__3-sVe",platform:"detail_platform__8cxx-",platformContainer:"detail_platformContainer__g45hP",platformItem:"detail_platformItem__hZsPh",PC:"detail_PC__uz2PZ",PS:"detail_PS__AIPdB",Switch:"detail_Switch__DW9Xg",release:"detail_release__RLHG4",description:"detail_description__Vmp5x",linkButton:"detail_linkButton__b9BAK",midContents:"detail_midContents__cetOF",tailContents:"detail_tailContents__e+Zsh"},LV=n(584),MV={componentArea:"review_componentArea__y5omN",contentsTitle:"review_contentsTitle__g6AU4",modalBg:"review_modalBg__gYhGA",modal:"review_modal__5A-Oy",active:"review_active__+raK8",modalContents:"review_modalContents__5HVJX",closeBtn:"review_closeBtn__csoar",container:"review_container__zbWht",banner:"review_banner__laPE6",textareaContainer:"review_textareaContainer__Xz7yR",buttonSet:"review_buttonSet__MyEEo",reviewContainer:"review_reviewContainer__G5tdT",overview:"review_overview__8dhYk",scoreOverview:"review_scoreOverview__vzAaS",scoreOverlay:"review_scoreOverlay__bmLDr",userScore:"review_userScore__fQfem",reviewOverview:"review_reviewOverview__powg6",reviewGraph:"review_reviewGraph__rJU5i",progressBar:"review_progressBar__lAm8a",reviewSum:"review_reviewSum__FKFb4",functionBtnContainer:"review_functionBtnContainer__lAoBT",filterBtn:"review_filterBtn__wLtkx",sortBtn:"review_sortBtn__Be1Wr",customSelect:"review_customSelect__7dFww",pageContainer:"review_pageContainer__biPcZ",reviewList:"review_reviewList__Pb1Ob",userInfoContainer:"review_userInfoContainer__w-z8T",scoreOverlay2:"review_scoreOverlay2__0+lmg",reviewBody:"review_reviewBody__u2hUC",deletButton:"review_deletButton__Xyyoa",page:"review_page__HJRnW"},jV=n(823),FV=function(e){var t=e.onRatingChange,n=(0,r.useState)(null),i=(0,o.Z)(n,2),a=i[0],s=i[1],u=(0,r.useState)(null),c=(0,o.Z)(u,2),l=c[0],f=c[1],h=function(e){return e>=1&&e<=3?"#ff6874":e>=4&&e<=7?"#ffbd3f":e>=8&&e<=10?"#00ce7a":"rgba(128, 128, 128, 0.4)"},d=function(){f(null)};return(0,PL.jsxs)("div",{className:"rating-slider",children:[(0,PL.jsx)("div",{className:"rate-circle",style:{backgroundColor:h(a)},children:(0,PL.jsx)("p",{children:null!==a?a:""})}),(0,PL.jsxs)("div",{className:"rating-container",children:[(0,PL.jsx)("p",{children:"\ub0b4 \uc810\uc218"}),(0,PL.jsx)("div",{className:"slider-container",children:function(){for(var e=[],n=function(n){var r,i={backgroundColor:(r=n,h(null!==l&&r<=l?l:a||l)),opacity:null!==a&&n>a||null!==l&&n>l?.4:1};e.push((0,PL.jsx)("div",{className:"slider-cell ".concat(h(n)),style:i,onMouseOver:function(){return function(e){f(e)}(n)},onMouseLeave:d,onClick:function(){return function(e){s(e),t(e)}(n)}},n))},r=1;r<=10;r++)n(r);return e}()})]})]})},UV=function(){var e=(0,r.useState)({reviewText:"",rating:0,isReviewSubmitted:!1,reviews:[],currentLength:0,isModalOpen:!1,filter:"all",sort:"desc"}),t=(0,o.Z)(e,2),n=t[0],i=t[1],a=n.reviewText,u=n.rating,c=n.isReviewSubmitted,l=n.reviews,f=n.currentLength,h=n.isModalOpen,d=n.filter,p=n.sort,v=JSON.parse(localStorage.getItem("itemData")),m=localStorage.getItem("userEmail");(0,r.useEffect)((function(){var e=v.gameTitle,t=vL.database().ref("reviews/".concat(e)),n=function(e){var t=e.val();if(t){var n=Object.entries(t).map((function(e){var t=(0,o.Z)(e,2);return Xt({id:t[0]},t[1])}));i((function(e){return Xt(Xt({},e),{},{reviews:n})}))}};return t.on("value",n),function(){t.off("value",n)}}),[v.gameTitle]);var y=function(){i((function(e){return Xt(Xt({},e),{},{reviewText:"",currentLength:0,isModalOpen:!1,isReviewSubmitted:!1})}))};(0,r.useEffect)((function(){var e=v.gameTitle,t=vL.database().ref("reviews/".concat(e)),n=function(e){var t=e.val();if(t){var n=Object.entries(t).map((function(e){var t=(0,o.Z)(e,2);return Xt({id:t[0]},t[1])}));i((function(e){return Xt(Xt({},e),{},{reviews:n})}));var r=n.length,a=r>0?n.reduce((function(e,t){return e+t.rating}),0)/r:0,s=Array.from({length:11},(function(e,t){return n.filter((function(e){return e.rating===t})).length}));w({reviewCount:r,averageRating:a,ratingsCount:s})}else w({reviewCount:0,averageRating:0,ratingsCount:Array(11).fill(0)})};return t.on("value",n),function(){t.off("value",n)}}),[v.gameTitle]);var g=(0,r.useState)({reviewCount:0,averageRating:0,ratingsCount:Array(11).fill(0)}),_=(0,o.Z)(g,2),k=_[0],w=_[1],b=function(e){i((function(t){return Xt(Xt({},t),{},{filter:e})})),A(1)},x=l.filter((function(e){switch(d){case"all":default:return!0;case"positive":return e.rating>=8;case"mixed":return e.rating>=4&&e.rating<=7;case"negative":return e.rating<=3}})),S=(0,s.Z)(x).sort((function(e,t){var n=function(e){return new Date(e)};switch(p){case"asc":return e.rating-t.rating;case"desc":return t.rating-e.rating;case"registration":var r=n(e.date),i=n(t.date);return r<i?1:r>i?-1:0;default:return 0}})),E=(0,r.useState)(1),T=(0,o.Z)(E,2),C=T[0],I=T[1],N=S.slice(6*(C-1),6*C),A=function(e){I(e)};return(0,PL.jsx)("div",{children:(0,PL.jsxs)("div",{className:MV.componentArea,children:[(0,PL.jsxs)("div",{className:MV.contentsTitle,children:[(0,PL.jsx)("h2",{children:"\uc720\uc800 \ub9ac\ubdf0"}),(0,PL.jsx)("button",{type:"button",onClick:function(){i((function(e){return Xt(Xt({},e),{},{isModalOpen:!0})}))},children:"\ub9ac\ubdf0 \ub0a8\uae30\uae30"})]}),h&&(0,PL.jsx)("div",{className:MV.modalBg,children:(0,PL.jsx)("div",{className:MV.modal,children:c?(0,PL.jsxs)("div",{children:[(0,PL.jsx)("div",{className:MV.closeBtn,children:(0,PL.jsx)("button",{onClick:y,children:(0,PL.jsx)(jV.Z,{})})}),(0,PL.jsx)("p",{style:{color:"green"},children:"\ub9ac\ubdf0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"})]}):(0,PL.jsxs)("div",{className:MV.modalContents,children:[(0,PL.jsx)("div",{className:MV.closeBtn,children:(0,PL.jsx)("button",{onClick:y,children:(0,PL.jsx)(jV.Z,{})})}),(0,PL.jsx)("h2",{children:"\ub9ac\ubdf0 \ub0a8\uae30\uae30"}),(0,PL.jsxs)("div",{className:MV.container,children:[(0,PL.jsxs)("div",{className:MV.banner,children:[(0,PL.jsx)("img",{src:v.gameCover,alt:"gameCover"}),(0,PL.jsxs)("p",{children:[(0,PL.jsx)("span",{style:{fontWeight:"bold"},children:v.gameTitle}),"\uc5d0 \ub300\ud55c \ub9ac\ubdf0\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694!"]})]}),(0,PL.jsx)("div",{className:MV.sliderContainer,children:(0,PL.jsx)(FV,{onRatingChange:function(e){i((function(t){return Xt(Xt({},t),{},{rating:e})}))}})}),(0,PL.jsxs)("div",{className:MV.textareaContainer,children:[(0,PL.jsx)("textarea",{placeholder:"\uc774\uacf3\uc5d0 \ub9ac\ubdf0\ub97c \uc791\uc131\ud574\uc8fc\uc138\uc694",rows:4,value:a,onChange:function(e){var t=e.target.value;t.length<=200&&i((function(e){return Xt(Xt({},e),{},{reviewText:t,currentLength:t.length})}))},maxLength:200}),(0,PL.jsxs)("p",{children:[f,"/200"]})]}),(0,PL.jsxs)("div",{className:MV.buttonSet,children:[(0,PL.jsx)("button",{onClick:y,children:"\uc791\uc131 \ucde8\uc18c"}),(0,PL.jsx)("button",{onClick:function(){if("true"===localStorage.getItem("emailCheck")){var e=v.gameTitle,t={text:a,rating:u,user:localStorage.getItem("userDisplayName"),email:localStorage.getItem("userEmail"),date:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};vL.database().ref("reviews/".concat(e)).push(t).then((function(){i((function(e){return Xt(Xt({},e),{},{reviewText:"",rating:0,isReviewSubmitted:!0})})),console.log("\ub9ac\ubdf0 \uc800\uc7a5 \uc131\uacf5")})).catch((function(e){console.error("\ub9ac\ubdf0 \uc800\uc7a5 \uc5d0\ub7ec:",e)}))}else alert("\ub85c\uadf8\uc778 \ud6c4 \ub9ac\ubdf0\ub97c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),console.log("\ub85c\uadf8\uc778 \ud6c4 \ub9ac\ubdf0\ub97c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")},children:"\ub9ac\ubdf0 \uc81c\ucd9c"})]})]})]})})}),(0,PL.jsxs)("div",{className:MV.reviewContainer,children:[(0,PL.jsxs)("div",{className:MV.overview,children:[(0,PL.jsxs)("div",{className:MV.scoreOverview,children:[(0,PL.jsxs)("div",{className:MV.userScore,children:[(0,PL.jsx)("h3",{children:"\uc720\uc800 \ud3c9\uc810"}),(0,PL.jsx)("div",{className:MV.userAver,children:(0,PL.jsx)("p",{children:k.averageRating.toFixed(1)>=1&&k.averageRating.toFixed(1)<2?"\ub9e4\uc6b0 \ubd80\uc815\uc801":k.averageRating.toFixed(1)>=2&&k.averageRating.toFixed(1)<4?"\ub300\uccb4\ub85c \ubd80\uc815\uc801":k.averageRating.toFixed(1)>=4&&k.averageRating.toFixed(1)<7?"\ubcf4\ud1b5":k.averageRating.toFixed(1)>=7&&k.averageRating.toFixed(1)<9?"\ub300\uccb4\ub85c \uae0d\uc815\uc801":"\ub9e4\uc6b0 \uae0d\uc815\uc801"})})]}),(0,PL.jsx)("div",{className:MV.scoreOverlay,style:{backgroundColor:k.averageRating.toFixed(1)>=1&&k.averageRating.toFixed(1)<4?"#ff6874":k.averageRating.toFixed(1)>=4&&k.averageRating.toFixed(1)<8?"#ffbd3f":"#00ce7a"},children:k.averageRating.toFixed(1)})]}),(0,PL.jsx)("div",{className:MV.reviewOverview,children:(0,PL.jsxs)("div",{children:[(0,PL.jsx)("div",{className:MV.reviewGraph,children:k.ratingsCount.map((function(e,t){return(0,PL.jsx)("div",{className:MV.progressBar,style:{width:"".concat(e/k.reviewCount*100,"%"),backgroundColor:(n=t,n>=1&&n<=3?"#ff6874":n>=4&&n<=7?"#ffbd3f":n>=8&&n<=10?"#00ce7a":"gray")}},t);var n}))}),(0,PL.jsxs)("div",{className:MV.reviewSum,children:[(0,PL.jsxs)("p",{children:["\ubd80\uc815"," ",k.ratingsCount.slice(1,4).reduce((function(e,t){return e+t}),0),"\uba85"]}),(0,PL.jsxs)("p",{children:["\ubcf4\ud1b5"," ",k.ratingsCount.slice(4,8).reduce((function(e,t){return e+t}),0),"\uba85"]}),(0,PL.jsxs)("p",{children:["\uae0d\uc815"," ",k.ratingsCount.slice(8,11).reduce((function(e,t){return e+t}),0),"\uba85"]})]})]})})]}),(0,PL.jsxs)("div",{className:MV.reviewList,children:[(0,PL.jsxs)("div",{className:MV.functionBtnContainer,children:[(0,PL.jsxs)("div",{className:MV.filterBtn,children:[(0,PL.jsx)("button",{className:"all"===n.filter?MV.active:"",onClick:function(){return b("all")},children:"\ubaa8\ub4e0 \ub9ac\ubdf0"}),(0,PL.jsx)("button",{className:"positive"===n.filter?MV.active:"",onClick:function(){return b("positive")},children:"\uae0d\uc815\uc801 \ub9ac\ubdf0"}),(0,PL.jsx)("button",{className:"mixed"===n.filter?MV.active:"",onClick:function(){return b("mixed")},children:"\ubcf5\ud569\uc801 \ub9ac\ubdf0"}),(0,PL.jsx)("button",{className:"negative"===n.filter?MV.active:"",onClick:function(){return b("negative")},children:"\ubd80\uc815\uc801 \ub9ac\ubdf0"})]}),(0,PL.jsx)("div",{className:MV.sortBtn,children:(0,PL.jsx)("div",{className:MV.customSelect,children:(0,PL.jsxs)("select",{value:p,onChange:function(e){i((function(t){return Xt(Xt({},t),{},{sort:e.target.value})}))},children:[(0,PL.jsx)("option",{value:"asc",children:"\ub0ae\uc740\uc21c"}),(0,PL.jsx)("option",{value:"desc",children:"\ub192\uc740\uc21c"}),(0,PL.jsx)("option",{value:"registration",children:"\ucd5c\uc2e0\uc21c"})]})})})]}),(0,PL.jsxs)("div",{className:MV.pageContainer,children:[(0,PL.jsx)("ul",{children:N.map((function(e){return(0,PL.jsxs)("li",{children:[(0,PL.jsxs)("div",{className:MV.userInfoContainer,children:[(0,PL.jsx)("div",{className:MV.scoreOverlay2,style:{backgroundColor:e.rating>=1&&e.rating<4?"#ff6874":e.rating>=4&&e.rating<8?"#ffbd3f":"#00ce7a"},children:e.rating}),(0,PL.jsx)("h2",{children:e.user}),(0,PL.jsx)("p",{children:e.date})]}),(0,PL.jsx)("div",{className:MV.reviewBody,children:(0,PL.jsx)("p",{children:e.text})}),(0,PL.jsx)("div",{className:MV.deletButton,children:m===e.email&&(0,PL.jsx)("button",{onClick:function(){return function(e){var t=v.gameTitle;vL.database().ref("reviews/".concat(t,"/").concat(e)).remove().then((function(){var t=l.filter((function(t){return t.id!==e}));i((function(e){return Xt(Xt({},e),{},{reviews:t})})),console.log("\ub9ac\ubdf0 \uc0ad\uc81c \uc131\uacf5"),console.log(e,"\uc758 \ub9ac\ubdf0 \uc0ad\uc81c\ub97c \uc9c4\ud589\ud588\uc2b5\ub2c8\ub2e4.")})).catch((function(e){console.error("\ub9ac\ubdf0 \uc0ad\uc81c \uc5d0\ub7ec:",e)}))}(e.id)},children:"\ub9ac\ubdf0 \uc0ad\uc81c"})})]},e.id)}))}),(0,PL.jsx)("div",{className:MV.page,children:Array.from({length:Math.ceil(S.length/6)},(function(e,t){return(0,PL.jsx)("span",{onClick:function(){return A(t+1)},style:{cursor:"pointer",margin:"0.5rem",textDecoration:C===t+1?"underline":"none"},children:t+1},t+1)}))})]})]})]})]})})},VV="streams_componentArea__qb2Ig",BV="streams_contentsTitle__esS1V",qV="streams_samerow__KaUfM",zV="streams_streamContainer__1ntvT",WV="streams_forNone__U3Cg4",KV="streams_thumbnail__PLeZ4",HV="streams_liveInfo__Xiq37",GV="streams_streamerInfo__5zFhA",ZV="streams_streamerInfoText__jDqPg",QV="streams_twitchButton__MgknM";function $V(e,t){return function(){return e.apply(t,arguments)}}var YV,JV=Object.prototype.toString,XV=Object.getPrototypeOf,eB=(YV=Object.create(null),function(e){var t=JV.call(e);return YV[t]||(YV[t]=t.slice(8,-1).toLowerCase())}),tB=function(e){return e=e.toLowerCase(),function(t){return eB(t)===e}},nB=function(e){return function(t){return typeof t===e}},rB=Array.isArray,iB=nB("undefined");var aB=tB("ArrayBuffer");var oB=nB("string"),sB=nB("function"),uB=nB("number"),cB=function(e){return null!==e&&"object"===typeof e},lB=function(e){if("object"!==eB(e))return!1;var t=XV(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fB=tB("Date"),hB=tB("File"),dB=tB("Blob"),pB=tB("FileList"),vB=tB("URLSearchParams");function mB(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),rB(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function yB(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var gB="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,_B=function(e){return!iB(e)&&e!==gB};var kB,wB=(kB="undefined"!==typeof Uint8Array&&XV(Uint8Array),function(e){return kB&&e instanceof kB}),bB=tB("HTMLFormElement"),xB=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),SB=tB("RegExp"),EB=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};mB(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},TB="abcdefghijklmnopqrstuvwxyz",CB="0123456789",IB={DIGIT:CB,ALPHA:TB,ALPHA_DIGIT:TB+TB.toUpperCase()+CB};var NB=tB("AsyncFunction"),AB={isArray:rB,isArrayBuffer:aB,isBuffer:function(e){return null!==e&&!iB(e)&&null!==e.constructor&&!iB(e.constructor)&&sB(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||sB(e.append)&&("formdata"===(t=eB(e))||"object"===t&&sB(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&aB(e.buffer)},isString:oB,isNumber:uB,isBoolean:function(e){return!0===e||!1===e},isObject:cB,isPlainObject:lB,isUndefined:iB,isDate:fB,isFile:hB,isBlob:dB,isRegExp:SB,isFunction:sB,isStream:function(e){return cB(e)&&sB(e.pipe)},isURLSearchParams:vB,isTypedArray:wB,isFileList:pB,forEach:mB,merge:function e(){for(var t=(_B(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&yB(n,i)||i;lB(n[a])&&lB(r)?n[a]=e(n[a],r):lB(r)?n[a]=e({},r):rB(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&mB(arguments[i],r);return n},extend:function(e,t,n){return mB(t,(function(t,r){n&&sB(t)?e[r]=$V(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&XV(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:eB,kindOfTest:tB,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(rB(e))return e;var t=e.length;if(!uB(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:bB,hasOwnProperty:xB,hasOwnProp:xB,reduceDescriptors:EB,freezeMethods:function(e){EB(e,(function(t,n){if(sB(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];sB(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return rB(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:yB,global:gB,isContextDefined:_B,ALPHABET:IB,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IB.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&sB(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(cB(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=rB(n)?[]:{};return mB(n,(function(t,n){var a=e(t,r+1);!iB(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:NB,isThenable:function(e){return e&&(cB(e)||sB(e))&&sB(e.then)&&sB(e.catch)}};function PB(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}AB.inherits(PB,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:AB.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var RB=PB.prototype,OB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){OB[e]={value:e}})),Object.defineProperties(PB,OB),Object.defineProperty(RB,"isAxiosError",{value:!0}),PB.from=function(e,t,n,r,i,a){var o=Object.create(RB);return AB.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),PB.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var DB=PB;function LB(e){return AB.isPlainObject(e)||AB.isArray(e)}function MB(e){return AB.endsWith(e,"[]")?e.slice(0,-2):e}function jB(e,t,n){return e?e.concat(t).map((function(e,t){return e=MB(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var FB=AB.toFlatObject(AB,{},null,(function(e){return/^is[A-Z]/.test(e)}));var UB=function(e,t,n){if(!AB.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=AB.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!AB.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&AB.isSpecCompliantForm(t);if(!AB.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(AB.isDate(e))return e.toISOString();if(!s&&AB.isBlob(e))throw new DB("Blob is not supported. Use a Buffer instead.");return AB.isArrayBuffer(e)||AB.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(AB.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(AB.isArray(e)&&function(e){return AB.isArray(e)&&!e.some(LB)}(e)||(AB.isFileList(e)||AB.endsWith(n,"[]"))&&(s=AB.toArray(e)))return n=MB(n),s.forEach((function(e,r){!AB.isUndefined(e)&&null!==e&&t.append(!0===o?jB([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!LB(e)||(t.append(jB(i,n,a),u(e)),!1)}var l=[],f=Object.assign(FB,{defaultVisitor:c,convertValue:u,isVisitable:LB});if(!AB.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!AB.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),AB.forEach(n,(function(n,a){!0===(!(AB.isUndefined(n)||null===n)&&i.call(t,n,AB.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function VB(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function BB(e,t){this._pairs=[],e&&UB(e,this,t)}var qB=BB.prototype;qB.append=function(e,t){this._pairs.push([e,t])},qB.toString=function(e){var t=e?function(t){return e.call(this,t,VB)}:VB;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var zB=BB;function WB(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KB(e,t,n){if(!t)return e;var r,i=n&&n.encode||WB,a=n&&n.serialize;if(r=a?a(t,n):AB.isURLSearchParams(t)?t.toString():new zB(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var HB,GB=function(){function e(){u(this,e),this.handlers=[]}return f(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){AB.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ZB=GB,QB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$B={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:zB,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},YB="undefined"!==typeof window&&"undefined"!==typeof document,JB=(HB="undefined"!==typeof navigator&&navigator.product,YB&&["ReactNative","NativeScript","NS"].indexOf(HB)<0),XB="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,eq=Xt(Xt({},t),$B);var tq=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&AB.isArray(r)?r.length:a,s?(AB.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&AB.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&AB.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(AB.isFormData(e)&&AB.isFunction(e.entries)){var n={};return AB.forEachEntry(e,(function(e,r){t(function(e){return AB.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var nq={transitional:QB,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=AB.isObject(e);if(a&&AB.isHTMLForm(e)&&(e=new FormData(e)),AB.isFormData(e))return i&&i?JSON.stringify(tq(e)):e;if(AB.isArrayBuffer(e)||AB.isBuffer(e)||AB.isStream(e)||AB.isFile(e)||AB.isBlob(e))return e;if(AB.isArrayBufferView(e))return e.buffer;if(AB.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return UB(e,new eq.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return eq.isNode&&AB.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=AB.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return UB(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(AB.isString(e))try{return(t||JSON.parse)(e),AB.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||nq.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&AB.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw DB.from(a,DB.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eq.classes.FormData,Blob:eq.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};AB.forEach(["delete","get","head","post","put","patch"],(function(e){nq.headers[e]={}}));var rq=nq,iq=AB.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aq=Symbol("internals");function oq(e){return e&&String(e).trim().toLowerCase()}function sq(e){return!1===e||null==e?e:AB.isArray(e)?e.map(sq):String(e)}function uq(e,t,n,r,i){return AB.isFunction(r)?r.call(this,t,n):(i&&(t=n),AB.isString(t)?AB.isString(r)?-1!==t.indexOf(r):AB.isRegExp(r)?r.test(t):void 0:void 0)}var cq=function(e,t){function n(e){u(this,n),e&&this.set(e)}return f(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=oq(t);if(!i)throw new Error("header name must be a non-empty string");var a=AB.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=sq(e))}var a=function(e,t){return AB.forEach(e,(function(e,n){return i(e,n,t)}))};return AB.isPlainObject(e)||e instanceof this.constructor?a(e,t):AB.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&iq[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=oq(e)){var n=AB.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(AB.isFunction(t))return t.call(this,r,n);if(AB.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=oq(e)){var n=AB.findKey(this,e);return!(!n||void 0===this[n]||t&&!uq(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=oq(e)){var i=AB.findKey(n,e);!i||t&&!uq(0,n[i],i,t)||(delete n[i],r=!0)}}return AB.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!uq(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return AB.forEach(this,(function(r,i){var a=AB.findKey(n,i);if(a)return t[a]=sq(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=sq(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return AB.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&AB.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,o.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[aq]=this[aq]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=oq(e);t[r]||(!function(e,t){var n=AB.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return AB.isArray(e)?e.forEach(r):r(e),this}}]),n}();cq.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),AB.reduceDescriptors(cq.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),AB.freezeMethods(cq);var lq=cq;function fq(e,t){var n=this||rq,r=t||n,i=lq.from(r.headers),a=r.data;return AB.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function hq(e){return!(!e||!e.__CANCEL__)}function dq(e,t,n){DB.call(this,null==e?"canceled":e,DB.ERR_CANCELED,t,n),this.name="CanceledError"}AB.inherits(dq,DB,{__CANCEL__:!0});var pq=dq;var vq=eq.hasStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[e+"="+encodeURIComponent(t)];AB.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),AB.isString(r)&&o.push("path="+r),AB.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function mq(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var yq=eq.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=AB.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var gq=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function _q(e,t){var n=0,r=gq(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var kq="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a=e.data,o=lq.from(e.headers).normalize(),u=e.responseType,c=e.withXSRFToken;function l(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(AB.isFormData(a))if(eq.hasStandardBrowserEnv||eq.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(i=o.getContentType())){var f=T(i?i.split(";").map((function(e){return e.trim()})).filter(Boolean):[]),h=f[0],d=f.slice(1);o.setContentType([h||"multipart/form-data"].concat((0,s.Z)(d)).join("; "))}var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(v+":"+m))}var y=mq(e.baseURL,e.url);function g(){if(p){var r=lq.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new DB("Request failed with status code "+n.status,[DB.ERR_BAD_REQUEST,DB.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}}if(p.open(e.method.toUpperCase(),KB(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new DB("Request aborted",DB.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new DB("Network Error",DB.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||QB;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new DB(t,r.clarifyTimeoutError?DB.ETIMEDOUT:DB.ECONNABORTED,e,p)),p=null},eq.hasStandardBrowserEnv&&(c&&AB.isFunction(c)&&(c=c(e)),c||!1!==c&&yq(y))){var _=e.xsrfHeaderName&&e.xsrfCookieName&&vq.read(e.xsrfCookieName);_&&o.set(e.xsrfHeaderName,_)}void 0===a&&o.setContentType(null),"setRequestHeader"in p&&AB.forEach(o.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),AB.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),u&&"json"!==u&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",_q(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",_q(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){p&&(n(!t||t.type?new pq(null,e,p):t),p.abort(),p=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var k=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(y);k&&-1===eq.protocols.indexOf(k)?n(new DB("Unsupported protocol "+k+":",DB.ERR_BAD_REQUEST,e)):p.send(a||null)}))},wq={http:null,xhr:kq};AB.forEach(wq,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var bq=function(e){return"- ".concat(e)},xq=function(e){return AB.isFunction(e)||null===e||!1===e},Sq=function(e){for(var t,n,r=(e=AB.isArray(e)?e:[e]).length,i={},a=0;a<r;a++){var s=void 0;if(n=t=e[a],!xq(t)&&void 0===(n=wq[(s=String(t)).toLowerCase()]))throw new DB("Unknown adapter '".concat(s,"'"));if(n)break;i[s||"#"+a]=n}if(!n){var u=Object.entries(i).map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),c=r?u.length>1?"since :\n"+u.map(bq).join("\n"):" "+bq(u[0]):"as no adapter specified";throw new DB("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n};function Eq(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pq(null,e)}function Tq(e){return Eq(e),e.headers=lq.from(e.headers),e.data=fq.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Sq(e.adapter||rq.adapter)(e).then((function(t){return Eq(e),t.data=fq.call(e,e.transformResponse,t),t.headers=lq.from(t.headers),t}),(function(t){return hq(t)||(Eq(e),t&&t.response&&(t.response.data=fq.call(e,e.transformResponse,t.response),t.response.headers=lq.from(t.response.headers))),Promise.reject(t)}))}var Cq=function(e){return e instanceof lq?e.toJSON():e};function Iq(e,t){t=t||{};var n={};function r(e,t,n){return AB.isPlainObject(e)&&AB.isPlainObject(t)?AB.merge.call({caseless:n},e,t):AB.isPlainObject(t)?AB.merge({},t):AB.isArray(t)?t.slice():t}function i(e,t,n){return AB.isUndefined(t)?AB.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!AB.isUndefined(t))return r(void 0,t)}function o(e,t){return AB.isUndefined(t)?AB.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(Cq(e),Cq(t),!0)}};return AB.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);AB.isUndefined(o)&&a!==s||(n[r]=o)})),n}var Nq="1.6.2",Aq={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Aq[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Pq={};Aq.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new DB(r(i," has been removed"+(t?" in "+t:"")),DB.ERR_DEPRECATED);return t&&!Pq[i]&&(Pq[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Rq={assertOptions:function(e,t,n){if("object"!==typeof e)throw new DB("options must be an object",DB.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new DB("option "+a+" must be "+u,DB.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new DB("Unknown option "+a,DB.ERR_BAD_OPTION)}},validators:Aq},Oq=Rq.validators,Dq=function(){function e(t){u(this,e),this.defaults=t,this.interceptors={request:new ZB,response:new ZB}}return f(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=Iq(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&Rq.assertOptions(r,{silentJSONParsing:Oq.transitional(Oq.boolean),forcedJSONParsing:Oq.transitional(Oq.boolean),clarifyTimeoutError:Oq.transitional(Oq.boolean)},!1),null!=i&&(AB.isFunction(i)?t.paramsSerializer={serialize:i}:Rq.assertOptions(i,{encode:Oq.function,serialize:Oq.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&AB.merge(a.common,a[t.method]);a&&AB.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=lq.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[Tq.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(JI){m.call(this,JI);break}}try{c=Tq.call(this,p)}catch(JI){return Promise.reject(JI)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return KB(mq((e=Iq(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();AB.forEach(["delete","get","head","options"],(function(e){Dq.prototype[e]=function(t,n){return this.request(Iq(n||{},{method:e,url:t,data:(n||{}).data}))}})),AB.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Iq(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Dq.prototype[e]=t(),Dq.prototype[e+"Form"]=t(!0)}));var Lq=Dq,Mq=function(){function e(t){if(u(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new pq(e,t,i),n(r.reason))}))}return f(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),jq=Mq;var Fq={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fq).forEach((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];Fq[r]=n}));var Uq=Fq;var Vq=function e(t){var n=new Lq(t),r=$V(Lq.prototype.request,n);return AB.extend(r,Lq.prototype,n,{allOwnKeys:!0}),AB.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Iq(t,n))},r}(rq);Vq.Axios=Lq,Vq.CanceledError=pq,Vq.CancelToken=jq,Vq.isCancel=hq,Vq.VERSION=Nq,Vq.toFormData=UB,Vq.AxiosError=DB,Vq.Cancel=Vq.CanceledError,Vq.all=function(e){return Promise.all(e)},Vq.spread=function(e){return function(t){return e.apply(null,t)}},Vq.isAxiosError=function(e){return AB.isObject(e)&&!0===e.isAxiosError},Vq.mergeConfig=Iq,Vq.AxiosHeaders=lq,Vq.formToJSON=function(e){return tq(AB.isHTMLForm(e)?new FormData(e):e)},Vq.getAdapter=Sq,Vq.HttpStatusCode=Uq,Vq.default=Vq;var Bq=Vq.create({headers:{"Client-ID":"ns08s33m38e5xxpc3387v2blopa9hp",Authorization:"Bearer ".concat("nm1szcocbwgr6x35efttsncviwqjep")}});var qq=function(){var e=(0,r.useState)([]),t=(0,o.Z)(e,2),n=t[0],i=t[1],a=(0,r.useState)(""),s=(0,o.Z)(a,2),u=s[0],c=s[1],l=JSON.parse(localStorage.getItem("itemData"));return(0,r.useEffect)((function(){var e=function(){var e=Ut(jt().mark((function e(){var t,n,r,a,o;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bq.get("https://api.twitch.tv/helix/games",{params:{id:l.gameId}});case 3:return n=e.sent,r=null===(t=n.data.data[0])||void 0===t?void 0:t.name.toLowerCase().replace(/\s+/g,"-").replace(/:/g,"").replace(/'/g,""),c(r),console.log(r),e.next=9,Bq.get("https://api.twitch.tv/helix/streams",{params:{game_id:l.gameId,first:10}});case 9:return a=e.sent,e.next=12,Promise.all(a.data.data.map(function(){var e=Ut(jt().mark((function e(t){var n,r,i;return jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bq.get("https://api.twitch.tv/helix/users",{params:{id:t.user_id}});case 2:return r=e.sent,i=null===(n=r.data.data[0])||void 0===n?void 0:n.profile_image_url,e.abrupt("return",Xt(Xt({},t),{},{thumbnail_url:t.thumbnail_url.replace("{width}","440").replace("{height}","248"),profile_image_url:i}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:o=e.sent,console.log(o),i(o),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error fetching data:",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[l.gameId]),(0,PL.jsx)("div",{children:(0,PL.jsxs)("div",{className:VV,children:[(0,PL.jsxs)("div",{className:BV,children:[(0,PL.jsx)("h2",{children:"\uad00\ub828 \ubc29\uc1a1"}),(0,PL.jsxs)("div",{className:qV,children:[(0,PL.jsx)(LV.Z,{sx:{fontSize:13}}),(0,PL.jsx)("p",{children:"\ud604\uc7ac \ud2b8\uc704\uce58\uc5d0\uc11c \ubc29\uc1a1\uc911\uc778 \uc0c1\uc704 10\uac1c\uc758 \uc2a4\ud2b8\ub9bc\uc744 \ubcf4\uc5ec\ub4dc\ub9bd\ub2c8\ub2e4."})]})]}),(0,PL.jsx)("div",{className:zV,children:0===n.length?(0,PL.jsxs)("div",{className:WV,children:[(0,PL.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,PL.jsx)("path",{fill:"currentColor",d:"M11.64 5.93h1.43v4.28h-1.43m3.93-4.28H17v4.28h-1.43M7 2L3.43 5.57v12.86h4.28V22l3.58-3.57h2.85L20.57 12V2m-1.43 9.29l-2.85 2.85h-2.86l-2.5 2.5v-2.5H7.71V3.43h11.43Z"})}),(0,PL.jsxs)("p",{children:["\ud604\uc7ac ",l.gameTitle,"\uc744(\ub97c) \ubc29\uc1a1\uc911\uc778 \uc2a4\ud2b8\ub9ac\uba38\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."]})]}):(0,PL.jsxs)("ul",{children:[n.map((function(e,t){return(0,PL.jsxs)("li",{onClick:function(){return function(e){var t="https://twitch.tv/".concat(e.user_login);window.open(t,"_blank")}(e)},children:[(0,PL.jsxs)("div",{className:KV,children:[(0,PL.jsx)("img",{src:e.thumbnail_url,alt:"Thumbnail ".concat(t)}),(0,PL.jsxs)("div",{className:HV,children:[(0,PL.jsx)("div",{children:(0,PL.jsx)("span",{children:"\uc0dd\ubc29\uc1a1"})}),(0,PL.jsx)("div",{children:(0,PL.jsxs)("p",{children:["\uc2dc\uccad\uc790 ",e.viewer_count.toLocaleString("ko-KR"),"\uba85"]})})]})]}),(0,PL.jsxs)("div",{className:GV,children:[(0,PL.jsx)("img",{src:e.profile_image_url,alt:"Streamer Profile"}),(0,PL.jsxs)("div",{className:ZV,children:[(0,PL.jsx)("strong",{children:e.title}),(0,PL.jsx)("p",{children:e.user_name})]})]})]},e.id)})),(0,PL.jsx)("li",{children:(0,PL.jsx)("div",{className:QV,children:(0,PL.jsx)("a",{href:"https://twitch.tv/directory/category/".concat(u),target:"_blank",rel:"noopener noreferrer",children:(0,PL.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,PL.jsx)("path",{fill:"currentColor",d:"M11.64 5.93h1.43v4.28h-1.43m3.93-4.28H17v4.28h-1.43M7 2L3.43 5.57v12.86h4.28V22l3.58-3.57h2.85L20.57 12V2m-1.43 9.29l-2.85 2.85h-2.86l-2.5 2.5v-2.5H7.71V3.43h11.43Z"})})})})})]})})]})})},zq=function(e){var t=localStorage.getItem("itemData");t=JSON.parse(t);return(0,PL.jsx)("div",{children:(0,PL.jsxs)("div",{className:DV.pageContainer,children:[(0,PL.jsx)("div",{className:DV.navCover}),(0,PL.jsx)("div",{className:"".concat(DV.headContents," ").concat(DV.gridContainer),children:(0,PL.jsxs)("div",{className:DV.fullContainer,children:[(0,PL.jsx)("div",{className:DV.gridContainerWide,children:(0,PL.jsxs)("p",{children:["\uac1c\ubc1c \xb7 ",t.develop]})}),(0,PL.jsxs)("div",{className:"".concat(DV.gameContainer," ").concat(DV.grid),children:[(0,PL.jsxs)("div",{className:DV.leftContainer,children:[(0,PL.jsx)("div",{className:DV.videoArea,children:(0,PL.jsx)("iframe",{src:t.gameVideo,frameBorder:"0",title:"gameVideo"})}),(0,PL.jsxs)("div",{className:DV.scoreboard,children:[(0,PL.jsxs)("div",{className:DV.scoreboardText,children:[(0,PL.jsx)("h2",{children:"\uba54\ud0c0\uc2a4\ucf54\uc5b4"}),(0,PL.jsxs)("div",{className:DV.samerow,children:[(0,PL.jsx)(LV.Z,{sx:{fontSize:13}}),(0,PL.jsx)("p",{children:"Metacritic\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc791\ud488\uc5d0 \ub300\ud55c \ud3c9\uac00\ub97c \uc885\ud569\ud55c \uc810\uc218\uc785\ub2c8\ub2e4."})]})]}),(0,PL.jsx)("div",{className:DV.scoreBox,children:t.score})]}),(0,PL.jsx)("div",{className:DV.gridContainerNarrow})]}),(0,PL.jsx)("div",{className:DV.rightContainer,children:(0,PL.jsxs)("div",{className:DV.textContents,children:[(0,PL.jsxs)("div",{className:DV.withLink,children:[(0,PL.jsx)("h1",{children:t.gameTitle}),(0,PL.jsxs)("div",{className:"".concat(DV.release," ").concat(DV.marginLeft),children:[(0,PL.jsx)("h3",{children:"\ubc1c\ub9e4\uc77c"}),(0,PL.jsx)("p",{children:t.gameDate})]}),(0,PL.jsxs)("div",{className:"".concat(DV.platform," ").concat(DV.marginLeft),children:[(0,PL.jsx)("h3",{children:"\ud50c\ub7ab\ud3fc"}),t.platform&&t.platform.length>0&&(0,PL.jsx)("div",{className:DV.platformContainer,children:t.platform.map((function(e,t){return(0,PL.jsx)("p",{className:"".concat(DV.platformItem," ").concat(DV[e]),children:e},t)}))})]})]}),(0,PL.jsx)("div",{className:DV.description,children:(0,PL.jsx)("p",{children:t.gameDescript})}),(0,PL.jsx)("div",{className:DV.linkButton,onClick:function(){t.steamLink?window.open(t.steamLink,"_blank"):console.error("Steam Link is not available.")},children:(0,PL.jsx)("span",{children:"\uc2a4\ud300\uc5d0\uc11c \ubcf4\uae30"})})]})})]})]})}),(0,PL.jsx)("div",{className:"".concat(DV.midContents," ").concat(DV.gridContainer),children:(0,PL.jsx)(UV,{})}),(0,PL.jsx)("div",{className:DV.tailContents,children:(0,PL.jsx)(qq,{})})]})})},Wq="about_container__hSAU5",Kq="about_about__FH-i6",Hq="about_meta__6pZBj",Gq="about_mpg__iF08-",Zq="about_contact__rD3+y",Qq="about_contactText__qh3zV",$q="about_contactList__TbeaI",Yq=function(){return(0,PL.jsxs)("div",{className:Wq,children:[(0,PL.jsxs)("div",{className:Kq,children:[(0,PL.jsxs)("div",{children:[(0,PL.jsx)("h2",{children:"Meta Critic Must Play"}),(0,PL.jsxs)("div",{className:Hq,children:[(0,PL.jsx)("img",{src:"".concat("","/img/must-play.png"),alt:"must play game"}),(0,PL.jsx)("p",{children:'\uac8c\uc784 \ud3c9\uac00 \ubc0f \ub9ac\ubdf0 \ud50c\ub7ab\ud3fc\uc5d0\uc11c \ud2b9\ubcc4\ud788 \uad8c\uc7a5\ud558\ub294 \uac8c\uc784\uc744 \ub098\ud0c0\ub0c5\ub2c8\ub2e4. \uc774\ub294 \uac8c\uc784 \ud3c9\ub860\uac00 \ubc0f \uc0ac\uc6a9\uc790 \ud3c9\uac00\ub97c \uc885\ud569\ud558\uc5ec \ub3c4\ucd9c\ub41c \uacb0\uacfc\ub85c, \ub192\uc740 \ud488\uc9c8\uacfc \uc5d4\ud130\ud14c\uc778\uba3c\ud2b8\uac00 \uae30\ub300\ub418\ub294 \uac8c\uc784\uc744 \uac15\uc870\ud569\ub2c8\ub2e4. "Must Play"\uc5d0 \uc120\uc815\ub41c \uac8c\uc784\ub4e4\uc740 \uadf8\ub4e4\uc758 \ub3c5\ud2b9\ud55c \uacbd\ud5d8, \ud765\ubbf8\uc9c4\uc9c4\ud55c \uc2a4\ud1a0\ub9ac, \ud639\uc740 \ud601\uc2e0\uc801\uc778 \uac8c\uc784 \ud50c\ub808\uc774\ub85c \uc8fc\ubaa9\ubc1b\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ucd94\ucc9c\uc740 \uac8c\uc774\uba38\ub4e4\uc774 \ud6cc\ub96d\ud55c \uac8c\uc784\uc744 \uc120\ud0dd\ud560 \ub54c \uc720\uc6a9\ud55c \uc9c0\uce68\uc73c\ub85c \ud65c\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "Must Play"\ub85c \uc120\uc815\ub41c \uac8c\uc784\uc740 \uba54\ud0c0 \ud06c\ub9ac\ud2f1 \uc0ac\uc6a9\uc790\ub4e4\uc5d0\uac8c \ub192\uc740 \uae30\ub300\uc640 \uae0d\uc815\uc801\uc778 \ud3c9\uac00\ub97c \ubc1b\uc544, \uac8c\uc784 \ucee4\ubba4\ub2c8\ud2f0\uc5d0\uc11c \ud070 \uc8fc\ubaa9\uc744 \ubc1b\uace0 \uc788\uc74c\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4.'})]})]}),(0,PL.jsxs)("div",{children:[(0,PL.jsx)("h2",{children:"Must Play Game"}),(0,PL.jsxs)("div",{className:Gq,children:[(0,PL.jsx)("img",{src:"".concat("","/img/logo.png"),alt:"must play game"}),(0,PL.jsxs)("div",{children:[(0,PL.jsx)("p",{children:"must play game\uc740 \uc774\ub7ec\ud55c \uba54\ud0c0\ud06c\ub9ac\ud2f1\uc5d0\uc11c \uc120\uc815\ud55c \ucd5c\uace0\uc758 \uac8c\uc784\ub4e4\uc744 \ucd94\ucc9c\ud574\uc8fc\ub294 \uc6f9 \uc0ac\uc774\ud2b8\uc785\ub2c8\ub2e4. PC, Playstation, Switch\uc758 \ud50c\ub7ab\ud3fc, \ucf58\uc194\ub85c \uc990\uae38 \uc218 \uc788\ub294 \uac8c\uc784\uacfc \uc774\ub97c \ud1b5\ud574 \uacbd\ud5d8\ud560 \uc218 \uc788\ub294 \uc720\uc800\ub4e4\uac04\uc758 \ub290\ub08c\uc744 \uacf5\uc720\ud558\uace0 \ucd94\ucc9c\ud574\uc904 \uc218 \uc788\ub294 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (\ubcf8 \uc0ac\uc774\ud2b8\ub294 PC\ud658\uacbd\uc5d0\uc11c \ucf8c\uc801\ud558\uac8c \uc774\uc6a9\uac00\ub2a5\ud569\ub2c8\ub2e4.)"}),(0,PL.jsx)("p",{children:"\ub2e4\uc591\ud55c \uac8c\uc784\uacfc \uc720\uc800\ub4e4\uc758 \uc0dd\uc0dd\ud55c \ud6c4\uae30\ub97c \ud655\uc778\ud574\ubcf4\uc138\uc694!!"})]})]})]})]}),(0,PL.jsx)("div",{className:Zq,children:(0,PL.jsxs)("div",{children:[(0,PL.jsx)("h2",{children:"Contact"}),(0,PL.jsx)("div",{className:Qq,children:(0,PL.jsx)("ul",{className:$q,children:[{label:"GitHub",value:"https://github.com/jspark9708"},{label:"GitHub Repo",value:"https://github.com/jspark9708/must-play-game"},{label:"Email",value:"flash246@naver.com"}].map((function(e,t){return(0,PL.jsxs)("li",{children:[(0,PL.jsxs)("strong",{children:[e.label,":"]})," ",(0,PL.jsx)("p",{children:e.value})]},t)}))})})]})})]})};var Jq=function(){var e=new mL,t=(0,r.useState)(!1),n=(0,o.Z)(t,2),i=n[0],a=n[1];function s(e){console.log(e),localStorage.setItem("emailCheck",e.emailVerified),localStorage.setItem("userDisplayName",e.displayName),localStorage.setItem("userPhotoURL",e.photoURL),localStorage.setItem("userEmail",e.email),localStorage.getItem("emailCheck")?a(!0):a(!1)}function u(){vL.auth().signOut().then((function(){a(!1),localStorage.removeItem("emailCheck"),localStorage.removeItem("userEmail"),a(!1)})).catch((function(e){console.error("\ub85c\uadf8\uc544\uc6c3 \uc5d0\ub7ec:",e)}))}return(0,PL.jsxs)("div",{className:"App",children:[(0,PL.jsx)(WL,{loginData:s,emailCheck:i,setEmailCheck:a,onLogin:function(){e.login().then((function(e){s(e.user)}))},onLogout:u}),(0,PL.jsxs)(Me,{children:[(0,PL.jsx)(De,{path:"/",element:(0,PL.jsx)(bM,{})}),(0,PL.jsx)(De,{path:"/PC",element:(0,PL.jsx)(NV,{})}),(0,PL.jsx)(De,{path:"/Switch",element:(0,PL.jsx)(PV,{})}),(0,PL.jsx)(De,{path:"/Playstation",element:(0,PL.jsx)(OV,{})}),(0,PL.jsx)(De,{path:"/Detail/:id",loginData:s,emailCheck:i,onLogout:u,element:(0,PL.jsx)(zq,{})}),(0,PL.jsx)(De,{path:"/About",element:(0,PL.jsx)(Yq,{})})]}),(0,PL.jsx)(RL,{})]})},Xq=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function ez(){var e=_e().pathname;return(0,r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}a.createRoot(document.getElementById("root")).render((0,PL.jsx)(r.StrictMode,{children:(0,PL.jsx)(AF,{store:IV,children:(0,PL.jsxs)(bL,{children:[(0,PL.jsx)(ez,{}),(0,PL.jsx)(Jq,{})]})})})),Xq()}()}();
//# sourceMappingURL=main.cd0f63df.js.map